{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/niyiogunwuyi/react/src/Tribute.js\";\nimport React from \"react\";\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\n\nimport Header from \"./common/Header.js\";\nimport Candle from \"./assets/images/icons/candle_white.png\";\nimport Rose from \"./assets/images/icons/rose_white.png\";\nimport Note from \"./assets/images/icons/note_white.png\";\nimport Candle2 from \"./assets/images/icons/candle_blue.png\";\nimport Rose2 from \"./assets/images/icons/rose_blue.png\";\nimport Note2 from \"./assets/images/icons/note_blue.png\";\nimport Pen from \"./assets/images/icons/pen.png\"; // import Song from \"./assets/sound/beiber.mp3\";\n\nvar _type, _name, _tribute;\n\nclass Tribute extends React.Component {\n  constructor(props) {\n    super(props); // let { user } = this.props.appstate;\n\n    this.handleTributePost = e => {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"fname\", _fname.value);\n      formData.append(\"lname\", _lname.value);\n      formData.append(\"phone\", _phone.value);\n      formData.append(\"image\", this.state.file);\n      formData.append(\"password\", _password.value);\n      console.log(formData);\n      axios({\n        method: 'post',\n        url: `${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`,\n        data: formData,\n        headers: {\n          'Authorization': `Bearer ${this.state.token}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        const {\n          id,\n          fname,\n          lname,\n          email,\n          phone,\n          renewal_date\n        } = json.data.user;\n        const {\n          token\n        } = json.data.token;\n        let userData = {\n          id,\n          fname,\n          lname,\n          email,\n          phone,\n          renewal_date,\n          token,\n          timestamp: new Date().toString()\n        };\n        let appState = {\n          isLoggedIn: true,\n          user: userData\n        }; // save app state with user date in local storage\n\n        localStorage[\"appState\"] = JSON.stringify(appState);\n        this.setState({\n          isLoggedIn: appState.isLoggedIn,\n          user: appState.user,\n          token: appState.token\n        });\n\n        if (json.data.success === true) {\n          swal(\"Updated!\", \"\" + json.data.message, \"success\", {\n            button: false,\n            timer: 1500\n          }); // redirect home\n          // this.props.history.push(\"/dashboard\");\n        } else {\n          // alert(json.data.message);\n          swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n          $(\"#email-login-btn\").removeAttr(\"disabled\").html(\"Update\");\n        }\n      }).catch(error => {\n        // alert(\"An Error Occured!\" + error);\n        console.log(error.response.data);\n\n        if (error.response.data.message.fname === \"\") {\n          swal(\"Warning!\", \"\" + error.response.data.message.fname, \"warning\");\n        } else {\n          swal(\"Warning!\", \"Please fill all fields\", \"warning\");\n        }\n      });\n    };\n\n    this.state = {\n      tributes: [],\n      currentPage: 1,\n      tributesPerPage: 10,\n      selectTribute: Candle2\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:8000/api/v1/tributes`).then(response => {\n      console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          tributes: json.data.tributes\n        });\n      } else alert(\"Fetching Tributes Failed!\");\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    });\n  }\n\n  iconSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Note2\n    });\n  }\n\n  render() {\n    const {\n      tributes,\n      currentPage,\n      tributesPerPage\n    } = this.state; // Logic for displaying tributes\n\n    const tributesList = this.state.tributes;\n    const indexOfLastTribute = currentPage * tributesPerPage;\n    const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n    const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n    const renderTributes = currentTributes.map((tribute, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v-card\",\n        key: tribute.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tribute-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, tribute.type === \"candle\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: Candle2,\n        className: \"tribute-icon\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 19\n        }\n      }) : tribute.type === \"rose\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: Rose2,\n        className: \"tribute-icon\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 21\n        }\n      }) : tribute.type === \"note\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: Note2,\n        className: \"tribute-icon\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 23\n        }\n      }) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"poster-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 19\n        }\n      }, \"Posted by \", tribute.name, \" on \", tribute.date), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 19\n        }\n      }, tribute.tribute))));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-canvas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-tribute-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 13\n      }\n    }, \"Leave a Tribute \", /*#__PURE__*/React.createElement(\"img\", {\n      src: Pen,\n      className: \"pen\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 56\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 100\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"remove-top-margin center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icons-set\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Candle,\n      className: \"post-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 77\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 21\n      }\n    }, \"Light a Candle\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Rose,\n      className: \"post-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 75\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, \"Lay a Flower\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Note,\n      className: \"post-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 75\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }\n    }, \"Leave a Note\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-tribute-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-tribute\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.selectTribute,\n      className: \"select-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      placeholder: \"Add your tribute text here...\",\n      name: \"tribute\",\n      type: \"text\",\n      class: \"form-control\",\n      maxlength: \"15000\",\n      cols: \"20\",\n      rows: \"5\",\n      id: \"tribute\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      name: \"name\",\n      placeholder: \"Please enter your name\",\n      type: \"text\",\n      class: \"form-control\",\n      id: \"name\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 19\n      }\n    }, \"Publish Tribute\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 43\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 13\n      }\n    }, \"Tributes \", /*#__PURE__*/React.createElement(\"img\", {\n      src: Pen,\n      className: \"pen\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 26\n      }\n    }))), renderTributes));\n  }\n\n} // module.exports = Tribute;\n\n\nexport default Tribute;","map":{"version":3,"sources":["/Users/hipheckt/codes/niyiogunwuyi/react/src/Tribute.js"],"names":["React","axios","Header","Candle","Rose","Note","Candle2","Rose2","Note2","Pen","_type","_name","_tribute","Tribute","Component","constructor","props","handleTributePost","e","preventDefault","formData","FormData","append","_fname","value","_lname","_phone","state","file","_password","console","log","method","url","defaults","baseURL","JSON","parse","localStorage","user","id","data","headers","token","then","response","json","fname","lname","email","phone","renewal_date","userData","timestamp","Date","toString","appState","isLoggedIn","stringify","setState","success","swal","message","button","timer","$","removeAttr","html","catch","error","tributes","currentPage","tributesPerPage","selectTribute","componentDidMount","get","alert","iconSwitch","render","tributesList","indexOfLastTribute","indexOfFirstTribute","currentTributes","slice","renderTributes","map","tribute","index","type","name","date"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\n\nimport Header from \"./common/Header.js\";\n\nimport Candle from \"./assets/images/icons/candle_white.png\";\nimport Rose from \"./assets/images/icons/rose_white.png\";\nimport Note from \"./assets/images/icons/note_white.png\";\nimport Candle2 from \"./assets/images/icons/candle_blue.png\";\nimport Rose2 from \"./assets/images/icons/rose_blue.png\";\nimport Note2 from \"./assets/images/icons/note_blue.png\";\nimport Pen from \"./assets/images/icons/pen.png\";\n\n// import Song from \"./assets/sound/beiber.mp3\";\n\nvar _type, _name, _tribute;\n\nclass Tribute extends React.Component {\n  constructor(props) {\n    super(props);\n    // let { user } = this.props.appstate;\n    this.state = {\n      tributes: [],\n      currentPage: 1,\n      tributesPerPage: 10,\n      selectTribute: Candle2\n    };\n  }\n\n  componentDidMount() {\n    axios\n      .get(`http://localhost:8000/api/v1/tributes`)\n      .then(response => {\n        console.log(response);\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n          this.setState({ tributes: json.data.tributes });\n        } else alert(\"Fetching Tributes Failed!\");\n      })\n      .catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n  iconSwitch(e) {\n    e.preventDefault();\n    this.setState(\n      {selectTribute: Note2}\n    );\n  }\n\n  handleTributePost = e => {\n    e.preventDefault();\n    \n    var formData = new FormData();\n    formData.append(\"fname\", _fname.value);\n    formData.append(\"lname\", _lname.value);\n    formData.append(\"phone\", _phone.value);\n    formData.append(\"image\", this.state.file);\n    formData.append(\"password\", _password.value);\n\n    console.log(formData);\n\n  axios({\n      method: 'post',\n      url: `${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`,\n      data: formData,\n      headers: {'Authorization': `Bearer ${this.state.token}`, 'Content-Type': 'multipart/form-data' }\n      })\n    .then(response => {\n      console.log(response);\n      return response;\n    })\n    .then(json => {\n      const { id, fname, lname, email, phone, renewal_date } = json.data.user;\n      const { token } = json.data.token;\n      let userData = {\n        id,\n        fname,\n        lname,\n        email,\n        phone,\n        renewal_date,\n        token,\n        timestamp: new Date().toString()\n      };\n      let appState = {\n        isLoggedIn: true,\n        user: userData\n      };\n      // save app state with user date in local storage\n      localStorage[\"appState\"] = JSON.stringify(appState);\n      this.setState({\n        isLoggedIn: appState.isLoggedIn,\n        user: appState.user,\n        token: appState.token\n      });\n\n      if (json.data.success === true) {\n        swal(\"Updated!\", \"\" + json.data.message, \"success\", {\n          button: false,\n          timer: 1500\n        });\n\n        // redirect home\n        // this.props.history.push(\"/dashboard\");\n      } else {\n        // alert(json.data.message);\n        swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n        $(\"#email-login-btn\")\n          .removeAttr(\"disabled\")\n          .html(\"Update\");\n      }\n\n    })\n    .catch(error => {\n      // alert(\"An Error Occured!\" + error);\n      console.log(error.response.data);\n      if(error.response.data.message.fname === \"\") {\n        swal(\"Warning!\", \"\" + error.response.data.message.fname, \"warning\");\n      } else{\n        swal(\"Warning!\", \"Please fill all fields\", \"warning\");\n      }\n    });\n\n  };\n\n\n  render() {\n\n    const { tributes, currentPage, tributesPerPage } = this.state;\n\n    // Logic for displaying tributes\n    const tributesList = this.state.tributes;\n    const indexOfLastTribute = currentPage * tributesPerPage;\n    const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n    const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n\n    const renderTributes = currentTributes.map((tribute, index) => {\n      return (\n          <div className=\"v-card\" key={tribute.id}>\n            <div className=\"tribute-card\">\n                <div className=\"post-icon\">\n                  {tribute.type === \"candle\" ? (\n                  <img src={Candle2} className=\"tribute-icon\" alt=\"\"/>\n                  ): tribute.type === \"rose\" ? (\n                    <img src={Rose2} className=\"tribute-icon\" alt=\"\"/>\n                    ): tribute.type === \"note\" ? (\n                      <img src={Note2} className=\"tribute-icon\" alt=\"\"/>\n                      ):\n                  null}\n                </div>\n                <div className=\"post-content\">\n                  <p className=\"poster-name\">Posted by {tribute.name} on {tribute.date}</p>\n                  <p className=\"post\">{tribute.tribute}</p>\n                </div>\n            </div>\n          </div>\n      );\n    });\n\n    return (\n      <div>\n        <Header/>\n        \n        <div className=\"center-canvas\">\n        <div className=\"post-tribute-card\">\n            <h4 className=\"text-white\">Leave a Tribute <img src={Pen} className=\"pen\" alt=\"\"/></h4><br/>\n            <div className=\"remove-top-margin center-content\">\n              <div className=\"icons-set\">\n                <div>\n                    <img src={Candle} className=\"post-tribute-icon\" alt=\"\"/><br/>\n                    <span>Light a Candle</span>\n                </div>\n                <div>\n                    <img src={Rose} className=\"post-tribute-icon\" alt=\"\"/><br/>\n                    <span>Lay a Flower</span>\n                </div>\n                <div>\n                    <img src={Note} className=\"post-tribute-icon\" alt=\"\"/><br/>\n                    <span>Leave a Note</span>\n                </div>\n              </div>\n            </div>\n            <div className=\"post-tribute-section\">\n              <div className=\"select-tribute\">\n                <img src={this.state.selectTribute} className=\"select-tribute-icon\" alt=\"\"/> \n              </div>\n              <div className=\"entry-form\">\n                <form>\n                  <div class=\"form-group\">\n                    <textarea placeholder=\"Add your tribute text here...\" name=\"tribute\" type=\"text\" class=\"form-control\" maxlength=\"15000\" cols=\"20\" rows=\"5\" id=\"tribute\"/>\n                  </div>\n                  <div class=\"form-group\">\n                    <input name=\"name\" placeholder=\"Please enter your name\" type=\"text\" class=\"form-control\" id=\"name\"/>\n                  </div>\n                  <button type=\"submit\" class=\"btn btn-primary float-right\">Publish Tribute</button>\n                </form>\n              </div>\n            </div>\n            <br/>\n            <br/>\n          </div>\n          <div className=\"center-content\"><br/>\n            <h4>Tributes <img src={Pen} className=\"pen\" alt=\"\"/></h4>\n          </div>\n            {renderTributes}\n        </div>\n      </div>\n    );\n  }\n}\n// module.exports = Tribute;\n\nexport default Tribute;\n"]},"metadata":{},"sourceType":"module"}