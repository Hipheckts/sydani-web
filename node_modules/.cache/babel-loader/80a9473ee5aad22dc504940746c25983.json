{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/evestng/react/src/Evest.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\nimport { Link } from \"react-router-dom\";\nexport class Evest extends Component {\n  constructor(props) {\n    super(props);\n\n    this.queryField = e => {\n      e.preventDefault();\n      this.setState({\n        query: e.target.value\n      });\n      axios.get(`${axios.defaults.baseURL}/search-homes/${this.state.query}`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.fetchHomes = e => {\n      axios.get(`${axios.defaults.baseURL}/homes`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.state = {\n      homes: [],\n      currentPage: \"\",\n      homesPerPage: 1,\n      query: \"\"\n    };\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n    $(\"#\" + `${event.target.id}`).attr(\"class\", \"pg-link active-link\");\n  }\n\n  componentDidMount() {\n    this.fetchHomes();\n  }\n\n  render() {\n    const {\n      homes,\n      currentPage,\n      homesPerPage\n    } = this.state; // Logic for displaying homes\n\n    const homesList = this.state.homes;\n    const indexOfLastHome = currentPage * homesPerPage;\n    const indexOfFirstHome = indexOfLastHome - homesPerPage;\n    const currentHomes = homesList.slice(indexOfFirstHome, indexOfLastHome);\n    const renderHomes = currentHomes.map((home, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        class: \"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\",\n        key: home.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"wrap dash-card-main bg-white position-relative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"wrap px-2 position-absolute w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"dash-card-main thumb bg-dark mt-2 shadow-xl bg-cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: home.image,\n        className: \"plan-img\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"wrap p-4 pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row mt-1 mb-2 pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"pt-2 col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        class: \"text-primary mb-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 7\n        }\n      }, \"\\u20A6\", home.price, \" \", home.type), /*#__PURE__*/React.createElement(\"span\", {\n        class: \"badge text-light badge-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 19\n        }\n      }, home.duration, \" Months\")))), /*#__PURE__*/React.createElement(\"hr\", {\n        class: \"mt-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        class: \"wrap px-4 pb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        class: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/view-home\",\n        class: \"btn w-100 btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 19\n        }\n      }, \"View\"))))));\n    }); // Logic for displaying page numbers\n\n    const pageNumbers = [];\n\n    for (let i = 1; i <= Math.ceil(homes.length / homesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pg-link\",\n        key: number,\n        id: number,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 9\n        }\n      }, number);\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"app\",\n      className: \"bg-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"private-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"main-app\",\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-primary py-2 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-welcome\",\n      style: {\n        overflow: \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 29\n      }\n    }, \"EVest\")), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"text-secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 27\n      }\n    }, \"Available Homes Listing\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row mt-4 align-items-stretch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 19\n      }\n    }, renderHomes)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 19\n      }\n    }, renderPageNumbers))))));\n  }\n\n}\nexport default Evest;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/Evest.js"],"names":["React","Component","axios","swal","$","Header","Sidebar","Link","Evest","constructor","props","queryField","e","preventDefault","setState","query","target","value","get","defaults","baseURL","state","then","response","console","log","json","data","success","homes","alert","catch","error","fetchHomes","currentPage","homesPerPage","handleClick","event","Number","id","attr","componentDidMount","render","homesList","indexOfLastHome","indexOfFirstHome","currentHomes","slice","renderHomes","map","home","index","image","price","type","duration","pageNumbers","i","Math","ceil","length","push","renderPageNumbers","number","overflow"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,OAAOC,CAAP,MAAc,QAAd;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,SAASC,IAAT,QAAqB,kBAArB;AAEA,OAAO,MAAMC,KAAN,SAAoBP,SAApB,CAA8B;AACnCQ,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAUnBC,UAVmB,GAULC,CAAD,IAAO;AAClBA,MAAAA,CAAC,CAACC,cAAF;AACA,WAAKC,QAAL,CAAc;AACZC,QAAAA,KAAK,EAAEH,CAAC,CAACI,MAAF,CAASC;AADJ,OAAd;AAGAf,MAAAA,KAAK,CACFgB,GADH,CACQ,GAAEhB,KAAK,CAACiB,QAAN,CAAeC,OAAQ,iBAAgB,KAAKC,KAAL,CAAWN,KAAM,EADlE,EAEGO,IAFH,CAESC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,eAAOA,QAAP;AACD,OALH,EAMGD,IANH,CAMSI,IAAD,IAAU;AACd,YAAIA,IAAI,CAACC,IAAL,CAAUC,OAAd,EAAuB;AACrB,eAAKd,QAAL,CAAc;AAAEe,YAAAA,KAAK,EAAEH,IAAI,CAACC,IAAL,CAAUE;AAAnB,WAAd;AACD,SAFD,MAEOC,KAAK,CAAC,wBAAD,CAAL;AACR,OAVH,EAWGC,KAXH,CAWUC,KAAD,IAAW;AAChBR,QAAAA,OAAO,CAACQ,KAAR,CAAe,qBAAoBA,KAAM,EAAzC;AACD,OAbH;AAcD,KA7BkB;;AAAA,SA2CnBC,UA3CmB,GA2CLrB,CAAD,IAAO;AAClBV,MAAAA,KAAK,CACFgB,GADH,CACQ,GAAEhB,KAAK,CAACiB,QAAN,CAAeC,OAAQ,QADjC,EAEGE,IAFH,CAESC,QAAD,IAAc;AAClBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACA,eAAOA,QAAP;AACD,OALH,EAMGD,IANH,CAMSI,IAAD,IAAU;AACd,YAAIA,IAAI,CAACC,IAAL,CAAUC,OAAd,EAAuB;AACrB,eAAKd,QAAL,CAAc;AAAEe,YAAAA,KAAK,EAAEH,IAAI,CAACC,IAAL,CAAUE;AAAnB,WAAd;AACD,SAFD,MAEOC,KAAK,CAAC,wBAAD,CAAL;AACR,OAVH,EAWGC,KAXH,CAWUC,KAAD,IAAW;AAChBR,QAAAA,OAAO,CAACQ,KAAR,CAAe,qBAAoBA,KAAM,EAAzC;AACD,OAbH;AAcD,KA1DkB;;AAEjB,SAAKX,KAAL,GAAa;AACXQ,MAAAA,KAAK,EAAE,EADI;AAEXK,MAAAA,WAAW,EAAE,EAFF;AAGXC,MAAAA,YAAY,EAAE,CAHH;AAIXpB,MAAAA,KAAK,EAAE;AAJI,KAAb;AAMD;;AAuBDqB,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjBA,IAAAA,KAAK,CAACxB,cAAN;AACA,SAAKC,QAAL,CAAc;AACZoB,MAAAA,WAAW,EAAEI,MAAM,CAACD,KAAK,CAACrB,MAAN,CAAauB,EAAd;AADP,KAAd;AAGAnC,IAAAA,CAAC,CAAC,MAAO,GAAEiC,KAAK,CAACrB,MAAN,CAAauB,EAAG,EAA1B,CAAD,CAA8BC,IAA9B,CAAmC,OAAnC,EAA4C,qBAA5C;AACD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKR,UAAL;AACD;;AAmBDS,EAAAA,MAAM,GAAG;AACP,UAAM;AAAEb,MAAAA,KAAF;AAASK,MAAAA,WAAT;AAAsBC,MAAAA;AAAtB,QAAuC,KAAKd,KAAlD,CADO,CAGP;;AACA,UAAMsB,SAAS,GAAG,KAAKtB,KAAL,CAAWQ,KAA7B;AACA,UAAMe,eAAe,GAAGV,WAAW,GAAGC,YAAtC;AACA,UAAMU,gBAAgB,GAAGD,eAAe,GAAGT,YAA3C;AACA,UAAMW,YAAY,GAAGH,SAAS,CAACI,KAAV,CAAgBF,gBAAhB,EAAkCD,eAAlC,CAArB;AAEA,UAAMI,WAAW,GAAGF,YAAY,CAACG,GAAb,CAAiB,CAACC,IAAD,EAAOC,KAAP,KAAiB;AACpD,0BACE;AACE,QAAA,KAAK,EAAC,gDADR;AAEE,QAAA,GAAG,EAAED,IAAI,CAACX,EAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAIE;AAAK,QAAA,KAAK,EAAC,gDAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,mCAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,sDAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AACE,QAAA,GAAG,EAAEW,IAAI,CAACE,KADZ;AAEE,QAAA,SAAS,EAAC,UAFZ;AAGE,QAAA,GAAG,EAAC,EAHN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,eAcE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdF,eAeE;AAAK,QAAA,KAAK,EAAC,eAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,oBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,UAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACV;AAAI,QAAA,KAAK,EAAC,mBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAgCF,IAAI,CAACG,KAArC,OAA6CH,IAAI,CAACI,IAAlD,CADU,eAEE;AAAM,QAAA,KAAK,EAAC,gCAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA8CJ,IAAI,CAACK,QAAnD,YAFF,CADF,CADF,CAfF,eAuBE;AAAI,QAAA,KAAK,EAAC,MAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAvBF,eAwBE;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,gBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,KAAK,EAAC,KAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE,oBAAC,IAAD;AAAM,QAAA,EAAE,EAAC,YAAT;AAAsB,QAAA,KAAK,EAAC,uBAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,CADF,CAxBF,CAJF,CADF;AAyCD,KA1CmB,CAApB,CATO,CAqDP;;AACA,UAAMC,WAAW,GAAG,EAApB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAIC,IAAI,CAACC,IAAL,CAAU9B,KAAK,CAAC+B,MAAN,GAAezB,YAAzB,CAArB,EAA6DsB,CAAC,EAA9D,EAAkE;AAChED,MAAAA,WAAW,CAACK,IAAZ,CAAiBJ,CAAjB;AACD;;AAED,UAAMK,iBAAiB,GAAGN,WAAW,CAACP,GAAZ,CAAiBc,MAAD,IAAY;AACpD,0BACE;AACE,QAAA,SAAS,EAAC,SADZ;AAEE,QAAA,GAAG,EAAEA,MAFP;AAGE,QAAA,EAAE,EAAEA,MAHN;AAIE,QAAA,OAAO,EAAE,KAAK3B,WAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMG2B,MANH,CADF;AAUD,KAXyB,CAA1B;AAaA,wBACE;AAAK,MAAA,EAAE,EAAC,KAAR;AAAc,MAAA,SAAS,EAAC,aAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFF,eAGE;AAAK,MAAA,EAAE,EAAC,UAAR;AAAmB,MAAA,SAAS,EAAC,mBAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AACE,MAAA,SAAS,EAAC,cADZ;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,QAAQ,EAAE;AAAZ,OAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAIE;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,CAJF,eAOE;AAAG,MAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAPF,CADF,CADF,eAcE;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAdF,CADF,CADF,eAmBE;AAAK,MAAA,KAAK,EAAC,8BAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEKhB,WAFL,CAnBF,CADF,eA0BI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGc,iBADH,CA1BJ,CAHF,CADF,CADF,CADF,CADF;AA0CD;;AA/KkC;AAkLrC,eAAetD,KAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\n\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\nimport { Link } from \"react-router-dom\";\n\nexport class Evest extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homes: [],\n      currentPage: \"\",\n      homesPerPage: 1,\n      query: \"\",\n    };\n  }\n\n  queryField = (e) => {\n    e.preventDefault();\n    this.setState({\n      query: e.target.value,\n    });\n    axios\n      .get(`${axios.defaults.baseURL}/search-homes/${this.state.query}`)\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id),\n    });\n    $(\"#\" + `${event.target.id}`).attr(\"class\", \"pg-link active-link\");\n  }\n\n  componentDidMount() {\n    this.fetchHomes();\n  }\n\n  fetchHomes = (e) => {\n    axios\n      .get(`${axios.defaults.baseURL}/homes`)\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  render() {\n    const { homes, currentPage, homesPerPage } = this.state;\n\n    // Logic for displaying homes\n    const homesList = this.state.homes;\n    const indexOfLastHome = currentPage * homesPerPage;\n    const indexOfFirstHome = indexOfLastHome - homesPerPage;\n    const currentHomes = homesList.slice(indexOfFirstHome, indexOfLastHome);\n\n    const renderHomes = currentHomes.map((home, index) => {\n      return (\n        <div\n          class=\"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\"\n          key={home.id}\n        >\n          <div class=\"wrap dash-card-main bg-white position-relative\">\n            <div class=\"wrap px-2 position-absolute w-100\">\n              <div class=\"dash-card-main thumb bg-dark mt-2 shadow-xl bg-cover\">\n                <img\n                  src={home.image}\n                  className=\"plan-img\"\n                  alt=\"\"\n                />\n              </div>\n            </div>\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <div class=\"wrap p-4 pt-5\">\n              <div class=\"row mt-1 mb-2 pt-5\">\n                <div class=\"pt-2 col\">\n      <h6 class=\"text-primary mb-0\">₦{home.price} {home.type}</h6>\n                  <span class=\"badge text-light badge-primary\">{home.duration} Months</span>\n                </div>\n              </div>\n            </div>\n            <hr class=\"mt-0\"></hr>\n            <div class=\"wrap px-4 pb-4\">\n              <div class=\"row no-gutters\">\n                <div class=\"col\">\n                  <Link to=\"/view-home\" class=\"btn w-100 btn-primary\">\n                    View\n                  </Link>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    });\n\n    // Logic for displaying page numbers\n    const pageNumbers = [];\n    for (let i = 1; i <= Math.ceil(homes.length / homesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map((number) => {\n      return (\n        <li\n          className=\"pg-link\"\n          key={number}\n          id={number}\n          onClick={this.handleClick}\n        >\n          {number}\n        </li>\n      );\n    });\n\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <div className=\"wrapper d-flex\">\n                            <h4 className=\"d-inline-block\">EVest</h4>\n                          </div>\n                          <p className=\"text-secondary\">\n                            Available Homes Listing\n                          </p>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  <div class=\"row mt-4 align-items-stretch\">\n                    {/* Product Listing */}\n                      {renderHomes}\n                    {/* End Product Listing */}\n                  </div>\n                </div>\n                  <div className=\"text-center\">\n                    {renderPageNumbers}\n                  </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Evest;\n"]},"metadata":{},"sourceType":"module"}