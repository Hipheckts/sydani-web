{"ast":null,"code":"import _objectSpread from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"./common/Header\";import{Link}from\"react-router-dom\";import Footer from\"./common/Footer\";import NumberFormat from\"react-number-format\";import{PaystackConsumer}from\"react-paystack\";import $ from\"jquery\";import ScriptTag from\"react-script-tag\";import AOS from\"aos\";import QRCode from\"qrcode.react\";import axios from\"axios\";import swal from\"sweetalert\";import CardIcon from\"./assets/images/gold-card-image.png\";import Avatar from\"./assets/img/default-user-avatar.png\";var _membership;export var Dashboard=/*#__PURE__*/function(_Component){_inherits(Dashboard,_Component);var _super=_createSuper(Dashboard);function Dashboard(props){var _this;_classCallCheck(this,Dashboard);_this=_super.call(this,props);_this.selectMembership=function(){_this.setState({planAmount:document.querySelector(\"#membership-select\").value});// console.log(this.state.planAmount);\n};_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[],isLoading:true,planAmount:\"0\"};AOS.init();return _this;}_createClass(Dashboard,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),{headers:{Authorization:\"Bearer \".concat(this.state.token)}}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0],isLoading:false});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});// alert(id)\n}},{key:\"render\",value:function render(){var _this3=this;var configNGN={// reference: (new Date()).getTime(),\n// email: \"hipheckt@gmail.com\",\nemail:this.state.user.email,// plan: this.state.plan,\namount:this.state.planAmount+\"00\",currency:\"NGN\",// publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\npublicKey:\"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\"};var componentPropsNGN=_objectSpread(_objectSpread({},configNGN),{},{text:\"Sapio Sibling Membership Fee\",onSuccess:function onSuccess(response){// console.log(response);\n$(\"#reg-button\").attr(\"disabled\",\"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Initiating Payment...</span>');_this3.setState({payment_ref:response.trxref});axios({method:\"get\",url:\"https://api.paystack.co/transaction/verify/\".concat(_this3.state.payment_ref),// headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\nheaders:{Authorization:\"Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73\",\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);return response;}).then(function(json){_this3.setState({auth_code:json.data.data.authorization.authorization_code});// swal(\n//   \"Success!\",\n//   this.state.auth_code,\n//   \"success\",\n//   {\n//     button: false,\n//     // timer: 1500,\n//   }\n// );\nvar formData=new FormData();formData.append(\"email\",_this3.state.user.email);formData.append(\"auth_code\",_this3.state.auth_code);formData.append(\"membership\",_membership.value);axios.post(\"\".concat(axios.defaults.baseURL,\"/register\"),formData).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){// alert(`Registration Successful!`);\nswal(\"Success!\",json.data.message,\"success\",{button:false,timer:1500});// redirect home\n_this3.props.history.push(\"/dashboard\");}else{// alert(`Registration Failed!`);\nswal(\"Failed\",\"Payment Failed\",\"error\");}}).catch(function(error){swal(\"Error!\",\"An Error Occured!\",\"error\",{button:false// timer: 1500\n});});});},onClose:function onClose(){return null;}});return this.state.isLoading?null:/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"body\",{className:\"page-overview  ac-gn-current-music\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"label\",{id:\"ac-ln-curtain\",for:\"ac-ln-menustate\"}),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",className:\"main\",role:\"main\",\"data-page-type\":\"overview\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll-sequence\",\"data-component-list\":\"ScrollSequence\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sequence-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image-sequence\"},/*#__PURE__*/React.createElement(\"div\",{className:\"canvas-container\"})))),/*#__PURE__*/React.createElement(\"section\",{id:\"section-hero\",className:\"section section-hero theme-dark\",\"data-anim-scroll-group\":\"section-hero\",\"data-analytics-fallback-section-engagement\":\"name:hero\",\"data-analytics-activitymap-region-id\":\"hero\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-copy-lockup align-text\"},/*#__PURE__*/React.createElement(\"div\",{className:\"copy-block col\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Hi \",this.state.user.fname,\" \",this.state.user.lname,\" \\uD83D\\uDE01,\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),\" Select any of the following services at a discounted price and pay for voucher.\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{ref:function ref(input){return _membership=input;},name:\"membership\",id:\"membership-select\",className:\"form-control input-field\",style:{height:\"50px\"},onChange:this.selectMembership},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select A Service\"),/*#__PURE__*/React.createElement(\"option\",{value:\"20000\"},\"Four Point Hotel (Standard Room - \\u20A620,000)\"),/*#__PURE__*/React.createElement(\"option\",{value:\"5000\"},\"Medplus (\\u20A65,000 Voucher)\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(PaystackConsumer,componentPropsNGN,function(_ref){var initializePayment=_ref.initializePayment;return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return swal(\"You are about to make payment for your Sapio Club Service\",{buttons:{cancel:\"No, Cancel\",catch:{text:\"Yes, Continue\",value:\"catch\"}}}).then(function(value){switch(value){case\"catch\":initializePayment();break;default:}});},id:\"reg-button\",name:\"register-button\",className:\"submit-button\",style:{marginTop:\"32px\"}},\"Pay for Voucher - \\u20A6\",_this3.state.planAmount);})))))));}}]);return Dashboard;}(Component);export default Dashboard;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/Spend.js"],"names":["React","Component","Header","Link","Footer","NumberFormat","PaystackConsumer","$","ScriptTag","AOS","QRCode","axios","swal","CardIcon","Avatar","_membership","Dashboard","props","selectMembership","setState","planAmount","document","querySelector","value","state","token","localStorage","JSON","parse","user","isLoading","init","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","catch","error","console","configNGN","email","amount","currency","publicKey","componentPropsNGN","text","onSuccess","attr","html","payment_ref","trxref","method","url","log","auth_code","authorization","authorization_code","formData","FormData","append","post","message","button","timer","history","push","onClose","fname","lname","input","height","initializePayment","buttons","cancel","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport Header from \"./common/Header\";\nimport { Link } from \"react-router-dom\";\nimport Footer from \"./common/Footer\";\n\nimport NumberFormat from \"react-number-format\";\nimport { PaystackConsumer } from \"react-paystack\";\nimport $ from \"jquery\";\n\nimport ScriptTag from \"react-script-tag\";\nimport AOS from \"aos\";\n\nimport QRCode from \"qrcode.react\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\nimport CardIcon from \"./assets/images/gold-card-image.png\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\n\nvar _membership;\n\nexport class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      isLoading: true,\n      planAmount: \"0\",\n    };\n    AOS.init();\n  }\n\n  componentDidMount() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            user: json.data.user[0],\n            isLoading: false\n          });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  selectMembership = () => {\n    this.setState({\n      planAmount: document.querySelector(\"#membership-select\").value\n    });\n    // console.log(this.state.planAmount);\n  };\n\n  render() {\n\n    const configNGN = {\n      // reference: (new Date()).getTime(),\n      // email: \"hipheckt@gmail.com\",\n      email: this.state.user.email,\n      // plan: this.state.plan,\n      amount: this.state.planAmount+\"00\",\n      currency: \"NGN\",\n      // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n      publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\",\n    };\n\n    const componentPropsNGN = {\n      ...configNGN,\n      text: \"Sapio Sibling Membership Fee\",\n      onSuccess: (response) => {\n        // console.log(response);\n\n        $(\"#reg-button\")\n          .attr(\"disabled\", \"disabled\")\n          .html(\n            '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Initiating Payment...</span>'\n          );\n\n        this.setState({\n          payment_ref: response.trxref,\n        });\n\n        axios({\n          method: \"get\",\n          url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n          // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n          headers: {\n            Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then((response) => {\n            console.log(response);\n            return response;\n          })\n          .then((json) => {\n\n            this.setState({\n              auth_code: json.data.data.authorization.authorization_code,\n            });\n\n            // swal(\n            //   \"Success!\",\n            //   this.state.auth_code,\n            //   \"success\",\n            //   {\n            //     button: false,\n            //     // timer: 1500,\n            //   }\n            // );\n\n            var formData = new FormData();\n            formData.append(\"email\", this.state.user.email);\n            formData.append(\"auth_code\", this.state.auth_code);\n            formData.append(\"membership\", _membership.value);\n\n            axios\n              .post(`${axios.defaults.baseURL}/register`, formData)\n              .then((response) => {\n                //console.log(response);\n                return response;\n              })\n              .then((json) => {\n                if (json.data.success) {\n                  // alert(`Registration Successful!`);\n                  swal(\"Success!\", json.data.message, \"success\", {\n                    button: false,\n                    timer: 1500,\n                  });\n                  // redirect home\n                  this.props.history.push(\"/dashboard\");\n                } else {\n                  // alert(`Registration Failed!`);\n                  swal(\"Failed\", \"Payment Failed\", \"error\");\n                }\n              })\n              .catch((error) => {\n                  swal(\"Error!\", \"An Error Occured!\", \"error\", {\n                  button: false,\n                  // timer: 1500\n                });\n              });\n          });\n      },\n      onClose: () => null,\n    };\n\n    return (\n      this.state.isLoading ? null : (\n        <>\n        <body className=\"page-overview  ac-gn-current-music\">\n      <Header />\n      <label id=\"ac-ln-curtain\" for=\"ac-ln-menustate\"></label>\n      <main id=\"main\" className=\"main\" role=\"main\" data-page-type=\"overview\">\n        <div className=\"scroll-sequence\" data-component-list=\"ScrollSequence\">\n          <div className=\"sequence-container\">\n            <div className=\"image-sequence\">\n              <div className=\"canvas-container\"></div>\n            </div>\n          </div>\n        </div>\n        <section\n          id=\"section-hero\"\n          className=\"section section-hero theme-dark\"\n          data-anim-scroll-group=\"section-hero\"\n          data-analytics-fallback-section-engagement=\"name:hero\"\n          data-analytics-activitymap-region-id=\"hero\"\n        >\n          <br />\n          <br />\n          <br />\n          <div className=\"flex-copy-lockup align-text\">\n            <div className=\"copy-block col\">\n              <h4>\n                Hi {this.state.user.fname} {this.state.user.lname} 😁,<br/><br/> Select any of the following services at a discounted price and pay for voucher.\n              </h4><br/>\n              <select\n                      ref={(input) => (_membership = input)}\n                      name=\"membership\"\n                      id=\"membership-select\"\n                      className=\"form-control input-field\" style={{height:\"50px\"}}\n                      onChange={this.selectMembership}\n                      >\n                <option value=\"\">Select A Service</option>\n                <option value=\"20000\">Four Point Hotel (Standard Room - ₦20,000)</option>\n                <option value=\"5000\">Medplus (₦5,000 Voucher)</option>\n              </select><br/>\n              <PaystackConsumer {...componentPropsNGN}>\n                    {({ initializePayment }) => (\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          swal(\n                            \"You are about to make payment for your Sapio Club Service\",\n                            {\n                              buttons: {\n                                cancel: \"No, Cancel\",\n                                catch: {\n                                  text: \"Yes, Continue\",\n                                  value: \"catch\",\n                                },\n                              },\n                            }\n                          ).then((value) => {\n                            switch (value) {\n                              case \"catch\":\n                                initializePayment();\n                                break;\n\n                              default:\n                            }\n                          })\n                        }\n                        id=\"reg-button\"\n                        name=\"register-button\"\n                        className=\"submit-button\"\n                        style={{ marginTop: \"32px\" }}\n                      >\n                        Pay for Voucher - ₦{this.state.planAmount}\n                      </button>\n                    )}\n                  </PaystackConsumer>\n            </div>\n            </div></section></main></body>\n        </>\n      ));\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}