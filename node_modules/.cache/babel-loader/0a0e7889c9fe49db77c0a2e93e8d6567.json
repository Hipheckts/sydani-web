{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/evestng/react/src/Plans.js\";\nimport React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\nimport { Link } from \"react-router-dom\";\nimport NumberFormat from 'react-number-format';\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\nexport class Plans extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).user.token : \"\",\n      user: [],\n      my_homes: []\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.getMyHomes();\n  }\n\n  getUser() {\n    axios.get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`, {\n      headers: {\n        'Authorization': `Bearer ${this.state.token}`\n      }\n    }).then(response => {\n      console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          user: json.data.user[0]\n        }); // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n\n      ;\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    }); // alert(id)\n  }\n\n  getMyHomes() {\n    var id = window.location.href.split(\"/\")[window.location.href.split(\"/\").length - 1];\n    axios.post(`${axios.defaults.baseURL}/my-homes/${id}`).then(response => {\n      console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          my_homes: json.data.home\n        });\n      } else {\n        console.log(`Cannot fetch data!`);\n      }\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"app\",\n      className: \"bg-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"private-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"main-app\",\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-title container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-primary py-2 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-welcome\",\n      style: {\n        overflow: \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 29\n      }\n    }, \"My Plans\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 23\n      }\n    }))), this.state.my_homes != \"\" ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 21\n      }\n    }) : /*#__PURE__*/React.createElement(\"div\", {\n      \"data-v-22924209\": \"\",\n      class: \"empty-placeholder dash-card bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 25\n      }\n    }, \" You have no active plans yet \")))))));\n  }\n\n}\nexport default Plans;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/Plans.js"],"names":["React","Component","Header","Sidebar","Link","NumberFormat","axios","swal","$","Plans","constructor","props","state","token","localStorage","JSON","parse","user","my_homes","componentDidMount","getUser","getMyHomes","get","defaults","baseURL","id","headers","then","response","console","log","json","data","success","setState","catch","error","window","location","href","split","length","post","home","render","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\n\nimport { Link } from \"react-router-dom\";\n\nimport NumberFormat from 'react-number-format';\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nexport class Plans extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n              ? JSON.parse(localStorage[\"appState\"]).user.token\n              : \"\",\n            user: [],\n      my_homes: [],\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.getMyHomes();\n    \n  }\n\n  getUser(){\n    axios\n            .get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`,\n            {\n              headers: {\n                'Authorization': `Bearer ${this.state.token}`\n              }\n            }\n            )\n            .then(response => {\n              console.log(response);\n              return response;\n            })\n            .then(json => {\n              if (json.data.success) {\n                this.setState({ user: json.data.user[0] });\n              // } else alert(\"Cannot Fetch Data!\");\n              } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");;\n            })\n            .catch(error => {\n              console.error(`An Error Occured! ${error}`);\n            });\n            // alert(id)\n  }\n\n  getMyHomes(){\n\n    var id = window.location.href.split(\"/\")[\n      window.location.href.split(\"/\").length - 1\n    ];\n    axios\n      .post(`${axios.defaults.baseURL}/my-homes/${id}`)\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            my_homes: json.data.home,\n          });\n        } else {\n          console.log(`Cannot fetch data!`);\n        }\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n\n  render() {\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title container\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div className=\"user-welcome\" style={{overflow:\"hidden\"}}>\n                          <div className=\"wrapper d-flex\">\n                            <h4 className=\"d-inline-block\">My Plans</h4>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  { this.state.my_homes != \"\" ? (\n                    <div></div>\n                  ) :\n                      (\n                        <div data-v-22924209=\"\" class=\"empty-placeholder dash-card bg-white\"> You have no active plans yet </div>\n                        )\n                  }\n                </div>\n              </div>\n          </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Plans;\n"]},"metadata":{},"sourceType":"module"}