{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/sapioclub/react/src/auth/Register.js\";\nimport React, { Component } from \"react\";\nimport { Link, Redirect, Route } from \"react-router-dom\";\nimport Header from \"../common/Header\";\nimport Footer from \"../common/Footer\";\nimport ScriptTag from \"react-script-tag\";\nimport NumberFormat from \"react-number-format\";\nimport { PaystackConsumer } from \"react-paystack\";\nimport AOS from \"aos\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nvar _fname, _lname, _email, _phone, _country, _password;\n\nexport class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth_code: \"\"\n    };\n  }\n\n  render() {\n    const isLoggedIn = localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).isLoggedIn : \"\";\n    const configNGN = {\n      // reference: (new Date()).getTime(),\n      email: \"hipheckt@gmail.com\",\n      // plan: this.state.plan,\n      amount: \"100000\" + \"00\",\n      currency: \"NGN\",\n      // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n      publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\"\n    };\n    const componentPropsNGN = { ...configNGN,\n      text: \"Sapio Sibling Registration\",\n      onSuccess: response => {\n        // console.log(response);\n        $(\"#reg-button\").attr(\"disabled\", \"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Creating Account...</span>');\n        this.setState({\n          payment_ref: response.trxref\n        });\n        axios({\n          method: \"get\",\n          url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n          // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n          headers: {\n            Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(response => {\n          console.log(response);\n          return response;\n        }).then(json => {\n          this.setState({\n            auth_code: json.data.data.authorization.authorization_code\n          }); // swal(\n          //   \"Success!\",\n          //   this.state.auth_code,\n          //   \"success\",\n          //   {\n          //     button: false,\n          //     // timer: 1500,\n          //   }\n          // );\n\n          var formData = new FormData();\n          formData.append(\"fname\", _fname.value);\n          formData.append(\"lname\", _lname.value);\n          formData.append(\"email\", _email.value);\n          formData.append(\"phone\", _phone.value);\n          formData.append(\"country\", _country.value);\n          formData.append(\"password\", _password.value);\n          formData.append(\"auth_code\", this.state.auth_code);\n          axios.post(`${axios.defaults.baseURL}/register`, formData).then(response => {\n            //console.log(response);\n            return response;\n          }).then(json => {\n            if (json.data.success) {\n              // alert(`Registration Successful!`);\n              swal(\"Success!\", json.data.message, \"success\", {\n                button: false,\n                timer: 1500\n              });\n              const {\n                id,\n                fname,\n                lname,\n                email,\n                phone\n              } = json.data.user;\n              const {\n                token\n              } = json.data.token;\n              let userData = {\n                id,\n                fname,\n                lname,\n                email,\n                phone,\n                token,\n                timestamp: new Date().toString()\n              };\n              let appState = {\n                isLoggedIn: true,\n                user: userData\n              }; // save app state with user date in local storage\n\n              localStorage[\"appState\"] = JSON.stringify(appState);\n              this.setState({\n                isLoggedIn: appState.isLoggedIn,\n                user: appState.user,\n                token: appState.token\n              }); // redirect home\n\n              this.props.history.push(\"/dashboard\");\n            } else {\n              // alert(`Registration Failed!`);\n              swal(\"Failed\", \"Registration Failed\", \"error\");\n              $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n            }\n          }).catch(error => {\n            // alert(\"An Error Occured!\" + error);\n            let res = (error.response.data.message.fname || \"\") + (error.response.data.message.lname || \"\") + (error.response.data.message.email || \"\") + (error.response.data.message.phone || \"\") + (error.response.data.message.country || \"\") + (error.response.data.message.password || \"\");\n            swal(\"Error!\", \"\" + res, \"error\", {\n              button: false // timer: 1500\n\n            }); //console.log(error);\n\n            $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n          });\n        });\n      },\n      onClose: () => null\n    };\n    return isLoggedIn ? /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/dashboard\",\n        state: {\n          from: \"/register\"\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }\n    }) : /*#__PURE__*/React.createElement(\"body\", {\n      className: \"page-overview  ac-gn-current-music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"section-battery\",\n      className: \"section section-battery theme-dark\",\n      \"data-anim-scroll-group\": \"section-battery\",\n      \"data-analytics-fallback-section-engagement\": \"name:battery\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"copy-scroll-container\",\n      \"data-component-list\": \"CopyMagic\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sticky-copy-lockup flex-copy-lockup intro\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\",\n      \"data-copy\": \"0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"typography-section-eyebrow align-text default-text\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 17\n      }\n    }, \"Become a Sapio Sibling!\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"firstname\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 23\n      }\n    }, \"Firstname\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _fname = input,\n      type: \"firstname\",\n      name: \"firstname\",\n      id: \"firstname\",\n      className: \"form-control input-field\",\n      placeholder: \"Firstname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"lastname\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 23\n      }\n    }, \"Lastname\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _lname = input,\n      type: \"lastname\",\n      name: \"lastname\",\n      id: \"lastname\",\n      className: \"form-control input-field\",\n      placeholder: \"Lastname\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"email\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 23\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _email = input,\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      className: \"form-control input-field\",\n      placeholder: \"Email Address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"password\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 23\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _password = input,\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      className: \"form-control input-field\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 21\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"telephone\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 21\n      }\n    }, \"Telephone\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _phone = input,\n      type: \"telephone\",\n      name: \"telephone\",\n      id: \"telephone\",\n      className: \"form-control input-field\",\n      placeholder: \"Telephone\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      for: \"country\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 23\n      }\n    }, \"Country\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 23\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _country = input,\n      type: \"country\",\n      name: \"country\",\n      id: \"country\",\n      className: \"form-control input-field\",\n      placeholder: \"Country\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(PaystackConsumer, Object.assign({}, componentPropsNGN, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 25\n      }\n    }), ({\n      initializePayment\n    }) => /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => swal(\"You will be required to pay a membership fee of ₦100,000\", {\n        buttons: {\n          cancel: \"No, Cancel\",\n          catch: {\n            text: \"Yes, Continue\",\n            value: \"catch\"\n          }\n        }\n      }).then(value => {\n        switch (value) {\n          case \"catch\":\n            initializePayment();\n            break;\n\n          default:\n        }\n      }),\n      id: \"reg-button\",\n      name: \"register-button\",\n      className: \"submit-button\",\n      style: {\n        marginTop: \"32px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 25\n      }\n    }, \"Register Account\"))))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ScriptTag, {\n      type: \"text/javascript\",\n      src: \"../assets/js/built.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nexport default Register;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/auth/Register.js"],"names":["React","Component","Link","Redirect","Route","Header","Footer","ScriptTag","NumberFormat","PaystackConsumer","AOS","axios","swal","$","_fname","_lname","_email","_phone","_country","_password","Register","constructor","props","state","auth_code","render","isLoggedIn","localStorage","JSON","parse","configNGN","email","amount","currency","publicKey","componentPropsNGN","text","onSuccess","response","attr","html","setState","payment_ref","trxref","method","url","headers","Authorization","then","console","log","json","data","authorization","authorization_code","formData","FormData","append","value","post","defaults","baseURL","success","message","button","timer","id","fname","lname","phone","user","token","userData","timestamp","Date","toString","appState","stringify","history","push","removeAttr","catch","error","res","country","password","onClose","pathname","from","input","initializePayment","buttons","cancel","marginTop"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Link, Redirect, Route } from \"react-router-dom\";\n\nimport Header from \"../common/Header\";\nimport Footer from \"../common/Footer\";\n\nimport ScriptTag from \"react-script-tag\";\nimport NumberFormat from \"react-number-format\";\nimport { PaystackConsumer } from \"react-paystack\";\n\nimport AOS from \"aos\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nvar _fname, _lname, _email, _phone, _country, _password;\n\nexport class Register extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      auth_code: \"\",\n    };\n  }\n\n  render() {\n    const isLoggedIn = localStorage[\"appState\"]\n      ? JSON.parse(localStorage[\"appState\"]).isLoggedIn\n      : \"\";\n\n    const configNGN = {\n      // reference: (new Date()).getTime(),\n      email: \"hipheckt@gmail.com\",\n      // plan: this.state.plan,\n      amount: \"100000\" + \"00\",\n      currency: \"NGN\",\n      // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n      publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\",\n    };\n\n    const componentPropsNGN = {\n      ...configNGN,\n      text: \"Sapio Sibling Registration\",\n      onSuccess: (response) => {\n        // console.log(response);\n\n        $(\"#reg-button\")\n          .attr(\"disabled\", \"disabled\")\n          .html(\n            '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Creating Account...</span>'\n          );\n\n        this.setState({\n          payment_ref: response.trxref,\n        });\n\n        axios({\n          method: \"get\",\n          url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n          // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n          headers: {\n            Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n            \"Content-Type\": \"application/json\",\n          },\n        })\n          .then((response) => {\n            console.log(response);\n            return response;\n          })\n          .then((json) => {\n\n            this.setState({\n              auth_code: json.data.data.authorization.authorization_code,\n            });\n\n            // swal(\n            //   \"Success!\",\n            //   this.state.auth_code,\n            //   \"success\",\n            //   {\n            //     button: false,\n            //     // timer: 1500,\n            //   }\n            // );\n\n            var formData = new FormData();\n            formData.append(\"fname\", _fname.value);\n            formData.append(\"lname\", _lname.value);\n            formData.append(\"email\", _email.value);\n            formData.append(\"phone\", _phone.value);\n            formData.append(\"country\", _country.value);\n            formData.append(\"password\", _password.value);\n            formData.append(\"auth_code\", this.state.auth_code);\n\n            axios\n              .post(`${axios.defaults.baseURL}/register`, formData)\n              .then((response) => {\n                //console.log(response);\n                return response;\n              })\n              .then((json) => {\n                if (json.data.success) {\n                  // alert(`Registration Successful!`);\n                  swal(\"Success!\", json.data.message, \"success\", {\n                    button: false,\n                    timer: 1500,\n                  });\n                  const { id, fname, lname, email, phone } = json.data.user;\n                  const { token } = json.data.token;\n                  let userData = {\n                    id,\n                    fname,\n                    lname,\n                    email,\n                    phone,\n                    token,\n                    timestamp: new Date().toString(),\n                  };\n                  let appState = {\n                    isLoggedIn: true,\n                    user: userData,\n                  };\n                  // save app state with user date in local storage\n                  localStorage[\"appState\"] = JSON.stringify(appState);\n                  this.setState({\n                    isLoggedIn: appState.isLoggedIn,\n                    user: appState.user,\n                    token: appState.token,\n                  });\n                  // redirect home\n                  this.props.history.push(\"/dashboard\");\n                } else {\n                  // alert(`Registration Failed!`);\n                  swal(\"Failed\", \"Registration Failed\", \"error\");\n                  $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n                }\n              })\n              .catch((error) => {\n                // alert(\"An Error Occured!\" + error);\n                let res =\n                  (error.response.data.message.fname || \"\") +\n                  (error.response.data.message.lname || \"\") +\n                  (error.response.data.message.email || \"\") +\n                  (error.response.data.message.phone || \"\") +\n                  (error.response.data.message.country || \"\") +\n                  (error.response.data.message.password || \"\");\n                swal(\"Error!\", \"\" + res, \"error\", {\n                  button: false,\n                  // timer: 1500\n                });\n                //console.log(error);\n                $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n              });\n          });\n      },\n      onClose: () => null,\n    };\n    return isLoggedIn ? (\n      <Redirect to={{ pathname: \"/dashboard\", state: { from: \"/register\" } }} />\n    ) : (\n      <body className=\"page-overview  ac-gn-current-music\">\n        <Header />\n        <section\n          id=\"section-battery\"\n          className=\"section section-battery theme-dark\"\n          data-anim-scroll-group=\"section-battery\"\n          data-analytics-fallback-section-engagement=\"name:battery\"\n        >\n          <div\n            className=\"copy-scroll-container\"\n            data-component-list=\"CopyMagic\"\n          >\n            <div className=\"sticky-copy-lockup flex-copy-lockup intro\">\n              <div className=\"\" data-copy=\"0\">\n                <p className=\"typography-section-eyebrow align-text default-text\">\n                  Become a Sapio Sibling!\n                </p>\n                {/* <form id=\"reg\" onSubmit={handleRegistration} method=\"post\"> */}\n                <form>\n                  <div className=\"row\">\n                    <div className=\"form-group col\">\n                      <label for=\"firstname\" className=\"sr-only\">\n                        Firstname\n                      </label>\n                      <br />\n                      <input\n                        ref={(input) => (_fname = input)}\n                        type=\"firstname\"\n                        name=\"firstname\"\n                        id=\"firstname\"\n                        className=\"form-control input-field\"\n                        placeholder=\"Firstname\"\n                      />\n                    </div>\n                    <div className=\"form-group col\">\n                      <label for=\"lastname\" className=\"sr-only\">\n                        Lastname\n                      </label>\n                      <br />\n                      <input\n                        ref={(input) => (_lname = input)}\n                        type=\"lastname\"\n                        name=\"lastname\"\n                        id=\"lastname\"\n                        className=\"form-control input-field\"\n                        placeholder=\"Lastname\"\n                      />\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"form-group col\">\n                      <label for=\"email\" className=\"sr-only\">\n                        Email\n                      </label>\n                      <br />\n                      <input\n                        ref={(input) => (_email = input)}\n                        type=\"email\"\n                        name=\"email\"\n                        id=\"email\"\n                        className=\"form-control input-field\"\n                        placeholder=\"Email Address\"\n                      />\n                    </div>\n                    <div className=\"form-group col\">\n                      <label for=\"password\" className=\"sr-only\">\n                      Password\n                    </label>\n                    <br />\n                    <input\n                      ref={(input) => (_password = input)}\n                      type=\"password\"\n                      name=\"password\"\n                      id=\"password\"\n                      className=\"form-control input-field\"\n                      placeholder=\"Password\"\n                    />\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"form-group col\">\n                    <label for=\"telephone\" className=\"sr-only\">\n                        Telephone\n                      </label>\n                      <br />\n                      <input\n                        ref={(input) => (_phone = input)}\n                        type=\"telephone\"\n                        name=\"telephone\"\n                        id=\"telephone\"\n                        className=\"form-control input-field\"\n                        placeholder=\"Telephone\"\n                      />\n                    </div>\n                    <div className=\"form-group col\">\n                      <label for=\"country\" className=\"sr-only\">\n                        Country\n                      </label>\n                      <br />\n                      <input\n                        ref={(input) => (_country = input)}\n                        type=\"country\"\n                        name=\"country\"\n                        id=\"country\"\n                        className=\"form-control input-field\"\n                        placeholder=\"Country\"\n                      />\n                    </div>\n                  </div><PaystackConsumer {...componentPropsNGN}>\n                      {({ initializePayment }) => (\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            swal(\n                              \"You will be required to pay a membership fee of ₦100,000\",\n                              {\n                                buttons: {\n                                  cancel: \"No, Cancel\",\n                                  catch: {\n                                    text: \"Yes, Continue\",\n                                    value: \"catch\",\n                                  },\n                                },\n                              }\n                            ).then((value) => {\n                              switch (value) {\n                                case \"catch\":\n                                  initializePayment();\n                                  break;\n\n                                default:\n                              }\n                            })\n                          }\n                          id=\"reg-button\"\n                          name=\"register-button\"\n                          className=\"submit-button\"\n                          style={{ marginTop: \"32px\" }}\n                        >\n                          Register Account\n                        </button>\n                      )}\n                    </PaystackConsumer>\n                </form>\n              </div>\n            </div>\n          </div>\n        </section>\n        {/*/main*/}\n        <Footer />\n        {/* Template Main JS File */}\n        <ScriptTag\n          type=\"text/javascript\"\n          src=\"../assets/js/built.js\"\n        />\n      </body>\n    );\n  }\n}\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}