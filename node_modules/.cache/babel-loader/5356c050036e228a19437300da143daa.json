{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"./common/Header\";import Sidebar from\"./common/Sidebar\";import{Link}from\"react-router-dom\";import NumberFormat from\"react-number-format\";import axios from\"axios\";import swal from\"sweetalert\";import $ from\"jquery\";export var Plans=/*#__PURE__*/function(_Component){_inherits(Plans,_Component);var _super=_createSuper(Plans);function Plans(props){var _this;_classCallCheck(this,Plans);_this=_super.call(this,props);_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[],my_homes:[],my_lands:[],isLoading:true};return _this;}_createClass(Plans,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUser();this.getMyHomes();this.getMyLands();}},{key:\"getUser\",value:function getUser(){var _this2=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),{headers:{Authorization:\"Bearer \".concat(this.state.token)}}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0]});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});// alert(id)\n}},{key:\"getMyHomes\",value:function getMyHomes(){var _this3=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/my-homes/\").concat(JSON.parse(localStorage[\"appState\"]).user.id)).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this3.setState({my_homes:json.data.my_homes,isLoading:false});}else{//console.log(`Cannot fetch data!`);\n}}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});}},{key:\"getMyLands\",value:function getMyLands(){var _this4=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/my-lands/\").concat(JSON.parse(localStorage[\"appState\"]).user.id)).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this4.setState({my_lands:json.data.my_homes,isLoading:false});}else{//console.log(`Cannot fetch data!`);\n}}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});}},{key:\"makePayment\",value:function makePayment(id){var formData=new FormData();formData.append(\"user_email\",JSON.parse(localStorage[\"appState\"]).user.email);axios({method:\"post\",url:\"\".concat(axios.defaults.baseURL,\"/make-payment/\").concat(id),data:formData}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){swal(\"Success!\",\"Payment was Successful!\",\"success\",{button:false,timer:1500});}else{swal(\"Failed!\",\"Payment was not Successful!\",\"error\",{button:false,timer:1500});}});this.getMyHomes();this.getMyLands();}},{key:\"render\",value:function render(){var _this5=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"app\",className:\"bg-gray-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"private-layout\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-wrapper\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{id:\"main-app\",className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-primary py-2 pt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-welcome\",style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper d-flex\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"d-inline-block\"},\"My Plans\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right col-2\"}))),/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"My Evest Plans\")))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main mt-2 bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.my_homes!=\"\"?/*#__PURE__*/React.createElement(\"div\",null,this.state.my_homes.map(function(my_homes,index){return/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 text-center\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"view-home/\".concat(my_homes.name)}},/*#__PURE__*/React.createElement(\"img\",{src:my_homes.image,className:\"plan-img p-2\",alt:\"\"})),/*#__PURE__*/React.createElement(\"button\",{// onClick={this.makePayment.bind(this, my_homes.id)}\nonClick:function onClick(){return swal(\"your linked bank card will now be charged, Are you sure you want to make Payment?\",{buttons:{cancel:\"No, Cancel\",catch:{text:\"Yes, Continue\",value:\"catch\"}}}).then(function(value){switch(value){case\"catch\":_this5.setState({isLoading:true});var formData=new FormData();formData.append(\"user_email\",JSON.parse(localStorage[\"appState\"]).user.email);axios({method:\"post\",url:\"\".concat(axios.defaults.baseURL,\"/make-payment/\").concat(my_homes.id),data:formData}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this5.getMyHomes();_this5.getMyLands();swal(\"Success!\",\"Payment was Successful!\",\"success\",{button:false,timer:1500});}else{swal(\"Failed!\",\"Payment was not Successful!\",\"error\",{button:false,timer:1500});}});break;default:}});},className:\"btn mr-2 btn-warning mb-2\",style:{fontSize:\"16px\"}},\"Monthly Payment\"),/*#__PURE__*/React.createElement(\"button\",{// onClick={this.makePayment.bind(this, my_lands.id)}\nonClick:function onClick(){return swal({text:'Enter the amount you want to pay (e.g '+\"\".concat(my_homes.price)+'), your linked bank card will be debited this amount.',content:\"input\",button:{text:\"Make Payment\",closeModal:false}}).then(function(name){if(!name)throw null;_this5.setState({isLoading:true});var formData=new FormData();formData.append(\"user_email\",JSON.parse(localStorage[\"appState\"]).user.email);formData.append(\"flexi_amount\",name);axios({method:\"post\",url:\"\".concat(axios.defaults.baseURL,\"/make-flexipayment/\").concat(my_homes.id),data:formData}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this5.getMyHomes();_this5.getMyLands();swal(\"Payment Successful!\",\"Payment added Successfully!\",\"success\",{button:false,timer:1500});}else{swal(\"Failed!\",\"Error Adding Payment!\",\"error\",{button:false,timer:1500});}});}).catch(function(err){if(err){swal(\"Oh noes!\",\"The AJAX request failed!\",\"error\");}else{swal.stopLoading();swal.close();}});},className:\"btn mr-2 btn-warning mb-2\",style:{fontSize:\"16px\"}},\"Flexi Payment\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-primary mb-1 titlecase\"},my_homes.name),/*#__PURE__*/React.createElement(\"h6\",{className:\"text-primary mb-0 titlecase\"},/*#__PURE__*/React.createElement(NumberFormat,{value:my_homes.price,displayType:\"text\",thousandSeparator:true,prefix:\"‚Ç¶\"}),\" \",my_homes.type),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Payments:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NumberFormat,{value:my_homes.payments*my_homes.price,displayType:\"text\",thousandSeparator:true,prefix:\"‚Ç¶\"}),\" \",\"(\",my_homes.payments,\")\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Duration:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_homes.duration,\" \",my_homes.type==\"monthly\"?\"Months\":my_homes.type==\"weekly\"?\"Weeks\":null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Total:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NumberFormat,{value:my_homes.total,displayType:\"text\",thousandSeparator:true,prefix:\"‚Ç¶\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"green\"}},\"LAST PAYMENT:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_homes.payment_date)),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"green\"}},\"START DATE:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_homes.start_date)),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"END DATE:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_homes.end_date)))))));})):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"You have no active evest plans yet.\")),/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"My Landvest Plans\")))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main mt-2 bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.my_lands!=\"\"?/*#__PURE__*/React.createElement(\"div\",null,this.state.my_lands.map(function(my_lands,index){return/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 text-center\"},/*#__PURE__*/React.createElement(Link,{to:{pathname:\"view-home/\".concat(my_lands.name)}},/*#__PURE__*/React.createElement(\"img\",{src:my_lands.image,className:\"plan-img p-2\",alt:\"\"})),/*#__PURE__*/React.createElement(\"button\",{// onClick={this.makePayment.bind(this, my_lands.id)}\nonClick:function onClick(){return swal(\"your linked bank card will now be charged, Are you sure you want to make Payment?\",{buttons:{cancel:\"No, Cancel\",catch:{text:\"Yes, Continue\",value:\"catch\"}}}).then(function(value){switch(value){case\"catch\":_this5.setState({isLoading:true});var formData=new FormData();formData.append(\"user_email\",JSON.parse(localStorage[\"appState\"]).user.email);axios({method:\"post\",url:\"\".concat(axios.defaults.baseURL,\"/make-payment/\").concat(my_lands.id),data:formData}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this5.getMyHomes();_this5.getMyLands();swal(\"Success!\",\"Payment was Successful!\",\"success\",{button:false,timer:1500});}else{swal(\"Failed!\",\"Payment was not Successful!\",\"error\",{button:false,timer:1500});}});break;default:}});},className:\"btn mr-2 btn-warning mb-2\"},\"Monthly Payment\"),/*#__PURE__*/React.createElement(\"button\",{// onClick={this.makePayment.bind(this, my_lands.id)}\nonClick:function onClick(){return swal({text:'Enter the amount you want to pay (e.g '+\"\".concat(my_lands.price)+'), your linked bank card will be debited this amount.',content:\"input\",button:{text:\"Make Payment\",closeModal:false}}).then(function(name){if(!name)throw null;_this5.setState({isLoading:true});var formData=new FormData();formData.append(\"user_email\",JSON.parse(localStorage[\"appState\"]).user.email);formData.append(\"flexi_amount\",name);axios({method:\"post\",url:\"\".concat(axios.defaults.baseURL,\"/make-flexipayment/\").concat(my_lands.id),data:formData}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this5.getMyHomes();_this5.getMyLands();swal(\"Payment Successful!\",\"Payment added Successfully!\",\"success\",{button:false,timer:1500});}else{swal(\"Failed!\",\"Error Adding Payment!\",\"error\",{button:false,timer:1500});}});}).catch(function(err){if(err){swal(\"Oh noes!\",\"The AJAX request failed!\",\"error\");}else{swal.stopLoading();swal.close();}});},className:\"btn mr-2 btn-warning mb-2\",style:{fontSize:\"16px\"}},\"Flexi Payment\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"text-primary mb-1 titlecase\"},my_lands.name),/*#__PURE__*/React.createElement(\"h6\",{className:\"text-primary mb-0 titlecase\"},/*#__PURE__*/React.createElement(NumberFormat,{value:my_lands.price,displayType:\"text\",thousandSeparator:true,prefix:\"‚Ç¶\"}),\" \",my_lands.type),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-2\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Payments:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NumberFormat,{value:my_lands.payments*my_lands.price,displayType:\"text\",thousandSeparator:true,prefix:\"‚Ç¶\"}),\" \",\"(\",my_lands.payments,\")\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Duration:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_lands.duration,\" \",my_lands.type==\"monthly\"?\"Months\":my_lands.type==\"weekly\"?\"Weeks\":null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Total:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(NumberFormat,{value:my_lands.total,displayType:\"text\",thousandSeparator:true,prefix:\"‚Ç¶\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"green\"}},\"LAST PAYMENT:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_lands.payment_date)),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"green\"}},\"START DATE:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_lands.start_date)),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"span\",{style:{color:\"red\"}},\"END DATE:\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),my_lands.end_date)))))));})):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"You have no active landvest plans yet.\")))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)))));}}]);return Plans;}(Component);export default Plans;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/Plans.js"],"names":["React","Component","Header","Sidebar","Link","NumberFormat","axios","swal","$","Plans","props","state","token","localStorage","JSON","parse","user","my_homes","my_lands","isLoading","getUser","getMyHomes","getMyLands","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","setState","catch","error","console","formData","FormData","append","email","method","url","button","timer","overflow","map","index","pathname","name","image","buttons","cancel","text","value","fontSize","price","content","closeModal","err","stopLoading","close","type","payments","duration","total","color","payment_date","start_date","end_date"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\n\nimport { Link } from \"react-router-dom\";\n\nimport NumberFormat from \"react-number-format\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nexport class Plans extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      my_homes: [],\n      my_lands: [],\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n    this.getMyHomes();\n    this.getMyLands();\n  }\n\n  getUser() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ user: json.data.user[0] });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  getMyHomes() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/my-homes/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            my_homes: json.data.my_homes,\n            isLoading: false,\n          });\n        } else {\n          //console.log(`Cannot fetch data!`);\n        }\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n  getMyLands() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/my-lands/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            my_lands: json.data.my_homes,\n            isLoading: false,\n          });\n        } else {\n          //console.log(`Cannot fetch data!`);\n        }\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n  makePayment(id) {\n    var formData = new FormData();\n    formData.append(\n      \"user_email\",\n      JSON.parse(localStorage[\"appState\"]).user.email\n    );\n\n    axios({\n      method: \"post\",\n      url: `${axios.defaults.baseURL}/make-payment/${id}`,\n      data: formData,\n    })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          swal(\"Success!\", \"Payment was Successful!\", \"success\", {\n            button: false,\n            timer: 1500,\n          });\n        } else {\n          swal(\"Failed!\", \"Payment was not Successful!\", \"error\", {\n            button: false,\n            timer: 1500,\n          });\n        }\n      });\n    this.getMyHomes();\n    this.getMyLands();\n  }\n\n  render() {\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <div className=\"wrapper d-flex\">\n                            <h4 className=\"d-inline-block\">My Plans</h4>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  <table class=\"table\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">My Evest Plans</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white mb-4\"\n                    >\n                      <div className=\"dash-card-main mt-2 bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.my_homes != \"\" ? (\n                        <div>\n                          {this.state.my_homes.map((my_homes, index) => (\n                            <div\n                              data-v-22924209=\"\"\n                              class=\"dash-card-plan bg-white mb-4\"\n                            >\n                              <div className=\"row\">\n                                <div className=\"col-md-4 text-center\">\n                                  <Link\n                                    to={{\n                                      pathname: `view-home/${my_homes.name}`,\n                                    }}\n                                  >\n                                    <img\n                                      src={my_homes.image}\n                                      className=\"plan-img p-2\"\n                                      alt=\"\"\n                                    />\n                                  </Link>\n                                  {/* {my_homes.payments < my_homes.duration ? ( */}\n                                    \n                                  <button\n                                    // onClick={this.makePayment.bind(this, my_homes.id)}\n                                    onClick={() =>\n                                      swal(\n                                        \"your linked bank card will now be charged, Are you sure you want to make Payment?\",\n                                        {\n                                          buttons: {\n                                            cancel: \"No, Cancel\",\n                                            catch: {\n                                              text: \"Yes, Continue\",\n                                              value: \"catch\",\n                                            },\n                                          },\n                                        }\n                                      ).then((value) => {\n                                        switch (value) {\n                                          case \"catch\":\n                                            this.setState({\n                                              isLoading: true\n                                            });\n                                            var formData = new FormData();\n                                            formData.append(\n                                              \"user_email\",\n                                              JSON.parse(\n                                                localStorage[\"appState\"]\n                                              ).user.email\n                                            );\n\n                                            axios({\n                                              method: \"post\",\n                                              url: `${axios.defaults.baseURL}/make-payment/${my_homes.id}`,\n                                              data: formData,\n                                            })\n                                              .then((response) => {\n                                                //console.log(response);\n                                                return response;\n                                              })\n                                              .then((json) => {\n                                                if (json.data.success) {\n                                                  this.getMyHomes();\n                                                  this.getMyLands();\n                                                  swal(\n                                                    \"Success!\",\n                                                    \"Payment was Successful!\",\n                                                    \"success\",\n                                                    {\n                                                      button: false,\n                                                      timer: 1500,\n                                                    }\n                                                  );\n                                                } else {\n                                                  swal(\n                                                    \"Failed!\",\n                                                    \"Payment was not Successful!\",\n                                                    \"error\",\n                                                    {\n                                                      button: false,\n                                                      timer: 1500,\n                                                    }\n                                                  );\n                                                }\n                                              });\n                                            break;\n                                          default:\n                                        }\n                                      })\n                                    }\n                                    className=\"btn mr-2 btn-warning mb-2\"\n                                  style={{fontSize:\"16px\"}}>\n                                    Monthly Payment\n                                  </button>\n                                  <button\n                                // onClick={this.makePayment.bind(this, my_lands.id)}\n                                onClick={() =>\n                                  swal({\n                                    text: 'Enter the amount you want to pay (e.g ' + `${my_homes.price}` + '), your linked bank card will be debited this amount.',\n                                    content: \"input\",\n                                    button: {\n                                      text: \"Make Payment\",\n                                      closeModal: false,\n                                    },\n                                  })\n                                  .then(name => {\n                                    if (!name) throw null;\n\n                                    this.setState({\n                                      isLoading: true\n                                    });\n                                    var formData = new FormData();\n                                    formData.append(\n                                      \"user_email\",\n                                      JSON.parse(\n                                        localStorage[\"appState\"]\n                                      ).user.email\n                                    );\n                                    formData.append(\n                                      \"flexi_amount\", name);\n\n                                    axios({\n                                      method: \"post\",\n                                      url: `${axios.defaults.baseURL}/make-flexipayment/${my_homes.id}`,\n                                      data: formData,\n                                    })\n                                      .then(response => {\n                                        //console.log(response);\n                                        return response;\n                                      })\n                                            .then((json) => {\n                                              if (json.data.success) {\n                                                this.getMyHomes();\n                                                this.getMyLands();\n                                                swal(\n                                                  \"Payment Successful!\",\n                                                  \"Payment added Successfully!\",\n                                                  \"success\",\n                                                  {\n                                                    button: false,\n                                                    timer: 1500,\n                                                  }\n                                                );\n                                              } else {\n                                                swal(\n                                                  \"Failed!\",\n                                                  \"Error Adding Payment!\",\n                                                  \"error\",\n                                                  {\n                                                    button: false,\n                                                    timer: 1500,\n                                                  }\n                                                );\n                                              }\n                                            });\n                                      })\n                                  .catch(err => {\n                                    if (err) {\n                                      swal(\"Oh noes!\", \"The AJAX request failed!\", \"error\");\n                                    } else {\n                                      swal.stopLoading();\n                                      swal.close();\n                                    }\n                                  })\n                                }\n                                    className=\"btn mr-2 btn-warning mb-2\"\n                                    style={{fontSize:\"16px\"}}>\n                                    Flexi Payment\n                                  </button>\n                                  {/* ) :\n                                    <div className=\"blink_me\">CongratulationsüèÖ<br/>You are now a Home Owner</div>\n                                } */}\n                                </div>\n                                <div className=\"col-md-8\">\n                                  <div className=\"p-4\">\n                                    <h5 className=\"text-primary mb-1 titlecase\">\n                                      {my_homes.name}\n                                    </h5>\n                                    <h6 className=\"text-primary mb-0 titlecase\">\n                                      <NumberFormat\n                                        value={my_homes.price}\n                                        displayType={\"text\"}\n                                        thousandSeparator={true}\n                                        prefix={\"‚Ç¶\"}\n                                      />{\" \"}\n                                      {my_homes.type}\n                                    </h6>\n                                    <br />\n                                    <div className=\"row mb-2\">\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <b>Payments:</b> <br />\n                                          <NumberFormat\n                                            value={\n                                              my_homes.payments * my_homes.price\n                                            }\n                                            displayType={\"text\"}\n                                            thousandSeparator={true}\n                                            prefix={\"‚Ç¶\"}\n                                          />{\" \"}\n                                          ({my_homes.payments})\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <b>Duration:</b> <br />\n                                          {my_homes.duration}{\" \"}\n                                          {my_homes.type == \"monthly\"\n                                            ? \"Months\"\n                                            : my_homes.type == \"weekly\"\n                                            ? \"Weeks\"\n                                            : null}\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <b>Total:</b> <br />\n                                          <NumberFormat\n                                            value={my_homes.total}\n                                            displayType={\"text\"}\n                                            thousandSeparator={true}\n                                            prefix={\"‚Ç¶\"}\n                                          />\n                                        </p>\n                                      </div>\n                                    </div>\n                                    <div className=\"row\">\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <span style={{ color: \"green\" }}>\n                                            LAST PAYMENT:\n                                          </span>{\" \"}\n                                          <br />\n                                          {my_homes.payment_date}\n                                          {/* {format(Date(my_homes.created_at), \"MMMM Do, YYYY\")} */}\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <span style={{ color: \"green\" }}>\n                                            START DATE:\n                                          </span>{\" \"}\n                                          <br />\n                                          {my_homes.start_date}\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <span style={{ color: \"red\" }}>\n                                            END DATE:\n                                          </span>{\" \"}\n                                          <br />\n                                          {my_homes.end_date}\n                                        </p>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          You have no active evest plans yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                  <table class=\"table\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">My Landvest Plans</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white mb-4\"\n                    >\n                      <div className=\"dash-card-main mt-2 bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.my_lands != \"\" ? (\n                        <div>\n                          {this.state.my_lands.map((my_lands, index) => (\n                            <div\n                              data-v-22924209=\"\"\n                              class=\"dash-card-plan bg-white mb-4\"\n                            >\n                              <div className=\"row\">\n                                <div className=\"col-md-4 text-center\">\n                                  <Link\n                                    to={{\n                                      pathname: `view-home/${my_lands.name}`,\n                                    }}\n                                  >\n                                    <img\n                                      src={my_lands.image}\n                                      className=\"plan-img p-2\"\n                                      alt=\"\"\n                                    />\n                                  </Link>\n                                  {/* {my_lands.payments < my_lands.duration ? ( */}\n                                  <button\n                                    // onClick={this.makePayment.bind(this, my_lands.id)}\n                                    onClick={() =>\n                                      swal(\n                                        \"your linked bank card will now be charged, Are you sure you want to make Payment?\",\n                                        {\n                                          buttons: {\n                                            cancel: \"No, Cancel\",\n                                            catch: {\n                                              text: \"Yes, Continue\",\n                                              value: \"catch\",\n                                            },\n                                          },\n                                        }\n                                      ).then((value) => {\n                                        switch (value) {\n                                          case \"catch\":\n                                            this.setState({\n                                              isLoading: true\n                                            });\n                                            var formData = new FormData();\n                                            formData.append(\n                                              \"user_email\",\n                                              JSON.parse(\n                                                localStorage[\"appState\"]\n                                              ).user.email\n                                            );\n\n                                            axios({\n                                              method: \"post\",\n                                              url: `${axios.defaults.baseURL}/make-payment/${my_lands.id}`,\n                                              data: formData,\n                                            })\n                                              .then((response) => {\n                                                //console.log(response);\n                                                return response;\n                                              })\n                                              .then((json) => {\n                                                if (json.data.success) {\n                                                  this.getMyHomes();\n                                                  this.getMyLands();\n                                                  swal(\n                                                    \"Success!\",\n                                                    \"Payment was Successful!\",\n                                                    \"success\",\n                                                    {\n                                                      button: false,\n                                                      timer: 1500,\n                                                    }\n                                                  );\n                                                } else {\n                                                  swal(\n                                                    \"Failed!\",\n                                                    \"Payment was not Successful!\",\n                                                    \"error\",\n                                                    {\n                                                      button: false,\n                                                      timer: 1500,\n                                                    }\n                                                  );\n                                                }\n                                              });\n                                            break;\n                                          default:\n                                        }\n                                      })\n                                    }\n                                    className=\"btn mr-2 btn-warning mb-2\"\n                                  >\n                                    Monthly Payment\n                                    </button>\n                                    <button\n                                // onClick={this.makePayment.bind(this, my_lands.id)}\n                                onClick={() =>\n                                  swal({\n                                    text: 'Enter the amount you want to pay (e.g ' + `${my_lands.price}` + '), your linked bank card will be debited this amount.',\n                                    content: \"input\",\n                                    button: {\n                                      text: \"Make Payment\",\n                                      closeModal: false,\n                                    },\n                                  })\n                                  .then(name => {\n                                    if (!name) throw null;\n\n                                    this.setState({\n                                      isLoading: true\n                                    });\n                                    var formData = new FormData();\n                                    formData.append(\n                                      \"user_email\",\n                                      JSON.parse(\n                                        localStorage[\"appState\"]\n                                      ).user.email\n                                    );\n                                    formData.append(\n                                      \"flexi_amount\", name);\n\n                                    axios({\n                                      method: \"post\",\n                                      url: `${axios.defaults.baseURL}/make-flexipayment/${my_lands.id}`,\n                                      data: formData,\n                                    })\n                                      .then(response => {\n                                        //console.log(response);\n                                        return response;\n                                      })\n                                            .then((json) => {\n                                              if (json.data.success) {\n                                                this.getMyHomes();\n                                                this.getMyLands();\n                                                swal(\n                                                  \"Payment Successful!\",\n                                                  \"Payment added Successfully!\",\n                                                  \"success\",\n                                                  {\n                                                    button: false,\n                                                    timer: 1500,\n                                                  }\n                                                );\n                                              } else {\n                                                swal(\n                                                  \"Failed!\",\n                                                  \"Error Adding Payment!\",\n                                                  \"error\",\n                                                  {\n                                                    button: false,\n                                                    timer: 1500,\n                                                  }\n                                                );\n                                              }\n                                            });\n                                      })\n                                  .catch(err => {\n                                    if (err) {\n                                      swal(\"Oh noes!\", \"The AJAX request failed!\", \"error\");\n                                    } else {\n                                      swal.stopLoading();\n                                      swal.close();\n                                    }\n                                  })\n                                }\n                                    className=\"btn mr-2 btn-warning mb-2\"\n                                    style={{fontSize:\"16px\"}}>\n                                    Flexi Payment\n                                  </button>\n                                  {/* ) :\n                                    <div className=\"blink_me\">CongratulationsüèÖ<br/>You are now a Land Owner</div>\n                                } */}\n                                </div>\n                                <div className=\"col-md-8\">\n                                  <div className=\"p-4\">\n                                    <h5 className=\"text-primary mb-1 titlecase\">\n                                      {my_lands.name}\n                                    </h5>\n                                    <h6 className=\"text-primary mb-0 titlecase\">\n                                      <NumberFormat\n                                        value={my_lands.price}\n                                        displayType={\"text\"}\n                                        thousandSeparator={true}\n                                        prefix={\"‚Ç¶\"}\n                                      />{\" \"}\n                                      {my_lands.type}\n                                    </h6>\n                                    <br />\n                                    <div className=\"row mb-2\">\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <b>Payments:</b> <br />\n                                          <NumberFormat\n                                            value={\n                                              my_lands.payments * my_lands.price\n                                            }\n                                            displayType={\"text\"}\n                                            thousandSeparator={true}\n                                            prefix={\"‚Ç¶\"}\n                                          />{\" \"}\n                                          ({my_lands.payments})\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <b>Duration:</b> <br />\n                                          {my_lands.duration}{\" \"}\n                                          {my_lands.type == \"monthly\"\n                                            ? \"Months\"\n                                            : my_lands.type == \"weekly\"\n                                            ? \"Weeks\"\n                                            : null}\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <b>Total:</b> <br />\n                                          <NumberFormat\n                                            value={my_lands.total}\n                                            displayType={\"text\"}\n                                            thousandSeparator={true}\n                                            prefix={\"‚Ç¶\"}\n                                          />\n                                        </p>\n                                      </div>\n                                    </div>\n                                    <div className=\"row\">\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <span style={{ color: \"green\" }}>\n                                            LAST PAYMENT:\n                                          </span>{\" \"}\n                                          <br />\n                                          {my_lands.payment_date}\n                                          {/* {format(Date(my_lands.created_at), \"MMMM Do, YYYY\")} */}\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <span style={{ color: \"green\" }}>\n                                            START DATE:\n                                          </span>{\" \"}\n                                          <br />\n                                          {my_lands.start_date}\n                                        </p>\n                                      </div>\n                                      <div className=\"col\">\n                                        <p className=\"mb-1 titlecase\">\n                                          <span style={{ color: \"red\" }}>\n                                            END DATE:\n                                          </span>{\" \"}\n                                          <br />\n                                          {my_lands.end_date}\n                                        </p>\n                                      </div>\n                                    </div>\n                                  </div>\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          You have no active landvest plans yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              </div>\n              <br />\n              <br />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Plans;\n"]},"metadata":{},"sourceType":"module"}