{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"../common/Header\";import Sidebar from\"./Sidebar\";import{Link}from\"react-router-dom\";import NumberFormat from\"react-number-format\";import axios from\"axios\";import swal from\"sweetalert\";import $ from\"jquery\";export var UserDetails=/*#__PURE__*/function(_Component){_inherits(UserDetails,_Component);var _super=_createSuper(UserDetails);function UserDetails(props){var _this;_classCallCheck(this,UserDetails);_this=_super.call(this,props);_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[],user_referrals:[],user_earnings:[],total_earnings:\"\"};return _this;}_createClass(UserDetails,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUser();}},{key:\"getUser\",value:function getUser(){var _this2=this;var id=window.location.href.split(\"/\")[window.location.href.split(\"/\").length-1];axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(id),{headers:{Authorization:\"Bearer \".concat(this.state.token)}}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0],user_referrals:json.data.user_referrals,user_earnings:json.data.user_earnings,total_earnings:json.data.total_earnings});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});// alert(id)\n}},{key:\"makeAdmin\",value:function makeAdmin(id){axios({method:'get',url:\"\".concat(axios.defaults.baseURL,\"/make-admin/\").concat(id)}).then(function(response){//console.log(response);\nreturn response;});}},{key:\"donePayment\",value:function donePayment(id){axios({method:'get',url:\"\".concat(axios.defaults.baseURL,\"/done-ref-payment/\").concat(id)}).then(function(response){//console.log(response);\nreturn response;});this.getUser();}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"app\",className:\"bg-gray-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"private-layout\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-wrapper\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{id:\"main-app\",className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-primary py-2 pt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-welcome\",style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(Link,{to:\"/admin/users-list\"},/*#__PURE__*/React.createElement(\"i\",{className:\"ti-arrow-left\"}),\" Back to Users List\"),/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper d-flex mt-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"d-inline-block\"},\"View User\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right col-2\"}))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-4 text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.user.image,className:\"user-img p-2\",alt:\"\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null),this.state.user.type==1?/*#__PURE__*/React.createElement(Link,{onClick:this.makeAdmin.bind(this,this.state.user.id),className:\"btn mr-2 btn-warning\"},\"Make User Admin\"):null),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-8\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},\"Personal Details\")),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Firstname: \",this.state.user.fname))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Lastname: \",this.state.user.lname)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Residential Address: \",this.state.user.address)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},/*#__PURE__*/React.createElement(\"b\",null,\"Email: \",this.state.user.email))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Telephone: \",this.state.user.phone)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},/*#__PURE__*/React.createElement(\"b\",null,\"Date of Birth: \",this.state.user.dob))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Marital Status: \",this.state.user.mstatus)))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-4\"},\"Next of Kin\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Fullname: \",this.state.user.kfullname)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Address: \",this.state.user.kaddress)))),/*#__PURE__*/React.createElement(\"div\",{className:\"row mb-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},/*#__PURE__*/React.createElement(\"b\",null,\"Email: \",this.state.user.kemail))),/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1 titlecase\"},/*#__PURE__*/React.createElement(\"b\",null,\"Telephone: \",this.state.user.kphone)))))))))),/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"table\",{class:\"mt-4 table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"User Earnings\")))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.user_earnings!=\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-stretch\"},/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,this.state.user_earnings.map(function(earning,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,earning.date),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:earning.commission,displayType:'text',thousandSeparator:true,prefix:'₦'}),\" \"),earning.status==1?/*#__PURE__*/React.createElement(\"td\",null,\"Paid\"):earning.status==2?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"td\",null,\"Payment Requested\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"text-primary\",style:{background:\"none\",border:\"none\"},onClick:_this3.donePayment.bind(_this3,earning.id)},\"Payment Done\"))):null);}),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Total Earnings\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:this.state.total_earnings,displayType:'text',thousandSeparator:true,prefix:'₦'}),\" \"))))):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"User has no earnings yet.\")),/*#__PURE__*/React.createElement(\"table\",{class:\"mt-4 table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"User Referrals\")))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.user_referrals!=\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-stretch\"},/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,this.state.user_referrals.map(function(user,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,user.fname),/*#__PURE__*/React.createElement(\"td\",null,user.lname),/*#__PURE__*/React.createElement(\"td\",null,user.email));})))):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"User has no referrals yet.\"))))))));}}]);return UserDetails;}(Component);export default UserDetails;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/admin/UserDetails.js"],"names":["React","Component","Header","Sidebar","Link","NumberFormat","axios","swal","$","UserDetails","props","state","token","localStorage","JSON","parse","user","user_referrals","user_earnings","total_earnings","getUser","id","window","location","href","split","length","get","defaults","baseURL","headers","Authorization","then","response","json","data","success","setState","catch","error","console","method","url","overflow","image","type","makeAdmin","bind","fname","lname","address","email","phone","dob","mstatus","kfullname","kaddress","kemail","kphone","isLoading","map","earning","index","date","commission","status","background","border","donePayment"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\n\nimport { Link } from \"react-router-dom\";\n\nimport NumberFormat from \"react-number-format\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nexport class UserDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      user_referrals: [],\n      user_earnings: [],\n      total_earnings: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  getUser() {\n    let id = window.location.href.split(\"/\")[\n      window.location.href.split(\"/\").length - 1\n    ];\n\n    axios\n      .get(`${axios.defaults.baseURL}/user/${id}`, {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`,\n        },\n      })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ user: json.data.user[0], \n            user_referrals: json.data.user_referrals,\n            user_earnings: json.data.user_earnings,\n            total_earnings: json.data.total_earnings, });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  makeAdmin(id) {\n\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/make-admin/${id}`\n        })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n  };\n\n  donePayment(id) {\n\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/done-ref-payment/${id}`\n        })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      });\n      this.getUser();\n  };\n\n  render() {\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <Link to=\"/admin/users-list\">\n                            <i className=\"ti-arrow-left\"></i> Back to Users List\n                          </Link>\n                          <div className=\"wrapper d-flex mt-2\">\n                            <h4 className=\"d-inline-block\">\n                              View User\n                            </h4>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n\n                  <div>\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white mb-4\"\n                    >\n                      <div className=\"row\">\n                        <div className=\"col-md-4 text-center\">\n                            <img src={this.state.user.image} className=\"user-img p-2\" alt=\"\" />\n                            <br/>\n                            <br/>\n                            {this.state.user.type == 1 ? (\n                              <Link onClick={this.makeAdmin.bind(this, this.state.user.id)} className=\"btn mr-2 btn-warning\">\n                                  Make User Admin\n                              </Link>\n                            ) : null\n                            }\n                        </div>\n                        <div className=\"col-md-8\">\n                          <div className=\"p-4\">\n                          <div className=\"\">\n                                  <h5 className=\"mb-0\">Personal Details</h5>\n                                </div>\n                            <br />\n                            <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                  <b>Firstname: {this.state.user.fname}</b>\n                                </p>\n                              </div>\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                    <b>Lastname: {this.state.user.lname}</b>\n                                    </p>\n                              </div>\n                            </div>\n                            <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                  <b>Residential Address: {this.state.user.address}</b>\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1\">\n                                  <b>Email: {this.state.user.email}</b>\n                                </p>\n                              </div>\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                    <b>Telephone: {this.state.user.phone}</b>\n                                    </p>\n                              </div>\n                            </div>\n                            <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1\">\n                                  <b>Date of Birth: {this.state.user.dob}</b>\n                                </p>\n                              </div>\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                    <b>Marital Status: {this.state.user.mstatus}</b>\n                                    </p>\n                              </div>\n                            </div>\n                            <br/>\n                            <div className=\"\">\n                                  <h5 className=\"mb-4\">Next of Kin</h5>\n                                </div>\n                                <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                  <b>Fullname: {this.state.user.kfullname}</b>\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                  <b>Address: {this.state.user.kaddress}</b>\n                                </p>\n                              </div>\n                            </div>\n                            <div className=\"row mb-4\">\n                              <div className=\"col\">\n                                <p className=\"mb-1\">\n                                  <b>Email: {this.state.user.kemail}</b>\n                                </p>\n                              </div>\n                              <div className=\"col\">\n                                <p className=\"mb-1 titlecase\">\n                                    <b>Telephone: {this.state.user.kphone}</b>\n                                    </p>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div className='container'>\n                <table class=\"mt-4 table\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">User Earnings</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white\"\n                    >\n                      <div className=\"dash-card-main bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.user_earnings != \"\" ? (\n                        <div className=\"align-items-stretch\">\n                          <table class=\"table\">\n                            <tbody>\n                              {this.state.user_earnings.map((earning, index) => (\n                                <tr>\n                                  <td>{earning.date}</td>\n                                  <td><NumberFormat value={earning.commission} displayType={'text'} thousandSeparator={true} prefix={'₦'} /> </td>\n                                  \n                                  {earning.status == 1 ?\n                                  <td>Paid</td>\n                                  : earning.status == 2 ? (\n                                  <>\n                                    <td>Payment Requested</td>\n                                    <td>\n                                        <button\n                                        className=\"text-primary\"\n                                        style={{background:\"none\", border:\"none\"}}\n                                        onClick={this.donePayment.bind(this, earning.id)}\n                                        >\n                                            Payment Done\n                                        </button>\n                                    </td>\n                                  </>\n                                  ): null}\n                                </tr>\n                              ))}\n                              <tr>\n                                  <td><b>Total Earnings</b></td>\n                                  <td><NumberFormat value={this.state.total_earnings} displayType={'text'} thousandSeparator={true} prefix={'₦'} /> </td>\n                                </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          User has no earnings yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                  <table class=\"mt-4 table\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">User Referrals</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white\"\n                    >\n                      <div className=\"dash-card-main bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.user_referrals != \"\" ? (\n                        <div className=\"align-items-stretch\">\n                          <table class=\"table\">\n                            <tbody>\n                              {this.state.user_referrals.map((user, index) => (\n                                <tr>\n                                  <td>{index+1}</td>\n                                  <td>{user.fname}</td>\n                                  <td>{user.lname}</td>\n                                  <td>{user.email}</td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          User has no referrals yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UserDetails;\n"]},"metadata":{},"sourceType":"module"}