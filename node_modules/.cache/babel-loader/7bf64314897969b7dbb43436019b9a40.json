{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/niyiogunwuyi/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/niyiogunwuyi/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/niyiogunwuyi/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/niyiogunwuyi/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";// import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\nimport swal from'sweetalert';import $ from\"jquery\";import Header from\"./common/Header.js\";import Candle from\"./assets/images/icons/candle_white.png\";import Rose from\"./assets/images/icons/rose_white.png\";import Note from\"./assets/images/icons/note_white.png\";import Candle2 from\"./assets/images/icons/candle_blue.png\";import Rose2 from\"./assets/images/icons/rose_blue.png\";import Note2 from\"./assets/images/icons/note_blue.png\";import Pen from\"./assets/images/icons/pen.png\";var _type,_name,_tribute;var Tribute=/*#__PURE__*/function(_React$Component){_inherits(Tribute,_React$Component);var _super=_createSuper(Tribute);function Tribute(props){var _this;_classCallCheck(this,Tribute);_this=_super.call(this,props);// let { user } = this.props.appstate;\n_this.fetchTributes=function(e){axios.get(\"\".concat(axios.defaults.baseURL,\"/tributes\")).then(function(response){console.log(response);return response;}).then(function(json){if(json.data.success){_this.setState({tributes:json.data.tributes});}else alert(\"Fetching Tributes Failed!\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});};_this.handleTributePost=function(e){e.preventDefault();var formData=new FormData();formData.append(\"type\",\"candle\");// formData.append(\"type\", _type.value);\nformData.append(\"name\",_name.value);formData.append(\"tribute\",_tribute.value);console.log(formData);axios({method:'post',url:\"\".concat(axios.defaults.baseURL,\"/tribute\"),data:formData}).then(function(response){console.log(response);return response;}).then(function(json){var _json$data$tribute=json.data.tribute,id=_json$data$tribute.id,type=_json$data$tribute.type,name=_json$data$tribute.name,tribute=_json$data$tribute.tribute;var tributeData={id:id,type:type,name:name,tribute:tribute,timestamp:new Date().toString()};var appState={tribute:tributeData};// save app state with user date in local storage\nlocalStorage[\"appState\"]=JSON.stringify(appState);_this.setState({tribute:appState.tribute});if(json.data.success===true){swal(\"Published!\",\"\"+json.data.message,\"success\",{button:false,timer:1500});$(\"#name-input\").val('');$(\"#tribute-input\").val('');_this.fetchTributes();// redirect home\n// this.props.history.push(\"/dashboard\");\n}else{// alert(json.data.message);\nswal(\"Alert!\",\"\"+json.data.message,\"warning\");}}).catch(function(error){// alert(\"An Error Occured!\" + error);\nconsole.log(error.response.data);swal(\"Warning!\",\"\"+error.response.data.message.tribute,\"warning\");});};_this.state={tributes:[],currentPage:1,tributesPerPage:10,selectTribute:Candle2};return _this;}_createClass(Tribute,[{key:\"componentDidMount\",value:function componentDidMount(){this.fetchTributes();}},{key:\"iconSwitch\",value:function iconSwitch(e){e.preventDefault();this.setState({selectTribute:Note2});}},{key:\"render\",value:function render(){var _this$state=this.state,currentPage=_this$state.currentPage,tributesPerPage=_this$state.tributesPerPage;// Logic for displaying tributes\nvar tributesList=this.state.tributes;var indexOfLastTribute=currentPage*tributesPerPage;var indexOfFirstTribute=indexOfLastTribute-tributesPerPage;var currentTributes=tributesList.slice(indexOfFirstTribute,indexOfLastTribute);var renderTributes=currentTributes.map(function(tribute,index){return/*#__PURE__*/React.createElement(\"div\",{className:\"v-card\",key:tribute.id},/*#__PURE__*/React.createElement(\"div\",{className:\"tribute-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-icon\"},tribute.type===\"candle\"?/*#__PURE__*/React.createElement(\"img\",{src:Candle2,className:\"tribute-icon\",alt:\"\"}):tribute.type===\"rose\"?/*#__PURE__*/React.createElement(\"img\",{src:Rose2,className:\"tribute-icon\",alt:\"\"}):tribute.type===\"note\"?/*#__PURE__*/React.createElement(\"img\",{src:Note2,className:\"tribute-icon\",alt:\"\"}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"post-content\"},/*#__PURE__*/React.createElement(\"p\",{className:\"poster-name\"},\"Posted by \",tribute.name,\" on \",tribute.date),/*#__PURE__*/React.createElement(\"p\",{className:\"post\"},tribute.tribute))));});return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{className:\"center-canvas\"},/*#__PURE__*/React.createElement(\"div\",{className:\"post-tribute-card\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-white\"},\"Leave a Tribute \",/*#__PURE__*/React.createElement(\"img\",{src:Pen,className:\"pen\",alt:\"\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"remove-top-margin center-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"icons-set\"},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:Candle,className:\"post-tribute-icon\",alt:\"\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,\"Light a Candle\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:Rose,className:\"post-tribute-icon\",alt:\"\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,\"Lay a Flower\")),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:Note,className:\"post-tribute-icon\",alt:\"\"}),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"span\",null,\"Leave a Note\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"post-tribute-section\"},/*#__PURE__*/React.createElement(\"div\",{className:\"select-tribute\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.selectTribute,className:\"select-tribute-icon\",alt:\"\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"entry-form\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.handleTributePost,method:\"post\"},/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"textarea\",{ref:function ref(input){return _tribute=input;},placeholder:\"Add your tribute text here...\",name:\"tribute\",type:\"text\",class:\"form-control\",maxlength:\"15000\",cols:\"20\",rows:\"5\",id:\"tribute-input\"})),/*#__PURE__*/React.createElement(\"div\",{class:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _name=input;},name:\"name\",placeholder:\"Please enter your name\",type:\"text\",class:\"form-control\",id:\"name-input\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",class:\"btn btn-primary float-right\"},\"Publish Tribute\")))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)),/*#__PURE__*/React.createElement(\"div\",{className:\"center-content\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"h4\",null,\"Tributes \",/*#__PURE__*/React.createElement(\"img\",{src:Pen,className:\"pen\",alt:\"\"}))),renderTributes));}}]);return Tribute;}(React.Component);// module.exports = Tribute;\nexport default Tribute;","map":{"version":3,"sources":["/Users/hipheckt/codes/niyiogunwuyi/react/src/Tribute.js"],"names":["React","axios","swal","$","Header","Candle","Rose","Note","Candle2","Rose2","Note2","Pen","_type","_name","_tribute","Tribute","props","fetchTributes","e","get","defaults","baseURL","then","response","console","log","json","data","success","setState","tributes","alert","catch","error","handleTributePost","preventDefault","formData","FormData","append","value","method","url","tribute","id","type","name","tributeData","timestamp","Date","toString","appState","localStorage","JSON","stringify","message","button","timer","val","state","currentPage","tributesPerPage","selectTribute","tributesList","indexOfLastTribute","indexOfFirstTribute","currentTributes","slice","renderTributes","map","index","date","input","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\n\nimport Header from \"./common/Header.js\";\n\nimport Candle from \"./assets/images/icons/candle_white.png\";\nimport Rose from \"./assets/images/icons/rose_white.png\";\nimport Note from \"./assets/images/icons/note_white.png\";\nimport Candle2 from \"./assets/images/icons/candle_blue.png\";\nimport Rose2 from \"./assets/images/icons/rose_blue.png\";\nimport Note2 from \"./assets/images/icons/note_blue.png\";\nimport Pen from \"./assets/images/icons/pen.png\";\n\nvar _type, _name, _tribute;\n\nclass Tribute extends React.Component {\n  constructor(props) {\n    super(props);\n    // let { user } = this.props.appstate;\n    this.state = {\n      tributes: [],\n      currentPage: 1,\n      tributesPerPage: 10,\n      selectTribute: Candle2\n    };\n  }\n\n  componentDidMount() {\n    this.fetchTributes();\n  }\n\n  iconSwitch(e) {\n    e.preventDefault();\n    this.setState(\n      {selectTribute: Note2}\n    );\n  }\n  \n  fetchTributes = e => {\n    axios\n      .get(`${axios.defaults.baseURL}/tributes`)\n      .then(response => {\n        console.log(response);\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n          this.setState({ tributes: json.data.tributes });\n        } else alert(\"Fetching Tributes Failed!\");\n      })\n      .catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n  handleTributePost = e => {\n    e.preventDefault();\n\n    var formData = new FormData();\n    formData.append(\"type\", \"candle\");\n    // formData.append(\"type\", _type.value);\n    formData.append(\"name\", _name.value);\n    formData.append(\"tribute\", _tribute.value);\n\n    console.log(formData);\n\n  axios({\n      method: 'post',\n      url: `${axios.defaults.baseURL}/tribute`,\n      data: formData\n      })\n    .then(response => {\n      console.log(response);\n      return response;\n    })\n    .then(json => {\n      const { id, type, name, tribute } = json.data.tribute;\n      let tributeData = {\n        id,\n        type,\n        name,\n        tribute,\n        timestamp: new Date().toString()\n      };\n      let appState = {\n        tribute: tributeData\n      };\n      // save app state with user date in local storage\n      localStorage[\"appState\"] = JSON.stringify(appState);\n      this.setState({\n        tribute: appState.tribute,\n      });\n\n      if (json.data.success === true) {\n        swal(\"Published!\", \"\" + json.data.message, \"success\", {\n          button: false,\n          timer: 1500\n        });\n        $(\"#name-input\").val('');\n        $(\"#tribute-input\").val('');\n        this.fetchTributes();\n        // redirect home\n        // this.props.history.push(\"/dashboard\");\n      } else {\n        // alert(json.data.message);\n        swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n      }\n\n    })\n    .catch(error => {\n      // alert(\"An Error Occured!\" + error);\n      console.log(error.response.data);\n      swal(\"Warning!\", \"\" + error.response.data.message.tribute, \"warning\");\n    });\n\n  };\n\n\n  render() {\n\n    const { currentPage, tributesPerPage } = this.state;\n\n    // Logic for displaying tributes\n    const tributesList = this.state.tributes;\n    const indexOfLastTribute = currentPage * tributesPerPage;\n    const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n    const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n\n    const renderTributes = currentTributes.map((tribute, index) => {\n      return (\n          <div className=\"v-card\" key={tribute.id}>\n            <div className=\"tribute-card\">\n                <div className=\"post-icon\">\n                  {tribute.type === \"candle\" ? (\n                  <img src={Candle2} className=\"tribute-icon\" alt=\"\"/>\n                  ): tribute.type === \"rose\" ? (\n                    <img src={Rose2} className=\"tribute-icon\" alt=\"\"/>\n                    ): tribute.type === \"note\" ? (\n                      <img src={Note2} className=\"tribute-icon\" alt=\"\"/>\n                      ):\n                  null}\n                </div>\n                <div className=\"post-content\">\n                  <p className=\"poster-name\">Posted by {tribute.name} on {tribute.date}</p>\n                  <p className=\"post\">{tribute.tribute}</p>\n                </div>\n            </div>\n          </div>\n      );\n    });\n\n    return (\n      <div>\n        <Header/>\n        \n        <div className=\"center-canvas\">\n        <div className=\"post-tribute-card\">\n            <h4 className=\"text-white\">Leave a Tribute <img src={Pen} className=\"pen\" alt=\"\"/></h4><br/>\n            <div className=\"remove-top-margin center-content\">\n              <div className=\"icons-set\">\n                <div>\n                    <img src={Candle} className=\"post-tribute-icon\" alt=\"\"/><br/>\n                    <span>Light a Candle</span>\n                </div>\n                <div>\n                    <img src={Rose} className=\"post-tribute-icon\" alt=\"\"/><br/>\n                    <span>Lay a Flower</span>\n                </div>\n                <div>\n                    <img src={Note} className=\"post-tribute-icon\" alt=\"\"/><br/>\n                    <span>Leave a Note</span>\n                </div>\n              </div>\n            </div>\n            <div className=\"post-tribute-section\">\n              <div className=\"select-tribute\">\n                <img src={this.state.selectTribute} className=\"select-tribute-icon\" alt=\"\"/> \n              </div>\n              <div className=\"entry-form\">\n                <form onSubmit={this.handleTributePost} method=\"post\">\n                  <div class=\"form-group\">\n                    <textarea  ref={input => (_tribute = input)}  placeholder=\"Add your tribute text here...\" name=\"tribute\" type=\"text\" class=\"form-control\" maxlength=\"15000\" cols=\"20\" rows=\"5\" id=\"tribute-input\"/>\n                  </div>\n                  <div class=\"form-group\">\n                    <input ref={input => (_name = input)} name=\"name\"  placeholder=\"Please enter your name\" type=\"text\" class=\"form-control\" id=\"name-input\"/>\n                  </div>\n                  <button type=\"submit\" class=\"btn btn-primary float-right\">Publish Tribute</button>\n                </form>\n              </div>\n            </div>\n            <br/>\n            <br/>\n          </div>\n          <div className=\"center-content\"><br/>\n            <h4>Tributes <img src={Pen} className=\"pen\" alt=\"\"/></h4>\n          </div>\n            {renderTributes}\n        </div>\n      </div>\n    );\n  }\n}\n// module.exports = Tribute;\n\nexport default Tribute;\n"]},"metadata":{},"sourceType":"module"}