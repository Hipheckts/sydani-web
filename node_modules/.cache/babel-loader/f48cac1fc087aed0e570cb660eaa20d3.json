{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/evestng/react/src/admin/EditHome.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport { Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\nimport Avatar from \"../assets/img/default-user-avatar.png\";\n\nvar _name, _description, _price, _type, _duration, _plan_code;\n\nexport class EditHome extends Component {\n  constructor(props) {\n    super(props); // let { user } = this.props.appstate;\n\n    this.handleUpdate = e => {\n      e.preventDefault();\n      $(\"#update-profile\").attr(\"disabled\", \"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>');\n      var formData = new FormData();\n      formData.append(\"name\", _name.value);\n      formData.append(\"description\", _description.value);\n      formData.append(\"image\", this.state.file);\n      formData.append(\"price\", _price.value);\n      formData.append(\"type\", _type.value);\n      formData.append(\"duration\", _duration.value);\n      formData.append(\"plan_code\", _plan_code.value);\n      console.log(formData);\n      axios({\n        method: \"post\",\n        url: `${axios.defaults.baseURL}/edit-home/${this.state.home.id}`,\n        data: formData,\n        headers: {\n          Authorization: `Bearer ${this.state.token}`,\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      }).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success === true) {\n          swal(\"Updated!\", \"\" + json.data.message, \"success\", {\n            button: false,\n            timer: 1500\n          });\n          $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Home\"); // redirect home\n          // this.props.history.push(\"/my-account\");\n        } else {\n          // alert(json.data.message);\n          swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n          $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Home\");\n        }\n      }).catch(error => {\n        // alert(\"An Error Occured!\" + error);\n        console.log(error.response.data);\n        swal(\"Warning!\", \"Please fill all fields\", \"warning\");\n        $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Home\");\n      });\n    };\n\n    this.uploadPhoto = e => {\n      this.photoUpload.click();\n    };\n\n    this.onChange = event => {\n      this.setState({\n        imageSource: \"\",\n        imageData: \"\",\n        file: event.target.files[0]\n      });\n      const file = event.target.files[0];\n      console.log(file);\n\n      if (file) {\n        let reader = new FileReader();\n        reader.readAsDataURL(event.target.files[0]);\n\n        reader.onload = event => {\n          this.setState({\n            imageSource: event.target.result,\n            imageData: file\n          });\n        };\n      }\n    };\n\n    this.state = {\n      token: localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).user.token : \"\",\n      user: [],\n      imageSource: \"\",\n      file: null,\n      home: [],\n      home_id: \"\"\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    // console.log(id);\n    this.getUser();\n    this.getHome();\n  }\n\n  getUser() {\n    axios.get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`, {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`\n      }\n    }).then(response => {\n      console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          user: json.data.user[0]\n        }); // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    });\n  }\n\n  getHome() {\n    var id = window.location.href.split(\"/\")[window.location.href.split(\"/\").length - 1];\n    axios.get(`${axios.defaults.baseURL}/view-home/${id}`).then(response => {\n      console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          home: json.data.home[0],\n          plan: json.data.home[0].plan_code,\n          home_id: json.data.home[0].id\n        });\n      } else {\n        console.log(`Cannot fetch data!`);\n      }\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    });\n  }\n\n  render() {\n    $(\"#name-input\").attr(\"value\", this.state.home.name);\n    $(\"#description-input\").attr(\"value\", this.state.home.description);\n    $(\"#price-input\").attr(\"value\", this.state.home.price);\n    $(\"#type-input\").attr(\"value\", this.state.home.type);\n    $(\"#duration-input\").attr(\"value\", this.state.home.duration);\n    $(\"#plan_code-input\").attr(\"value\", this.state.home.plan_code);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"app\",\n      className: \"bg-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"private-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"main-app\",\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-v-4c22b934\": \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      \"data-v-4c22b934\": \"\",\n      id: \"profile-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-primary py-2 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-welcome\",\n      style: {\n        overflow: \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 33\n      }\n    }, \"Edit Home\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 27\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"pb-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-12\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper dash-card bg-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4 text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.imageSource ? this.state.imageSource : this.state.home.image ? this.state.home.image : Avatar,\n      id: \"user-logo\",\n      className: \"shadow-xl plan-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      role: \"button\",\n      onClick: this.uploadPhoto,\n      style: {\n        textDecoration: \"underline\",\n        cursor: \"pointer\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 33\n      }\n    }, \"Change Image\")), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"mt-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"px-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"h5\", {\n      className: \"mb-0\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 33\n      }\n    }, \"Home Information\")), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"reg\",\n      action: \"\",\n      onSubmit: this.handleUpdate,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 31\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.photoUpload = input,\n      onChange: this.onChange,\n      autoComplete: \"off\",\n      id: \"image-input\",\n      name: \"image\",\n      type: \"file\",\n      hidden: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 33\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"p-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      tabindex: \"-1\",\n      className: \"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 39\n      }\n    }, \"Name\"), /*#__PURE__*/React.createElement(\"div\", {\n      tabindex: \"-1\",\n      role: \"group\",\n      className: \"bv-no-focus-ring col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _name = input,\n      id: \"name-input\",\n      name: \"name\",\n      type: \"text\",\n      \"aria-required\": \"true\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      tabindex: \"-1\",\n      className: \"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 39\n      }\n    }, \"Description\"), /*#__PURE__*/React.createElement(\"div\", {\n      tabindex: \"-1\",\n      role: \"group\",\n      className: \"bv-no-focus-ring col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _description = input,\n      id: \"description-input\",\n      name: \"description\",\n      type: \"text\",\n      \"aria-required\": \"true\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      tabindex: \"-1\",\n      className: \"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 39\n      }\n    }, \"Price\"), /*#__PURE__*/React.createElement(\"div\", {\n      tabindex: \"-1\",\n      role: \"group\",\n      className: \"bv-no-focus-ring col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _price = input,\n      id: \"price-input\",\n      name: \"price\",\n      type: \"text\",\n      \"aria-required\": \"true\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      tabindex: \"-1\",\n      className: \"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 39\n      }\n    }, \"Type\"), /*#__PURE__*/React.createElement(\"div\", {\n      tabindex: \"-1\",\n      role: \"group\",\n      className: \"bv-no-focus-ring col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"select\", {\n      ref: input => _type = input,\n      id: \"type-input\",\n      name: \"type\",\n      type: \"text\",\n      \"aria-required\": \"true\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 41\n      }\n    }, /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Single\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359,\n        columnNumber: 43\n      }\n    }, \"Monthly\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Married\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 43\n      }\n    }, \"Weekly\"), /*#__PURE__*/React.createElement(\"option\", {\n      value: \"Divorced\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 361,\n        columnNumber: 43\n      }\n    }, \"Daily\"))))), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      tabindex: \"-1\",\n      className: \"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 39\n      }\n    }, \"Duration\"), /*#__PURE__*/React.createElement(\"div\", {\n      tabindex: \"-1\",\n      role: \"group\",\n      className: \"bv-no-focus-ring col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _duration = input,\n      id: \"duration-input\",\n      name: \"duration\",\n      type: \"text\",\n      \"aria-required\": \"true\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"fieldset\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"legend\", {\n      tabindex: \"-1\",\n      className: \"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 39\n      }\n    }, \"Plan Code\"), /*#__PURE__*/React.createElement(\"div\", {\n      tabindex: \"-1\",\n      role: \"group\",\n      className: \"bv-no-focus-ring col\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 39\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _plan_code = input,\n      id: \"plan_code-input\",\n      name: \"plan_code\",\n      type: \"text\",\n      \"aria-required\": \"true\",\n      className: \"form-control\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 416,\n        columnNumber: 35\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      id: \"update-profile\",\n      type: \"submit\",\n      className: \"btn btn-primary my-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417,\n        columnNumber: 37\n      }\n    }, \"Update Home\"))))))))))))))));\n  }\n\n}\nexport default EditHome;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/admin/EditHome.js"],"names":["React","Component","axios","$","Link","swal","Header","Sidebar","Avatar","_name","_description","_price","_type","_duration","_plan_code","EditHome","constructor","props","handleUpdate","e","preventDefault","attr","html","formData","FormData","append","value","state","file","console","log","method","url","defaults","baseURL","home","id","data","headers","Authorization","token","then","response","json","success","message","button","timer","removeAttr","catch","error","uploadPhoto","photoUpload","click","onChange","event","setState","imageSource","imageData","target","files","reader","FileReader","readAsDataURL","onload","result","localStorage","JSON","parse","user","home_id","bind","componentDidMount","getUser","getHome","get","window","location","href","split","length","plan","plan_code","render","name","description","price","type","duration","overflow","image","textDecoration","cursor","input"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport { Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\n\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\nimport Avatar from \"../assets/img/default-user-avatar.png\";\n\nvar _name,\n  _description,\n  _price,\n  _type,\n  _duration,\n  _plan_code\n\nexport class EditHome extends Component {\n  constructor(props) {\n    super(props);\n    // let { user } = this.props.appstate;\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      imageSource: \"\",\n      file: null,\n      home: [],\n      home_id: \"\",\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    // console.log(id);\n    this.getUser();\n    this.getHome();\n  }\n\n  getUser(){\n    axios\n    .get(\n      `${axios.defaults.baseURL}/user/${\n        JSON.parse(localStorage[\"appState\"]).user.id\n      }`,\n      {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`,\n        },\n      }\n    )\n    .then((response) => {\n      console.log(response);\n      return response;\n    })\n    .then((json) => {\n      if (json.data.success) {\n        this.setState({ user: json.data.user[0] });\n        // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n    })\n    .catch((error) => {\n      console.error(`An Error Occured! ${error}`);\n    });\n  }\n\n  getHome(){\n\n    var id = window.location.href.split(\"/\")[\n      window.location.href.split(\"/\").length - 1\n    ];\n    axios\n      .get(`${axios.defaults.baseURL}/view-home/${id}`)\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            home: json.data.home[0],\n            plan: json.data.home[0].plan_code,\n            home_id: json.data.home[0].id,\n          });\n        } else {\n          console.log(`Cannot fetch data!`);\n        }\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n  handleUpdate = (e) => {\n    e.preventDefault();\n\n    $(\"#update-profile\")\n      .attr(\"disabled\", \"disabled\")\n      .html(\n        '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>'\n      );\n\n    var formData = new FormData();\n    formData.append(\"name\", _name.value);\n    formData.append(\"description\", _description.value);\n    formData.append(\"image\", this.state.file);\n    formData.append(\"price\", _price.value);\n    formData.append(\"type\", _type.value);\n    formData.append(\"duration\", _duration.value);\n    formData.append(\"plan_code\", _plan_code.value);\n\n    console.log(formData);\n\n    axios({\n      method: \"post\",\n      url: `${axios.defaults.baseURL}/edit-home/${this.state.home.id}`,\n      data: formData,\n      headers: {\n        Authorization: `Bearer ${this.state.token}`,\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    })\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success === true) {\n          swal(\"Updated!\", \"\" + json.data.message, \"success\", {\n            button: false,\n            timer: 1500,\n          });\n          $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Home\");\n          // redirect home\n          // this.props.history.push(\"/my-account\");\n        } else {\n          // alert(json.data.message);\n          swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n          $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Home\");\n        }\n      })\n      .catch((error) => {\n        // alert(\"An Error Occured!\" + error);\n        console.log(error.response.data);\n          swal(\"Warning!\", \"Please fill all fields\", \"warning\");\n            $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Home\");\n      });\n  };\n\n  // onChange(e) {\n  //   this.setState({file:e.target.files[0]});\n  // }\n\n  uploadPhoto = (e) => {\n    this.photoUpload.click();\n  };\n\n  onChange = (event) => {\n    this.setState({\n      imageSource: \"\",\n      imageData: \"\",\n      file: event.target.files[0],\n    });\n    const file = event.target.files[0];\n    console.log(file);\n\n    if (file) {\n      let reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = (event) => {\n        this.setState({\n          imageSource: event.target.result,\n          imageData: file,\n        });\n      };\n    }\n  };\n\n  render() {\n    $(\"#name-input\").attr(\"value\", this.state.home.name);\n    $(\"#description-input\").attr(\"value\", this.state.home.description);\n    $(\"#price-input\").attr(\"value\", this.state.home.price);\n    $(\"#type-input\").attr(\"value\", this.state.home.type);\n    $(\"#duration-input\").attr(\"value\", this.state.home.duration);\n    $(\"#plan_code-input\").attr(\"value\", this.state.home.plan_code);\n\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div data-v-4c22b934=\"\">\n                    <div data-v-4c22b934=\"\" id=\"profile-page\">\n                      <div className=\"page-title\">\n                        <div className=\"row text-primary py-2 pt-4\">\n                          <div className=\"col-10\">\n                            <div\n                              className=\"user-welcome\"\n                              style={{ overflow: \"hidden\" }}\n                            >\n                              <div className=\"wrapper d-flex\">\n                                <h4 className=\"d-inline-block\">Edit Home</h4>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"text-right col-2\"></div>\n                        </div>\n                      </div>\n                      <div className=\"pb-5\">\n                        <div className=\"row\">\n                          <div className=\"col-12\">\n                            <div className=\"wrapper dash-card bg-white\">\n                              <div className=\"p-4 text-center\">\n                                <img\n                                  src={\n                                    this.state.imageSource\n                                      ? this.state.imageSource :\n                                      this.state.home.image ?\n                                      this.state.home.image\n                                      : Avatar\n                                  }\n                                  id=\"user-logo\"\n                                  className=\"shadow-xl plan-img\"\n                                />\n                                <p\n                                  role=\"button\"\n                                  onClick={this.uploadPhoto}\n                                  style={{\n                                    textDecoration: \"underline\",\n                                    cursor: \"pointer\",\n                                  }}\n                                >\n                                  Change Image\n                                </p>\n                              </div>\n                              <hr className=\"mt-0\"></hr>\n                              <div className=\"px-4\">\n                                <h5 className=\"mb-0\">Home Information</h5>\n                              </div>\n                              <form\n                                id=\"reg\"\n                                action=\"\"\n                                onSubmit={this.handleUpdate}\n                                method=\"post\"\n                              >\n                                <input\n                                  ref={(input) => (this.photoUpload = input)}\n                                  onChange={this.onChange}\n                                  autoComplete=\"off\"\n                                  id=\"image-input\"\n                                  name=\"image\"\n                                  type=\"file\"\n                                  hidden\n                                />\n                                <div className=\"p-4\">\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Name\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_name = input)}\n                                          id=\"name-input\"\n                                          name=\"name\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Description\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_description = input)}\n                                          id=\"description-input\"\n                                          name=\"description\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Price\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_price = input)}\n                                          id=\"price-input\"\n                                          name=\"price\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Type\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <select\n                                          ref={(input) => (_type = input)}\n                                          id=\"type-input\"\n                                          name=\"type\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        >\n                                          <option value=\"Single\">Monthly</option>\n                                          <option value=\"Married\">Weekly</option>\n                                          <option value=\"Divorced\">Daily</option>\n                                        </select>\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Duration\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_duration = input)}\n                                          id=\"duration-input\"\n                                          name=\"duration\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Plan Code\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_plan_code = input)}\n                                          id=\"plan_code-input\"\n                                          name=\"plan_code\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <div className=\"text-center\">\n                                    <button\n                                      id=\"update-profile\"\n                                      type=\"submit\"\n                                      className=\"btn btn-primary my-4\"\n                                    >\n                                      Update Home\n                                    </button>\n                                  </div>\n                                </div>\n                              </form>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditHome;\n"]},"metadata":{},"sourceType":"module"}