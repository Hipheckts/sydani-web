{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/evestng/react/src/admin/EvestList.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport NumberFormat from 'react-number-format';\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\nimport { Link } from \"react-router-dom\";\n\nvar _home_id;\n\nexport class EvestList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.queryField = e => {\n      e.preventDefault();\n      this.setState({\n        query: e.target.value\n      });\n      axios.get(`${axios.defaults.baseURL}/search-homes/${this.state.query}`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.fetchHomes = e => {\n      axios.get(`${axios.defaults.baseURL}/homes`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.soldOut = e => {\n      axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/home-soldout/${_home_id.value}`\n      }).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.reActivate = e => {\n      axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/home-activate/${_home_id.value}`\n      }).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.state = {\n      homes: [],\n      currentPage: 1,\n      homesPerPage: 9,\n      query: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n  }\n\n  componentDidMount() {\n    this.fetchHomes();\n  }\n\n  render() {\n    const {\n      homes,\n      currentPage,\n      homesPerPage\n    } = this.state; // Logic for displaying homes\n\n    const homesList = this.state.homes;\n    const indexOfLastHome = currentPage * homesPerPage;\n    const indexOfFirstHome = indexOfLastHome - homesPerPage;\n    const currentHomes = homesList.slice(indexOfFirstHome, indexOfLastHome);\n    const renderHomes = currentHomes.map((home, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\",\n        key: home.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap dash-card-main bg-white position-relative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap px-2 position-absolute w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dash-card-main thumb bg-dark mt-2 shadow-xl bg-cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `view-home/${home.name}`\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: home.image,\n        className: \"plan-img\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }\n      })))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap p-4 pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mt-1 mb-2 pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-2 col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"text-primary mb-0 titlecase\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }\n      }, home.name, \" @ \", /*#__PURE__*/React.createElement(NumberFormat, {\n        value: home.price,\n        displayType: 'text',\n        thousandSeparator: true,\n        prefix: '₦',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 65\n        }\n      }), \" \", home.type), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge text-light badge-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 7\n        }\n      }, \"Duration: \", home.duration, \" \", home.type == \"monthly\" ? 'Months' : home.type == \"weekly\" ? 'Weeks' : null)))), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"mt-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap px-4 pb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `view-home/${home.name}`\n        },\n        className: \"btn w-100 btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 19\n        }\n      }, \"Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        ref: input => _home_id = input,\n        name: \"home_id\",\n        type: \"text\",\n        value: home.id,\n        required: \"required\",\n        hidden: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 21\n        }\n      }), home.status == \"active\" ? /*#__PURE__*/React.createElement(Link, {\n        onClick: this.soldOut,\n        className: \"btn w-100 btn-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 25\n        }\n      }, \"Sold Out\") : home.status == \"soldout\" ? /*#__PURE__*/React.createElement(Link, {\n        onClick: this.reActivate,\n        className: \"btn w-100 btn-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 54\n        }\n      }, \"Re-Activate\") : null)))));\n    }); // Logic for displaying page numbers\n\n    const pageNumbers = [];\n\n    for (let i = 1; i <= Math.ceil(homes.length / homesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, number == currentPage ? /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pg-link active-link\",\n        key: number,\n        id: number,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 9\n        }\n      }, number) : /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pg-link\",\n        key: number,\n        id: number,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 9\n        }\n      }, number));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"app\",\n      className: \"bg-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"private-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"main-app\",\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-primary py-2 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-welcome\",\n      style: {\n        overflow: \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 29\n      }\n    }, \"EVest Homes\")), /*#__PURE__*/React.createElement(Link, {\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 27\n      }\n    }, \"Add New Home \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 42\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4 align-items-stretch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 19\n      }\n    }, renderHomes)), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 19\n      }\n    }, renderPageNumbers), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 30\n      }\n    }))))));\n  }\n\n}\nexport default EvestList;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/admin/EvestList.js"],"names":["React","Component","axios","swal","$","NumberFormat","Header","Sidebar","Link","_home_id","EvestList","constructor","props","queryField","e","preventDefault","setState","query","target","value","get","defaults","baseURL","state","then","response","console","log","json","data","success","homes","alert","catch","error","fetchHomes","soldOut","method","url","reActivate","currentPage","homesPerPage","handleClick","bind","event","Number","id","componentDidMount","render","homesList","indexOfLastHome","indexOfFirstHome","currentHomes","slice","renderHomes","map","home","index","pathname","name","image","price","type","duration","input","status","pageNumbers","i","Math","ceil","length","push","renderPageNumbers","number","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport NumberFormat from 'react-number-format';\n\n\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\nimport { Link } from \"react-router-dom\";\n\nvar _home_id;\n\nexport class EvestList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homes: [],\n      currentPage: 1,\n      homesPerPage: 9,\n      query: \"\",\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  queryField = (e) => {\n    e.preventDefault();\n    this.setState({\n      query: e.target.value,\n    });\n    axios\n      .get(`${axios.defaults.baseURL}/search-homes/${this.state.query}`)\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id),\n    });\n  }\n\n  componentDidMount() {\n    this.fetchHomes();\n  }\n\n  fetchHomes = (e) => {\n    axios\n      .get(`${axios.defaults.baseURL}/homes`)\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  soldOut = (e) => {\n\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/home-soldout/${_home_id.value}`\n        })\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  reActivate = (e) => {\n\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/home-activate/${_home_id.value}`\n        })\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  render() {\n    const { homes, currentPage, homesPerPage } = this.state;\n\n    // Logic for displaying homes\n    const homesList = this.state.homes;\n    const indexOfLastHome = currentPage * homesPerPage;\n    const indexOfFirstHome = indexOfLastHome - homesPerPage;\n    const currentHomes = homesList.slice(indexOfFirstHome, indexOfLastHome);\n\n    const renderHomes = currentHomes.map((home, index) => {\n      return (\n        <div\n          className=\"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\"\n          key={home.id}\n        >\n          <div className=\"wrap dash-card-main bg-white position-relative\">\n            <div className=\"wrap px-2 position-absolute w-100\">\n              <div className=\"dash-card-main thumb bg-dark mt-2 shadow-xl bg-cover\">\n              <Link to={{pathname: `view-home/${home.name}`}}>\n                <img\n                  src={home.image}\n                  className=\"plan-img\"\n                  alt=\"\"\n                />\n                </Link>\n              </div>\n            </div>\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <div className=\"wrap p-4 pt-5\">\n              <div className=\"row mt-1 mb-2 pt-5\">\n                <div className=\"pt-2 col\">\n      <h6 className=\"text-primary mb-0 titlecase\">{home.name} @ <NumberFormat value={home.price} displayType={'text'} thousandSeparator={true} prefix={'₦'} /> {home.type}</h6>\n      <span className=\"badge text-light badge-primary\">Duration: {home.duration} {\n        home.type == \"monthly\" ? ('Months') : home.type == \"weekly\" ? ('Weeks') : null\n      }</span>\n                </div>\n              </div>\n            </div>\n            <hr className=\"mt-0\"></hr>\n            <div className=\"wrap px-4 pb-4\">\n              <div className=\"row no-gutters\">\n                <div className=\"col mr-2\">\n                  <Link to={{pathname: `view-home/${home.name}`}} className=\"btn w-100 btn-primary\">\n                    Edit\n                  </Link>\n                </div>\n                <div className=\"col mr-2\">\n                    <input\n                    ref={(input) => (_home_id = input)}\n                    name=\"home_id\"\n                    type=\"text\"\n                    value={home.id}\n                    required=\"required\"\n                    hidden/>\n                    { home.status == \"active\" ? (\n                        <Link onClick={this.soldOut} className=\"btn w-100 btn-danger\">\n                        Sold Out\n                      </Link>\n                    ) : home.status == \"soldout\"  ? (<Link onClick={this.reActivate} className=\"btn w-100 btn-warning\">\n                    Re-Activate\n                  </Link>) : null\n                    }\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    });\n\n    // Logic for displaying page numbers\n    const pageNumbers = [];\n    for (let i = 1; i <= Math.ceil(homes.length / homesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map((number) => {\n      return (\n        <>\n        { number == currentPage ? (\n        <li\n          className=\"pg-link active-link\"\n          key={number}\n          id={number}\n          onClick={this.handleClick}\n        >\n          {number}\n        </li> \n        ) :\n        <li\n          className=\"pg-link\"\n          key={number}\n          id={number}\n          onClick={this.handleClick}\n        >\n          {number}\n        </li> \n      }\n      </>\n      );\n    });\n\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <div className=\"wrapper d-flex\">\n                            <h4 className=\"d-inline-block\">EVest Homes</h4>\n                          </div>\n                          <Link className=\"btn btn-primary\">\n                            Add New Home <i className=\"fa fa-plus\"></i>\n                          </Link>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  <div className=\"row mt-4 align-items-stretch\">\n                    {/* Product Listing */}\n                      {renderHomes}\n                    {/* End Product Listing */}\n                  </div>\n                </div>\n                  <div className=\"text-center\">\n                    {renderPageNumbers}\n                  </div><br/><br/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EvestList;\n"]},"metadata":{},"sourceType":"module"}