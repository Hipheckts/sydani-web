{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/niyiogunwuyi/react/src/Tribute.js\";\nimport React from \"react\";\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\n\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport Header from \"./common/Header.js\";\nimport Candle from \"./assets/images/icons/candle_white.png\";\nimport Rose from \"./assets/images/icons/rose_white.png\";\nimport Note from \"./assets/images/icons/note_white.png\";\nimport Candle2 from \"./assets/images/icons/candle_blue.png\";\nimport Rose2 from \"./assets/images/icons/rose_blue.png\";\nimport Note2 from \"./assets/images/icons/note_blue.png\";\nimport Pen from \"./assets/images/icons/pen.png\";\n\nvar _name, _tribute;\n\nclass Tribute extends React.Component {\n  constructor(props) {\n    super(props); // let { user } = this.props.appstate;\n\n    this.queryField = e => {\n      e.preventDefault();\n      this.setState({\n        query: e.target.value\n      });\n      axios.get(`${axios.defaults.baseURL}/tributes/${this.state.query}`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            tributes: json.data.tributes\n          });\n        } else alert(\"Fetching Tributes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.fetchTributes = e => {\n      axios.get(`${axios.defaults.baseURL}/tributes`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            tributes: json.data.tributes\n          });\n        } else alert(\"Fetching Tributes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.handleTributePost = e => {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"type\", this.state.type);\n      formData.append(\"name\", _name.value);\n      formData.append(\"tribute\", _tribute.value);\n      console.log(formData);\n      axios({\n        method: 'post',\n        url: `${axios.defaults.baseURL}/tribute`,\n        data: formData\n      }).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        const {\n          id,\n          type,\n          name,\n          tribute\n        } = json.data.tribute;\n        let tributeData = {\n          id,\n          type,\n          name,\n          tribute,\n          timestamp: new Date().toString()\n        };\n        let appState = {\n          tribute: tributeData\n        }; // save app state with user date in local storage\n\n        localStorage[\"appState\"] = JSON.stringify(appState);\n        this.setState({\n          tribute: appState.tribute\n        });\n\n        if (json.data.success === true) {\n          swal(\"Published!\", \"\" + json.data.message, \"success\", {\n            button: false,\n            timer: 1500\n          });\n          $(\"#name-input\").val('');\n          $(\"#tribute-input\").val('');\n          this.fetchTributes(); // redirect home\n          // this.props.history.push(\"/dashboard\");\n        } else {\n          // alert(json.data.message);\n          swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n        }\n      }).catch(error => {\n        // alert(\"An Error Occured!\" + error);\n        console.log(error.response.data);\n        swal(\"Warning!\", \"Select Tribute type\", \"warning\");\n      });\n    };\n\n    this.state = {\n      tributes: [],\n      currentPage: 1,\n      tributesPerPage: 20,\n      selectTribute: Candle2,\n      type: \"\",\n      query: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.candleSwitch = this.candleSwitch.bind(this);\n    this.roseSwitch = this.roseSwitch.bind(this);\n    this.noteSwitch = this.noteSwitch.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTributes();\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n    $(\"#\" + `${event.target.id}`).attr('class', 'pg-link active-link');\n  }\n\n  candleSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Candle2,\n      type: \"candle\"\n    });\n  }\n\n  roseSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Rose2,\n      type: \"rose\"\n    });\n  }\n\n  noteSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Note2,\n      type: \"note\"\n    });\n  }\n\n  render() {\n    const {\n      tributes,\n      currentPage,\n      tributesPerPage\n    } = this.state; // Logic for displaying tributes\n\n    const tributesList = this.state.tributes;\n    const indexOfLastTribute = currentPage * tributesPerPage;\n    const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n    const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n    const renderTributes = currentTributes.map((tribute, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"v-card\",\n        key: tribute.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"tribute-card\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }\n      }, tribute.type === \"candle\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: Candle2,\n        className: \"tribute-icon\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 19\n        }\n      }) : tribute.type === \"rose\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: Rose2,\n        className: \"tribute-icon\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 21\n        }\n      }) : tribute.type === \"note\" ? /*#__PURE__*/React.createElement(\"img\", {\n        src: Note2,\n        className: \"tribute-icon\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 23\n        }\n      }) : null), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"post-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"poster-name\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 19\n        }\n      }, \"Posted by \", tribute.name, \" on \", tribute.date), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"post\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 19\n        }\n      }, tribute.tribute))));\n    }); // Logic for displaying page numbers\n\n    const pageNumbers = [];\n\n    for (let i = 1; i <= Math.ceil(tributes.length / tributesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      return /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pg-link\",\n        key: number,\n        id: number,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 9\n        }\n      }, number);\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-canvas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 43\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, \"Tributes \", /*#__PURE__*/React.createElement(\"img\", {\n      src: Pen,\n      className: \"pen\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 26\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"query-field\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 13\n      }\n    }, \"Filter: \", /*#__PURE__*/React.createElement(\"input\", {\n      name: \"query\",\n      className: \"query-input\",\n      placeholder: \" search tributes by name...\",\n      onChange: this.queryField,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 23\n      }\n    })), renderTributes, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 45\n      }\n    }), renderPageNumbers), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-tribute-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-blue\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 13\n      }\n    }, \"Leave a Tribute \", /*#__PURE__*/React.createElement(\"img\", {\n      src: Pen,\n      className: \"pen\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 55\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 99\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"remove-top-margin center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icons-set\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: this.candleSwitch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Candle2,\n      className: \"post-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 53\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 110\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 21\n      }\n    }, \"Light a Candle\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: this.roseSwitch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Rose2,\n      className: \"post-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 47\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 102\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 21\n      }\n    }, \"Lay a Flower\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      onClick: this.noteSwitch,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: Note2,\n      className: \"post-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 47\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 102\n      }\n    })), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 21\n      }\n    }, \"Leave a Note\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-tribute-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"select-tribute\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: this.state.selectTribute,\n      className: \"select-tribute-icon\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"entry-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleTributePost,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      ref: input => _tribute = input,\n      placeholder: \"Add your tribute text here...\",\n      name: \"tribute\",\n      type: \"text\",\n      class: \"form-control\",\n      maxlength: \"15000\",\n      cols: \"20\",\n      rows: \"5\",\n      id: \"tribute-input\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _name = input,\n      name: \"name\",\n      placeholder: \"Please enter your name\",\n      type: \"text\",\n      class: \"form-control\",\n      id: \"name-input\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 19\n      }\n    }, \"Publish Tribute\")))), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }))));\n  }\n\n}\n\nexport default Tribute;","map":{"version":3,"sources":["/Users/hipheckt/codes/niyiogunwuyi/react/src/Tribute.js"],"names":["React","axios","swal","$","Header","Candle","Rose","Note","Candle2","Rose2","Note2","Pen","_name","_tribute","Tribute","Component","constructor","props","queryField","e","preventDefault","setState","query","target","value","get","defaults","baseURL","state","then","response","console","log","json","data","success","tributes","alert","catch","error","fetchTributes","handleTributePost","formData","FormData","append","type","method","url","id","name","tribute","tributeData","timestamp","Date","toString","appState","localStorage","JSON","stringify","message","button","timer","val","currentPage","tributesPerPage","selectTribute","handleClick","bind","candleSwitch","roseSwitch","noteSwitch","componentDidMount","event","Number","attr","render","tributesList","indexOfLastTribute","indexOfFirstTribute","currentTributes","slice","renderTributes","map","index","date","pageNumbers","i","Math","ceil","length","push","renderPageNumbers","number","input"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\n\nimport Header from \"./common/Header.js\";\n\nimport Candle from \"./assets/images/icons/candle_white.png\";\nimport Rose from \"./assets/images/icons/rose_white.png\";\nimport Note from \"./assets/images/icons/note_white.png\";\nimport Candle2 from \"./assets/images/icons/candle_blue.png\";\nimport Rose2 from \"./assets/images/icons/rose_blue.png\";\nimport Note2 from \"./assets/images/icons/note_blue.png\";\nimport Pen from \"./assets/images/icons/pen.png\";\n\nvar _name, _tribute;\n\nclass Tribute extends React.Component {\n  constructor(props) {\n    super(props);\n    // let { user } = this.props.appstate;\n    this.state = {\n      tributes: [],\n      currentPage: 1,\n      tributesPerPage: 20,\n      selectTribute: Candle2,\n      type: \"\",\n      query: \"\"\n    };\n    this.handleClick = this.handleClick.bind(this);\n    this.candleSwitch = this.candleSwitch.bind(this);\n    this.roseSwitch = this.roseSwitch.bind(this);\n    this.noteSwitch = this.noteSwitch.bind(this);\n  }\n\n  queryField = e => {\n    e.preventDefault();\n    this.setState({\n      query: e.target.value\n    });\n    axios\n      .get(`${axios.defaults.baseURL}/tributes/${this.state.query}`)\n      .then(response => {\n        console.log(response);\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n          this.setState({ tributes: json.data.tributes });\n        } else alert(\"Fetching Tributes Failed!\");\n      })\n      .catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n\n  componentDidMount() {\n    this.fetchTributes();\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n    $(\"#\"+`${event.target.id}`).attr('class', 'pg-link active-link');\n  }\n\n  candleSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Candle2,\n      type: \"candle\"\n    });\n  }\n  roseSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Rose2,\n      type: \"rose\"\n    });\n  }\n  noteSwitch(e) {\n    e.preventDefault();\n    this.setState({\n      selectTribute: Note2,\n      type: \"note\"\n    });\n  }\n  \n  fetchTributes = e => {\n    axios\n      .get(`${axios.defaults.baseURL}/tributes`)\n      .then(response => {\n        console.log(response);\n        return response;\n      })\n      .then(json => {\n        if (json.data.success) {\n          this.setState({ tributes: json.data.tributes });\n        } else alert(\"Fetching Tributes Failed!\");\n      })\n      .catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  }\n\n  handleTributePost = e => {\n    e.preventDefault();\n\n    var formData = new FormData();\n    formData.append(\"type\", this.state.type);\n    formData.append(\"name\", _name.value);\n    formData.append(\"tribute\", _tribute.value);\n\n    console.log(formData);\n\n  axios({\n      method: 'post',\n      url: `${axios.defaults.baseURL}/tribute`,\n      data: formData\n      })\n    .then(response => {\n      console.log(response);\n      return response;\n    })\n    .then(json => {\n      const { id, type, name, tribute } = json.data.tribute;\n      let tributeData = {\n        id,\n        type,\n        name,\n        tribute,\n        timestamp: new Date().toString()\n      };\n      let appState = {\n        tribute: tributeData\n      };\n      // save app state with user date in local storage\n      localStorage[\"appState\"] = JSON.stringify(appState);\n      this.setState({\n        tribute: appState.tribute,\n      });\n\n      if (json.data.success === true) {\n        swal(\"Published!\", \"\" + json.data.message, \"success\", {\n          button: false,\n          timer: 1500\n        });\n        $(\"#name-input\").val('');\n        $(\"#tribute-input\").val('');\n        this.fetchTributes();\n        // redirect home\n        // this.props.history.push(\"/dashboard\");\n      } else {\n        // alert(json.data.message);\n        swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n      }\n\n    })\n    .catch(error => {\n      // alert(\"An Error Occured!\" + error);\n      console.log(error.response.data);\n      swal(\"Warning!\", \"Select Tribute type\", \"warning\");\n    });\n\n  };\n\n\n  render() {\n\n    const { tributes, currentPage, tributesPerPage } = this.state;\n\n    // Logic for displaying tributes\n    const tributesList = this.state.tributes;\n    const indexOfLastTribute = currentPage * tributesPerPage;\n    const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n    const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n\n    const renderTributes = currentTributes.map((tribute, index) => {\n      return (\n          <div className=\"v-card\" key={tribute.id}>\n            <div className=\"tribute-card\">\n                <div className=\"post-icon\">\n                  {tribute.type === \"candle\" ? (\n                  <img src={Candle2} className=\"tribute-icon\" alt=\"\"/>\n                  ): tribute.type === \"rose\" ? (\n                    <img src={Rose2} className=\"tribute-icon\" alt=\"\"/>\n                    ): tribute.type === \"note\" ? (\n                      <img src={Note2} className=\"tribute-icon\" alt=\"\"/>\n                      ):\n                  null}\n                </div>\n                <div className=\"post-content\">\n                  <p className=\"poster-name\">Posted by {tribute.name} on {tribute.date}</p>\n                  <p className=\"post\">{tribute.tribute}</p>\n                </div>\n            </div>\n          </div>\n      );\n    });\n\n    // Logic for displaying page numbers\n    const pageNumbers = [];\n    for (let i = 1; i <= Math.ceil(tributes.length / tributesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      return (\n        <li\n          className=\"pg-link\"\n          key={number}\n          id={number}\n          onClick={this.handleClick}\n        >\n          {number}\n        </li>\n      );\n    });\n\n    return (\n      <div>\n        <Header/>\n        \n        <div className=\"center-canvas\">\n          <div className=\"center-content\"><br/>\n            <h4>Tributes <img src={Pen} className=\"pen\" alt=\"\"/></h4>\n          </div>\n            <div className=\"query-field\">\n              Filter: <input name=\"query\" className=\"query-input\" placeholder=\" search tributes by name...\" onChange={this.queryField}/>\n            </div>\n            {renderTributes}\n            <div className=\"center-content\"><br/>\n              {renderPageNumbers}\n            </div><br/><br/>\n          <div className=\"post-tribute-card\">\n            <h4 className=\"text-blue\">Leave a Tribute <img src={Pen} className=\"pen\" alt=\"\"/></h4><br/>\n            <div className=\"remove-top-margin center-content\">\n              <div className=\"icons-set\">\n                <div>\n                    <a  onClick={this.candleSwitch}><img src={Candle2} className=\"post-tribute-icon\" alt=\"\"/><br/></a>\n                    <span>Light a Candle</span>\n                </div>\n                <div>\n                <a  onClick={this.roseSwitch}><img src={Rose2} className=\"post-tribute-icon\" alt=\"\"/><br/></a>\n                    <span>Lay a Flower</span>\n                </div>\n                <div>\n                <a  onClick={this.noteSwitch}><img src={Note2} className=\"post-tribute-icon\" alt=\"\"/><br/></a>\n                    <span>Leave a Note</span>\n                </div>\n              </div>\n            </div>\n            <div className=\"post-tribute-section\">\n              <div className=\"select-tribute\">\n                <img src={this.state.selectTribute} className=\"select-tribute-icon\" alt=\"\"/> \n              </div>\n              <div className=\"entry-form\">\n                <form onSubmit={this.handleTributePost} method=\"post\">\n                  <div class=\"form-group\">\n                    <textarea  ref={input => (_tribute = input)}  placeholder=\"Add your tribute text here...\" name=\"tribute\" type=\"text\" class=\"form-control\" maxlength=\"15000\" cols=\"20\" rows=\"5\" id=\"tribute-input\" required/>\n                  </div>\n                  <div class=\"form-group\">\n                    <input ref={input => (_name = input)} name=\"name\"  placeholder=\"Please enter your name\" type=\"text\" class=\"form-control\" id=\"name-input\" required/>\n                  </div>\n                  <button type=\"submit\" class=\"btn btn-primary float-right\">Publish Tribute</button>\n                </form>\n              </div>\n            </div>\n            <br/>\n            <br/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Tribute;\n"]},"metadata":{},"sourceType":"module"}