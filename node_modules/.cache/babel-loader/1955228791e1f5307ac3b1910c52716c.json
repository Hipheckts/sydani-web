{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/sydani-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/sydani-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/sydani-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/sydani-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import axios from\"axios\";var styles={fontFamily:\"sans-serif\",textAlign:\"center\"};var View=/*#__PURE__*/function(_React$Component){_inherits(View,_React$Component);var _super=_createSuper(View);function View(props){var _this;_classCallCheck(this,View);_this=_super.call(this,props);// let { user } = this.props.appstate;\n_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[]};return _this;}_createClass(View,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var id=window.location.href.split('/')[window.location.href.split('/').length-1];// console.log(id);\naxios.get(\"http://localhost:8000/api/v1/user/\".concat(id),{headers:{'Authorization':\"Bearer \".concat(this.state.token)}}).then(function(response){console.log(response);return response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user});}else alert(\"Cannot Fetch Data!\");}).catch(function(error){console.error(\"An Error Occuredd! \".concat(error));});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{style:styles},/*#__PURE__*/React.createElement(\"h2\",null,\"View User \",\"\\u2728\"),/*#__PURE__*/React.createElement(\"ul\",null,this.state.user.map(function(user){return/*#__PURE__*/React.createElement(\"ol\",{style:{padding:15,border:\"1px solid #cccccc\",width:250,textAlign:\"left\",marginBottom:15,marginLeft:\"auto\",marginRight:\"auto\"},key:user.id},/*#__PURE__*/React.createElement(\"p\",null,\"Name: \",user.fname),/*#__PURE__*/React.createElement(\"p\",null,\"Email: \",user.email),/*#__PURE__*/React.createElement(\"img\",{src:user.avatar,alt:\"User\"}));})),/*#__PURE__*/React.createElement(\"button\",{style:{padding:10,backgroundColor:\"red\",color:\"white\"},onClick:this.props.logoutUser},\"Logout\",\" \"));}}]);return View;}(React.Component);export default View;","map":{"version":3,"sources":["/Users/hipheckt/codes/sydani-web/src/View.js"],"names":["React","axios","styles","fontFamily","textAlign","View","props","state","token","localStorage","JSON","parse","user","id","window","location","href","split","length","get","headers","then","response","console","log","json","data","success","setState","alert","catch","error","map","padding","border","width","marginBottom","marginLeft","marginRight","fname","email","avatar","backgroundColor","color","logoutUser","Component"],"mappings":"4kBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,MAAM,CAAG,CACbC,UAAU,CAAE,YADC,CAEbC,SAAS,CAAE,QAFE,CAAf,C,GAKMC,CAAAA,I,wGACJ,cAAYC,KAAZ,CAAmB,sCACjB,uBAAMA,KAAN,EACA;AACA,MAAKC,KAAL,CAAa,CACXC,KAAK,CAAEC,YAAY,CAAC,UAAD,CAAZ,CACHC,IAAI,CAACC,KAAL,CAAWF,YAAY,CAAC,UAAD,CAAvB,EAAqCG,IAArC,CAA0CJ,KADvC,CAEH,EAHO,CAIXI,IAAI,CAAE,EAJK,CAAb,CAHiB,aASlB,C,8EAEmB,iBAClB,GAAIC,CAAAA,EAAE,CAAGC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgCH,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBC,KAArB,CAA2B,GAA3B,EAAgCC,MAAhC,CAAyC,CAAzE,CAAT,CACA;AACAjB,KAAK,CACFkB,GADH,6CAC4CN,EAD5C,EAEE,CACEO,OAAO,CAAE,CACP,iCAA2B,KAAKb,KAAL,CAAWC,KAAtC,CADO,CADX,CAFF,EAQGa,IARH,CAQQ,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,MAAOA,CAAAA,QAAP,CACD,CAXH,EAYGD,IAZH,CAYQ,SAAAI,IAAI,CAAI,CACZ,GAAIA,IAAI,CAACC,IAAL,CAAUC,OAAd,CAAuB,CACrB,MAAI,CAACC,QAAL,CAAc,CAAEhB,IAAI,CAAEa,IAAI,CAACC,IAAL,CAAUd,IAAlB,CAAd,EACD,CAFD,IAEOiB,CAAAA,KAAK,CAAC,oBAAD,CAAL,CACR,CAhBH,EAiBGC,KAjBH,CAiBS,SAAAC,KAAK,CAAI,CACdR,OAAO,CAACQ,KAAR,8BAAoCA,KAApC,GACD,CAnBH,EAoBD,C,uCAEQ,CACP,mBACE,2BAAK,KAAK,CAAE7B,MAAZ,eACE,2CAAe,QAAf,CADF,cAEE,8BACC,KAAKK,KAAL,CAAWK,IAAX,CAAgBoB,GAAhB,CAAoB,SAAApB,IAAI,qBACrB,0BACE,KAAK,CAAE,CACLqB,OAAO,CAAE,EADJ,CAELC,MAAM,CAAE,mBAFH,CAGLC,KAAK,CAAE,GAHF,CAIL/B,SAAS,CAAE,MAJN,CAKLgC,YAAY,CAAE,EALT,CAMLC,UAAU,CAAE,MANP,CAOLC,WAAW,CAAE,MAPR,CADT,CAUE,GAAG,CAAE1B,IAAI,CAACC,EAVZ,eAYE,sCAAUD,IAAI,CAAC2B,KAAf,CAZF,cAaE,uCAAW3B,IAAI,CAAC4B,KAAhB,CAbF,cAcE,2BAAK,GAAG,CAAE5B,IAAI,CAAC6B,MAAf,CAAuB,GAAG,CAAC,MAA3B,EAdF,CADqB,EAAxB,CADD,CAFF,cAsBE,8BACE,KAAK,CAAE,CAAER,OAAO,CAAE,EAAX,CAAeS,eAAe,CAAE,KAAhC,CAAuCC,KAAK,CAAE,OAA9C,CADT,CAEE,OAAO,CAAE,KAAKrC,KAAL,CAAWsC,UAFtB,WAIS,GAJT,CAtBF,CADF,CA+BD,C,kBArEgB5C,KAAK,CAAC6C,S,EAwEzB,cAAexC,CAAAA,IAAf","sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst styles = {\r\n  fontFamily: \"sans-serif\",\r\n  textAlign: \"center\"\r\n};\r\n\r\nclass View extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    // let { user } = this.props.appstate;\r\n    this.state = {\r\n      token: localStorage[\"appState\"]\r\n        ? JSON.parse(localStorage[\"appState\"]).user.token\r\n        : \"\",\r\n      user: []\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    var id = window.location.href.split('/')[window.location.href.split('/').length - 1];\r\n    // console.log(id);\r\n    axios\r\n      .get(`http://localhost:8000/api/v1/user/${id}`,\r\n      {\r\n        headers: {\r\n          'Authorization': `Bearer ${this.state.token}`\r\n        }\r\n      }\r\n      )\r\n      .then(response => {\r\n        console.log(response);\r\n        return response;\r\n      })\r\n      .then(json => {\r\n        if (json.data.success) {\r\n          this.setState({ user: json.data.user });\r\n        } else alert(\"Cannot Fetch Data!\");\r\n      })\r\n      .catch(error => {\r\n        console.error(`An Error Occuredd! ${error}`);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={styles}>\r\n        <h2>View User {\"\\u2728\"}</h2>\r\n        <ul>\r\n        {this.state.user.map(user => (\r\n            <ol\r\n              style={{\r\n                padding: 15,\r\n                border: \"1px solid #cccccc\",\r\n                width: 250,\r\n                textAlign: \"left\",\r\n                marginBottom: 15,\r\n                marginLeft: \"auto\",\r\n                marginRight: \"auto\"\r\n              }}\r\n              key={user.id}\r\n              >\r\n              <p>Name: {user.fname}</p>\r\n              <p>Email: {user.email}</p>\r\n              <img src={user.avatar} alt=\"User\"/>\r\n            </ol>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          style={{ padding: 10, backgroundColor: \"red\", color: \"white\" }}\r\n          onClick={this.props.logoutUser}\r\n        >\r\n          Logout{\" \"}\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default View;\r\n"]},"metadata":{},"sourceType":"module"}