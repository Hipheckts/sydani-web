{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/sapioclub/react/src/Dashboard.js\";\nimport React, { Component } from \"react\";\nimport Page from \"react-page-loading\";\nimport { Pie, Line, Bar, Chart, Doughnut } from 'react-chartjs-2';\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nexport class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    this.logoutUser = () => {\n      localStorage.clear();\n      window.location.href = \"/auth\";\n    };\n\n    this.state = {\n      token: localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).user.token : \"\",\n      user: [],\n      plan_count: \"\",\n      plan_current: \"\",\n      plan_total: \"\"\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`, {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`\n      }\n    }).then(response => {\n      //console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          user: json.data.user[0],\n          plan_count: json.data.plans_count,\n          plan_current: json.data.plans_current,\n          plan_total: json.data.plans_total\n        }); // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    }); // alert(id)\n  }\n\n  render() {\n    var r_balance = this.state.plan_total - this.state.plan_current;\n    const doudata = {\n      labels: ['Payments', 'Balance'],\n      datasets: [{\n        data: [this.state.plan_current, r_balance],\n        backgroundColor: ['#449400', '#FD5B00']\n      }]\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Page, {\n      loader: \"spin\",\n      color: \"#449400\",\n      duration: 1,\n      size: 10,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"app\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, \"Welcome\", this.state.user.lname || \"\"))));\n  }\n\n}\nexport default Dashboard;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/Dashboard.js"],"names":["React","Component","Page","Pie","Line","Bar","Chart","Doughnut","Header","Sidebar","Link","axios","swal","Dashboard","constructor","props","logoutUser","localStorage","clear","window","location","href","state","token","JSON","parse","user","plan_count","plan_current","plan_total","componentDidMount","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","setState","plans_count","plans_current","plans_total","catch","error","console","render","r_balance","doudata","labels","datasets","backgroundColor","lname"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Page from \"react-page-loading\";\nimport { Pie, Line, Bar, Chart, Doughnut } from 'react-chartjs-2';\n\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\nimport { Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\n\nexport class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      plan_count: \"\",\n      plan_current: \"\",\n      plan_total: \"\",\n    };\n  }\n  componentDidMount() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            user: json.data.user[0],\n            plan_count: json.data.plans_count,\n            plan_current: json.data.plans_current,\n            plan_total: json.data.plans_total,\n          });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n  logoutUser = () => {\n    localStorage.clear();\n    window.location.href = \"/auth\";\n  };\n  render() {\n\n    var r_balance = this.state.plan_total - this.state.plan_current;\n    const doudata = {\n      labels: [\n        'Payments',\n        'Balance',\n      ],\n      datasets: [{\n        data: [this.state.plan_current, r_balance],\n        backgroundColor: [\n        '#449400',\n        '#FD5B00',\n        ]\n      }]\n    };\n\n    return (\n      <>\n      <Header />\n        <Page loader={\"spin\"} color={\"#449400\"} duration={1} size={10}>\n          <div id=\"app\">\n                  <Sidebar />\n                                <span>\n                                  Welcome\n                                    {this.state.user.lname || \"\"}\n                                  </span>\n                                \n          </div>\n        </Page>\n      </>\n    );\n  }\n}\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}