{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/sapioclub/react/src/Expired.js\";\nimport React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport { Link } from \"react-router-dom\";\nimport Footer from \"./common/Footer\";\nimport ScriptTag from \"react-script-tag\";\nimport AOS from \"aos\";\nimport QRCode from \"qrcode.react\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport CardIcon from \"./assets/images/gold-card-image.png\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\nexport class Expired extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).user.token : \"\",\n      user: []\n    };\n    AOS.init();\n  }\n\n  componentDidMount() {\n    axios.get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`, {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`\n      }\n    }).then(response => {\n      //console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          user: json.data.user[0]\n        }); // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    }); // alert(id)\n  }\n\n  render() {\n    const configNGN = {\n      // reference: (new Date()).getTime(),\n      email: \"hipheckt@gmail.com\",\n      // plan: this.state.plan,\n      amount: \"100000\" + \"00\",\n      currency: \"NGN\",\n      // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n      publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\"\n    };\n    const componentPropsNGN = { ...configNGN,\n      text: \"Sapio Sibling Registration\",\n      onSuccess: response => {\n        // console.log(response);\n        $(\"#reg-button\").attr(\"disabled\", \"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Creating Account...</span>');\n        this.setState({\n          payment_ref: response.trxref\n        });\n        axios({\n          method: \"get\",\n          url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n          // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n          headers: {\n            Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(response => {\n          console.log(response);\n          return response;\n        }).then(json => {\n          this.setState({\n            auth_code: json.data.data.authorization.authorization_code\n          }); // swal(\n          //   \"Success!\",\n          //   this.state.auth_code,\n          //   \"success\",\n          //   {\n          //     button: false,\n          //     // timer: 1500,\n          //   }\n          // );\n\n          var formData = new FormData();\n          formData.append(\"fname\", _fname.value);\n          formData.append(\"lname\", _lname.value);\n          formData.append(\"email\", _email.value);\n          formData.append(\"phone\", _phone.value);\n          formData.append(\"password\", _password.value);\n          formData.append(\"auth_code\", this.state.auth_code);\n          axios.post(`${axios.defaults.baseURL}/register`, formData).then(response => {\n            //console.log(response);\n            return response;\n          }).then(json => {\n            if (json.data.success) {\n              // alert(`Registration Successful!`);\n              swal(\"Success!\", json.data.message, \"success\", {\n                button: false,\n                timer: 1500\n              });\n              const {\n                id,\n                fname,\n                lname,\n                email,\n                phone\n              } = json.data.user;\n              const {\n                token\n              } = json.data.token;\n              let userData = {\n                id,\n                fname,\n                lname,\n                email,\n                phone,\n                token,\n                timestamp: new Date().toString()\n              };\n              let appState = {\n                isLoggedIn: true,\n                user: userData\n              }; // save app state with user date in local storage\n\n              localStorage[\"appState\"] = JSON.stringify(appState);\n              this.setState({\n                isLoggedIn: appState.isLoggedIn,\n                user: appState.user,\n                token: appState.token\n              }); // redirect home\n\n              this.props.history.push(\"/dashboard\");\n            } else {\n              // alert(`Registration Failed!`);\n              swal(\"Failed\", \"Registration Failed\", \"error\");\n              $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n            }\n          }).catch(error => {\n            // alert(\"An Error Occured!\" + error);\n            let res = (error.response.data.message.fname || \"\") + (error.response.data.message.lname || \"\") + (error.response.data.message.email || \"\") + (error.response.data.message.phone || \"\") + (error.response.data.message.password || \"\");\n            swal(\"Error!\", \"\" + res, \"error\", {\n              button: false // timer: 1500\n\n            }); //console.log(error);\n\n            $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n          });\n        });\n      },\n      onClose: () => null\n    };\n    return /*#__PURE__*/React.createElement(\"body\", {\n      className: \"page-overview  ac-gn-current-music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"ac-ln-curtain\",\n      for: \"ac-ln-menustate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      id: \"main\",\n      className: \"main\",\n      role: \"main\",\n      \"data-page-type\": \"overview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scroll-sequence\",\n      \"data-component-list\": \"ScrollSequence\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sequence-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-sequence\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"canvas-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"section-hero\",\n      className: \"section section-hero theme-dark\",\n      \"data-anim-scroll-group\": \"section-hero\",\n      \"data-analytics-fallback-section-engagement\": \"name:hero\",\n      \"data-analytics-activitymap-region-id\": \"hero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-copy-lockup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"copy-block align-text col\",\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }\n    }, \"Hi \", this.state.user.fname, \" \", this.state.user.lname, \" \\uD83D\\uDE01, Your Membership has Expired!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }\n    }, \"Click the button below to Renew Membership (N100,000)!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ac-ln-action ac-ln-action-button\",\n      style: {\n        marginBottom: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PaystackConsumer, Object.assign({}, componentPropsNGN, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }\n    }), ({\n      initializePayment\n    }) => /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => swal(\"You will be required to pay a membership fee of ₦100,000\", {\n        buttons: {\n          cancel: \"No, Cancel\",\n          catch: {\n            text: \"Yes, Continue\",\n            value: \"catch\"\n          }\n        }\n      }).then(value => {\n        switch (value) {\n          case \"catch\":\n            initializePayment();\n            break;\n\n          default:\n        }\n      }),\n      className: \"submit-button\",\n      \"data-analytics-title\": \"Renew The Sapio Club\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 25\n      }\n    }, \"Renew Membership Now\"))))))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ScriptTag, {\n      type: \"text/javascript\",\n      src: \"../assets/js/built.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nexport default Expired;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/Expired.js"],"names":["React","Component","Header","Link","Footer","ScriptTag","AOS","QRCode","axios","swal","CardIcon","Avatar","Expired","constructor","props","state","token","localStorage","JSON","parse","user","init","componentDidMount","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","setState","catch","error","console","render","configNGN","email","amount","currency","publicKey","componentPropsNGN","text","onSuccess","$","attr","html","payment_ref","trxref","method","url","log","auth_code","authorization","authorization_code","formData","FormData","append","_fname","value","_lname","_email","_phone","_password","post","message","button","timer","fname","lname","phone","userData","timestamp","Date","toString","appState","isLoggedIn","stringify","history","push","removeAttr","res","password","onClose","textAlign","marginBottom","initializePayment","buttons","cancel"],"mappings":"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","sourcesContent":["import React, { Component} from \"react\";\n\nimport Header from \"./common/Header\";\nimport { Link } from \"react-router-dom\";\nimport Footer from \"./common/Footer\";\n\nimport ScriptTag from \"react-script-tag\";\nimport AOS from \"aos\";\n\nimport QRCode from \"qrcode.react\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\nimport CardIcon from \"./assets/images/gold-card-image.png\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\n\nexport class Expired extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n    };\n    AOS.init();\n  }\n\n  componentDidMount() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            user: json.data.user[0],\n          });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  render() {\n\n    const configNGN = {\n        // reference: (new Date()).getTime(),\n        email: \"hipheckt@gmail.com\",\n        // plan: this.state.plan,\n        amount: \"100000\" + \"00\",\n        currency: \"NGN\",\n        // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n        publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\",\n      };\n  \n      const componentPropsNGN = {\n        ...configNGN,\n        text: \"Sapio Sibling Registration\",\n        onSuccess: (response) => {\n          // console.log(response);\n  \n          $(\"#reg-button\")\n            .attr(\"disabled\", \"disabled\")\n            .html(\n              '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Creating Account...</span>'\n            );\n  \n          this.setState({\n            payment_ref: response.trxref,\n          });\n  \n          axios({\n            method: \"get\",\n            url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n            // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n            headers: {\n              Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n              \"Content-Type\": \"application/json\",\n            },\n          })\n            .then((response) => {\n              console.log(response);\n              return response;\n            })\n            .then((json) => {\n  \n              this.setState({\n                auth_code: json.data.data.authorization.authorization_code,\n              });\n  \n              // swal(\n              //   \"Success!\",\n              //   this.state.auth_code,\n              //   \"success\",\n              //   {\n              //     button: false,\n              //     // timer: 1500,\n              //   }\n              // );\n  \n              var formData = new FormData();\n              formData.append(\"fname\", _fname.value);\n              formData.append(\"lname\", _lname.value);\n              formData.append(\"email\", _email.value);\n              formData.append(\"phone\", _phone.value);\n              formData.append(\"password\", _password.value);\n              formData.append(\"auth_code\", this.state.auth_code);\n  \n              axios\n                .post(`${axios.defaults.baseURL}/register`, formData)\n                .then((response) => {\n                  //console.log(response);\n                  return response;\n                })\n                .then((json) => {\n                  if (json.data.success) {\n                    // alert(`Registration Successful!`);\n                    swal(\"Success!\", json.data.message, \"success\", {\n                      button: false,\n                      timer: 1500,\n                    });\n                    const { id, fname, lname, email, phone } = json.data.user;\n                    const { token } = json.data.token;\n                    let userData = {\n                      id,\n                      fname,\n                      lname,\n                      email,\n                      phone,\n                      token,\n                      timestamp: new Date().toString(),\n                    };\n                    let appState = {\n                      isLoggedIn: true,\n                      user: userData,\n                    };\n                    // save app state with user date in local storage\n                    localStorage[\"appState\"] = JSON.stringify(appState);\n                    this.setState({\n                      isLoggedIn: appState.isLoggedIn,\n                      user: appState.user,\n                      token: appState.token,\n                    });\n                    // redirect home\n                    this.props.history.push(\"/dashboard\");\n                  } else {\n                    // alert(`Registration Failed!`);\n                    swal(\"Failed\", \"Registration Failed\", \"error\");\n                    $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n                  }\n                })\n                .catch((error) => {\n                  // alert(\"An Error Occured!\" + error);\n                  let res =\n                    (error.response.data.message.fname || \"\") +\n                    (error.response.data.message.lname || \"\") +\n                    (error.response.data.message.email || \"\") +\n                    (error.response.data.message.phone || \"\") +\n                    (error.response.data.message.password || \"\");\n                  swal(\"Error!\", \"\" + res, \"error\", {\n                    button: false,\n                    // timer: 1500\n                  });\n                  //console.log(error);\n                  $(\"#reg-button\").removeAttr(\"disabled\").html(\"Register\");\n                });\n            });\n        },\n        onClose: () => null,\n      };\n\n    return (\n      <body className=\"page-overview  ac-gn-current-music\">\n        <Header />\n        <label id=\"ac-ln-curtain\" for=\"ac-ln-menustate\"></label>\n        <main id=\"main\" className=\"main\" role=\"main\" data-page-type=\"overview\">\n          <div className=\"scroll-sequence\" data-component-list=\"ScrollSequence\">\n            <div className=\"sequence-container\">\n              <div className=\"image-sequence\">\n                <div className=\"canvas-container\"></div>\n              </div>\n            </div>\n          </div>\n          <section\n            id=\"section-hero\"\n            className=\"section section-hero theme-dark\"\n            data-anim-scroll-group=\"section-hero\"\n            data-analytics-fallback-section-engagement=\"name:hero\"\n            data-analytics-activitymap-region-id=\"hero\"\n          >\n            <br />\n            <div className=\"flex-copy-lockup\">\n              <div className=\"copy-block align-text col\" style={{textAlign:\"center\"}}>\n                <h4>\n                  Hi {this.state.user.fname} {this.state.user.lname} 😁, Your Membership has Expired!\n                </h4>\n                <p>Click the button below to Renew Membership (N100,000)!</p>\n\n                <div className=\"ac-ln-action ac-ln-action-button\" style={{marginBottom:\"200px\"}}>\n                <PaystackConsumer {...componentPropsNGN}>\n                      {({ initializePayment }) => (\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            swal(\n                              \"You will be required to pay a membership fee of ₦100,000\",\n                              {\n                                buttons: {\n                                  cancel: \"No, Cancel\",\n                                  catch: {\n                                    text: \"Yes, Continue\",\n                                    value: \"catch\",\n                                  },\n                                },\n                              }\n                            ).then((value) => {\n                              switch (value) {\n                                case \"catch\":\n                                  initializePayment();\n                                  break;\n\n                                default:\n                              }\n                            })\n                          }\n                          className=\"submit-button\"\n                          data-analytics-title=\"Renew The Sapio Club\"\n                        >\n                          Renew Membership Now\n                        </button>\n                      )}\n                    </PaystackConsumer>\n                      </div>\n              </div>\n              {/* CARD */}\n\n              {/* ENDCARD */}\n\n            </div>\n          </section>\n\n          {/* <QRCode value=\"http://facebook.github.io/react/\" /> */}\n        </main>\n        <Footer />\n        {/* Template Main JS File */}\n        <ScriptTag\n          type=\"text/javascript\"\n          src=\"../assets/js/built.js\"\n        />\n      </body>\n    );\n  }\n}\n\nexport default Expired;\n"]},"metadata":{},"sourceType":"module"}