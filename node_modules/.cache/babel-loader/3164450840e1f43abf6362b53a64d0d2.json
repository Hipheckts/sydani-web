{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/niyiogunwuyi/react/src/Gallery.js\";\nimport React, { Component } from 'react';\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\n\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport Gallery from 'react-grid-gallery';\nimport Header from './common/Header';\nimport Pen from \"./assets/images/icons/gallery.png\";\nimport Avatar from \"./assets/images/avatar.png\";\nimport Img1 from \"./assets/images/gallery/1.jpg\";\nimport Img2 from \"./assets/images/gallery/2.jpg\";\nimport Img3 from \"./assets/images/gallery/3.jpg\";\nimport Img4 from \"./assets/images/gallery/4.jpg\";\nimport Img5 from \"./assets/images/gallery/5.jpg\";\nimport Img6 from \"./assets/images/gallery/6.jpg\";\nimport Img7 from \"./assets/images/gallery/7.jpg\";\nimport Img8 from \"./assets/images/gallery/8.jpg\";\nimport Img9 from \"./assets/images/gallery/9.jpg\";\nimport Img10 from \"./assets/images/gallery/10.jpg\";\nimport Img11 from \"./assets/images/gallery/11.jpg\";\nimport Img12 from \"./assets/images/gallery/12.jpg\";\nimport Img13 from \"./assets/images/gallery/13.jpg\";\nimport Img14 from \"./assets/images/gallery/14.jpg\";\nimport Img15 from \"./assets/images/gallery/15.jpg\";\nimport Img16 from \"./assets/images/gallery/16.jpg\";\nimport Img17 from \"./assets/images/gallery/17.jpg\";\nimport Img18 from \"./assets/images/gallery/18.jpg\";\nimport Img19 from \"./assets/images/gallery/19.jpg\";\nimport Img20 from \"./assets/images/gallery/20.jpg\";\nimport Img21 from \"./assets/images/gallery/21.jpg\";\nimport Img22 from \"./assets/images/gallery/22.jpg\";\nimport Img23 from \"./assets/images/gallery/23.jpg\";\nimport Img24 from \"./assets/images/gallery/24.jpg\";\nimport Img25 from \"./assets/images/gallery/25.jpg\";\nimport Img26 from \"./assets/images/gallery/26.jpg\";\nimport Img27 from \"./assets/images/gallery/27.jpg\";\nimport Img28 from \"./assets/images/gallery/28.jpg\";\nimport Img29 from \"./assets/images/gallery/29.jpg\";\nimport Img30 from \"./assets/images/gallery/30.jpg\";\nimport Img31 from \"./assets/images/gallery/31.jpg\";\nimport Img32 from \"./assets/images/gallery/32.jpg\";\nimport Img33 from \"./assets/images/gallery/33.jpg\";\nimport Img34 from \"./assets/images/gallery/34.jpg\";\nimport Img35 from \"./assets/images/gallery/35.jpg\";\nimport Img36 from \"./assets/images/gallery/36.jpg\";\nimport Img37 from \"./assets/images/gallery/37.jpg\";\nimport Img38 from \"./assets/images/gallery/38.jpg\";\nimport Img40 from \"./assets/images/gallery/40.jpg\";\n\nvar _name, _tags;\n\nconst {\n  currentPage,\n  tributesPerPage\n} = this.state;\nconst renderTributes = currentTributes.map((tribute, index) => {\n  return {\n    src: tribute.photo,\n    thumbnail: tribute.photo,\n    // tags: [{value: \"Niyi\"}],\n    caption: \"\"\n  };\n});\nconst IMAGES = [renderTributes, {\n  src: Img1,\n  thumbnail: Img1,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img2,\n  thumbnail: Img2,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img3,\n  thumbnail: Img3,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img4,\n  thumbnail: Img4,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img5,\n  thumbnail: Img5,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img6,\n  thumbnail: Img6,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img7,\n  thumbnail: Img7,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img8,\n  thumbnail: Img8,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img9,\n  thumbnail: Img9,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img10,\n  thumbnail: Img10,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img11,\n  thumbnail: Img11,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img12,\n  thumbnail: Img12,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img13,\n  thumbnail: Img13,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img14,\n  thumbnail: Img14,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img15,\n  thumbnail: Img15,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img16,\n  thumbnail: Img16,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img17,\n  thumbnail: Img17,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img18,\n  thumbnail: Img18,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img19,\n  thumbnail: Img19,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img20,\n  thumbnail: Img20,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img21,\n  thumbnail: Img21,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img22,\n  thumbnail: Img22,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img23,\n  thumbnail: Img23,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img24,\n  thumbnail: Img24,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img25,\n  thumbnail: Img25,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img26,\n  thumbnail: Img26,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img27,\n  thumbnail: Img27,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img28,\n  thumbnail: Img28,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img29,\n  thumbnail: Img29,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img30,\n  thumbnail: Img30,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img31,\n  thumbnail: Img31,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img32,\n  thumbnail: Img32,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img33,\n  thumbnail: Img33,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img34,\n  thumbnail: Img34,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img35,\n  thumbnail: Img35,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img36,\n  thumbnail: Img36,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img37,\n  thumbnail: Img37,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img38,\n  thumbnail: Img38,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img40,\n  thumbnail: Img40,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}, {\n  src: Img40,\n  thumbnail: Img40,\n  // tags: [{value: \"Niyi\"}],\n  caption: \"\"\n}];\nexport default class Galleri extends Component {\n  constructor(props) {\n    super(props); // let { user } = this.props.appstate;\n\n    this.fetchTributes = e => {\n      axios.get(`${axios.defaults.baseURL}/photos`).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            tributes: json.data.tributes\n          });\n        } else alert(\"Fetching Tributes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.handleTributePost = e => {\n      e.preventDefault();\n      var formData = new FormData();\n      formData.append(\"name\", _name.value);\n      formData.append(\"photo\", this.state.file);\n      formData.append(\"tags\", _tags.value);\n      console.log(formData);\n      axios({\n        method: 'post',\n        url: `${axios.defaults.baseURL}/photo`,\n        data: formData,\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      }).then(response => {\n        console.log(response);\n        return response;\n      }).then(json => {\n        const {\n          id,\n          name,\n          photo,\n          tags\n        } = json.data.tribute;\n        let tributeData = {\n          id,\n          name,\n          photo,\n          tags,\n          timestamp: new Date().toString()\n        };\n        let appState = {\n          tribute: tributeData\n        }; // save app state with user date in local storage\n\n        localStorage[\"appState\"] = JSON.stringify(appState);\n        this.setState({\n          tribute: appState.tribute\n        });\n\n        if (json.data.success === true) {\n          swal(\"Published!\", \"\" + json.data.message, \"success\", {\n            button: false,\n            timer: 1500\n          });\n          $(\"#name-input\").val('');\n          $(\"#photo-input\").val('');\n          $(\"#tag-input\").val('');\n          this.fetchTributes(); // redirect home\n          // this.props.history.push(\"/dashboard\");\n        } else {\n          // alert(json.data.message);\n          swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n        }\n      }).catch(error => {\n        // alert(\"An Error Occured!\" + error);\n        console.log(error.response.data);\n        swal(\"Warning!\", \"\" + error.response.data.message.tribute, \"warning\");\n      });\n    };\n\n    this.uploadPhoto = e => {\n      this.photoUpload.click();\n    };\n\n    this.onChange = event => {\n      this.setState({\n        imageSource: '',\n        imageData: '',\n        file: event.target.files[0]\n      });\n      const file = event.target.files[0];\n      console.log(file);\n\n      if (file) {\n        let reader = new FileReader();\n        reader.readAsDataURL(event.target.files[0]);\n\n        reader.onload = event => {\n          this.setState({\n            imageSource: event.target.result,\n            imageData: file\n          });\n        };\n      }\n    };\n\n    this.state = {\n      imageSource: '',\n      file: null,\n      tributes: [],\n      currentPage: 1,\n      tributesPerPage: 50\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.fetchTributes();\n  }\n\n  render() {\n    const {\n      currentPage,\n      tributesPerPage\n    } = this.state; // Logic for displaying tributes\n\n    const tributesList = this.state.tributes;\n    const indexOfLastTribute = currentPage * tributesPerPage;\n    const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n    const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n    const renderTributes = currentTributes.map((tribute, index) => {\n      return /*#__PURE__*/React.createElement(\"img\", {\n        src: tribute.photo,\n        key: tribute.id,\n        className: \"gallery-image\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 17\n        }\n      });\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-canvas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 49\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 21\n      }\n    }, \"Gallery \", /*#__PURE__*/React.createElement(\"img\", {\n      src: Pen,\n      className: \"pen\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 33\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"gallery-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 17\n      }\n    }, renderTributes, /*#__PURE__*/React.createElement(Gallery, {\n      images: IMAGES,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 22\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 27\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-tribute-card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"text-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 17\n      }\n    }, \"Upload Image \", /*#__PURE__*/React.createElement(\"img\", {\n      src: Pen,\n      className: \"pen\",\n      alt: \"\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 57\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 101\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      onClick: this.uploadPhoto,\n      className: \"center-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"img-holder\",\n      src: this.state.imageSource ? this.state.imageSource : Avatar,\n      alt: \"user-avatar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 29\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 31\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 36\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"post-tribute-section\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"story-entry-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.handleTributePost,\n      method: \"post\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.photoUpload = input,\n      onChange: this.onChange,\n      name: \"photo\",\n      type: \"file\",\n      class: \"form-control image-input\",\n      id: \"photo-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _name = input,\n      name: \"name\",\n      placeholder: \"Please enter your name\",\n      type: \"text\",\n      class: \"form-control\",\n      id: \"name-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => _tags = input,\n      name: \"tags\",\n      placeholder: \"Tag friends and family, separate with comma\",\n      type: \"text\",\n      class: \"form-control\",\n      id: \"tag-input\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 485,\n        columnNumber: 33\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      class: \"btn btn-primary float-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 29\n      }\n    }, \"Upload Photo\"))))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/hipheckt/codes/niyiogunwuyi/react/src/Gallery.js"],"names":["React","Component","axios","swal","$","Gallery","Header","Pen","Avatar","Img1","Img2","Img3","Img4","Img5","Img6","Img7","Img8","Img9","Img10","Img11","Img12","Img13","Img14","Img15","Img16","Img17","Img18","Img19","Img20","Img21","Img22","Img23","Img24","Img25","Img26","Img27","Img28","Img29","Img30","Img31","Img32","Img33","Img34","Img35","Img36","Img37","Img38","Img40","_name","_tags","currentPage","tributesPerPage","state","renderTributes","currentTributes","map","tribute","index","src","photo","thumbnail","caption","IMAGES","Galleri","constructor","props","fetchTributes","e","get","defaults","baseURL","then","response","console","log","json","data","success","setState","tributes","alert","catch","error","handleTributePost","preventDefault","formData","FormData","append","value","file","method","url","headers","id","name","tags","tributeData","timestamp","Date","toString","appState","localStorage","JSON","stringify","message","button","timer","val","uploadPhoto","photoUpload","click","onChange","event","imageSource","imageData","target","files","reader","FileReader","readAsDataURL","onload","result","bind","componentDidMount","render","tributesList","indexOfLastTribute","indexOfFirstTribute","slice","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\n// import Sound from 'react-sound';\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport Gallery from 'react-grid-gallery';\n\n\nimport Header from './common/Header'\n\nimport Pen from \"./assets/images/icons/gallery.png\";\nimport Avatar from \"./assets/images/avatar.png\";\nimport Img1 from \"./assets/images/gallery/1.jpg\";\nimport Img2 from \"./assets/images/gallery/2.jpg\";\nimport Img3 from \"./assets/images/gallery/3.jpg\";\nimport Img4 from \"./assets/images/gallery/4.jpg\";\nimport Img5 from \"./assets/images/gallery/5.jpg\";\nimport Img6 from \"./assets/images/gallery/6.jpg\";\nimport Img7 from \"./assets/images/gallery/7.jpg\";\nimport Img8 from \"./assets/images/gallery/8.jpg\";\nimport Img9 from \"./assets/images/gallery/9.jpg\";\nimport Img10 from \"./assets/images/gallery/10.jpg\";\nimport Img11 from \"./assets/images/gallery/11.jpg\";\nimport Img12 from \"./assets/images/gallery/12.jpg\";\nimport Img13 from \"./assets/images/gallery/13.jpg\";\nimport Img14 from \"./assets/images/gallery/14.jpg\";\nimport Img15 from \"./assets/images/gallery/15.jpg\";\nimport Img16 from \"./assets/images/gallery/16.jpg\";\nimport Img17 from \"./assets/images/gallery/17.jpg\";\nimport Img18 from \"./assets/images/gallery/18.jpg\";\nimport Img19 from \"./assets/images/gallery/19.jpg\";\nimport Img20 from \"./assets/images/gallery/20.jpg\";\nimport Img21 from \"./assets/images/gallery/21.jpg\";\nimport Img22 from \"./assets/images/gallery/22.jpg\";\nimport Img23 from \"./assets/images/gallery/23.jpg\";\nimport Img24 from \"./assets/images/gallery/24.jpg\";\nimport Img25 from \"./assets/images/gallery/25.jpg\";\nimport Img26 from \"./assets/images/gallery/26.jpg\";\nimport Img27 from \"./assets/images/gallery/27.jpg\";\nimport Img28 from \"./assets/images/gallery/28.jpg\";\nimport Img29 from \"./assets/images/gallery/29.jpg\";\nimport Img30 from \"./assets/images/gallery/30.jpg\";\nimport Img31 from \"./assets/images/gallery/31.jpg\";\nimport Img32 from \"./assets/images/gallery/32.jpg\";\nimport Img33 from \"./assets/images/gallery/33.jpg\";\nimport Img34 from \"./assets/images/gallery/34.jpg\";\nimport Img35 from \"./assets/images/gallery/35.jpg\";\nimport Img36 from \"./assets/images/gallery/36.jpg\";\nimport Img37 from \"./assets/images/gallery/37.jpg\";\nimport Img38 from \"./assets/images/gallery/38.jpg\";\nimport Img40 from \"./assets/images/gallery/40.jpg\";\n\nvar _name, _tags;\n\nconst { currentPage, tributesPerPage } = this.state;\n\nconst renderTributes = currentTributes.map((tribute, index) => {\n    return (\n        {\n            src: tribute.photo,\n            thumbnail: tribute.photo,\n            // tags: [{value: \"Niyi\"}],\n            caption: \"\"\n        }\n    );\n});\n\n\nconst IMAGES =\n[   \n    renderTributes,\n    {\n        src: Img1,\n        thumbnail: Img1,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img2,\n        thumbnail: Img2,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img3,\n        thumbnail: Img3,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img4,\n        thumbnail: Img4,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img5,\n        thumbnail: Img5,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img6,\n        thumbnail: Img6,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img7,\n        thumbnail: Img7,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img8,\n        thumbnail: Img8,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img9,\n        thumbnail: Img9,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img10,\n        thumbnail: Img10,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img11,\n        thumbnail: Img11,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img12,\n        thumbnail: Img12,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img13,\n        thumbnail: Img13,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img14,\n        thumbnail: Img14,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img15,\n        thumbnail: Img15,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img16,\n        thumbnail: Img16,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img17,\n        thumbnail: Img17,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img18,\n        thumbnail: Img18,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img19,\n        thumbnail: Img19,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img20,\n        thumbnail: Img20,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img21,\n        thumbnail: Img21,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img22,\n        thumbnail: Img22,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img23,\n        thumbnail: Img23,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img24,\n        thumbnail: Img24,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img25,\n        thumbnail: Img25,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img26,\n        thumbnail: Img26,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img27,\n        thumbnail: Img27,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img28,\n        thumbnail: Img28,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img29,\n        thumbnail: Img29,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img30,\n        thumbnail: Img30,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img31,\n        thumbnail: Img31,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img32,\n        thumbnail: Img32,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img33,\n        thumbnail: Img33,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img34,\n        thumbnail: Img34,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img35,\n        thumbnail: Img35,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img36,\n        thumbnail: Img36,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img37,\n        thumbnail: Img37,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img38,\n        thumbnail: Img38,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img40,\n        thumbnail: Img40,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    },\n    {\n        src: Img40,\n        thumbnail: Img40,\n        // tags: [{value: \"Niyi\"}],\n        caption: \"\"\n    }\n]\n\n\nexport default class Galleri extends Component {\n    constructor(props) {\n        super(props);\n        // let { user } = this.props.appstate;\n        this.state = {\n          imageSource: '',\n          file: null,\n          tributes: [],\n          currentPage: 1,\n          tributesPerPage: 50\n        };\n        this.onChange = this.onChange.bind(this);\n      }\n\n      componentDidMount() {\n        this.fetchTributes();\n      }\n      \n      fetchTributes = e => {\n        axios\n          .get(`${axios.defaults.baseURL}/photos`)\n          .then(response => {\n            console.log(response);\n            return response;\n          })\n          .then(json => {\n            if (json.data.success) {\n              this.setState({ tributes: json.data.tributes });\n            } else alert(\"Fetching Tributes Failed!\");\n          })\n          .catch(error => {\n            console.error(`An Error Occured! ${error}`);\n          });\n      }\n    \n      handleTributePost = e => {\n        e.preventDefault();\n    \n        var formData = new FormData();\n        formData.append(\"name\", _name.value);\n        formData.append(\"photo\", this.state.file);\n        formData.append(\"tags\", _tags.value);\n    \n        console.log(formData);\n    \n      axios({\n          method: 'post',\n          url: `${axios.defaults.baseURL}/photo`,\n          data: formData,\n            headers: {'Content-Type': 'multipart/form-data' }\n            })\n        .then(response => {\n          console.log(response);\n          return response;\n        })\n        .then(json => {\n          const { id, name, photo, tags } = json.data.tribute;\n          let tributeData = {\n            id,\n            name,\n            photo,\n            tags,\n            timestamp: new Date().toString()\n          };\n          let appState = {\n            tribute: tributeData\n          };\n          // save app state with user date in local storage\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            tribute: appState.tribute,\n          });\n    \n          if (json.data.success === true) {\n            swal(\"Published!\", \"\" + json.data.message, \"success\", {\n              button: false,\n              timer: 1500\n            });\n            $(\"#name-input\").val('');\n            $(\"#photo-input\").val('');\n            $(\"#tag-input\").val('');\n            this.fetchTributes();\n            // redirect home\n            // this.props.history.push(\"/dashboard\");\n          } else {\n            // alert(json.data.message);\n            swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n          }\n    \n        })\n        .catch(error => {\n          // alert(\"An Error Occured!\" + error);\n          console.log(error.response.data);\n          swal(\"Warning!\", \"\" + error.response.data.message.tribute, \"warning\");\n        });\n    \n      };\n\n    uploadPhoto = e => {\n    this.photoUpload.click();\n    };\n\n    onChange = event => {\n    this.setState({ imageSource: '', imageData: '', file:event.target.files[0] });\n    const file = event.target.files[0];\n    console.log(file);\n\n    if (file) {\n        let reader = new FileReader();\n        reader.readAsDataURL(event.target.files[0]);\n        reader.onload = event => {\n        this.setState({\n            imageSource: event.target.result,\n            imageData: file\n        });\n        };\n    }\n    };\n    \n    render() {\n    const { currentPage, tributesPerPage } = this.state;\n\n        // Logic for displaying tributes\n        const tributesList = this.state.tributes;\n        const indexOfLastTribute = currentPage * tributesPerPage;\n        const indexOfFirstTribute = indexOfLastTribute - tributesPerPage;\n        const currentTributes = tributesList.slice(indexOfFirstTribute, indexOfLastTribute);\n\n        const renderTributes = currentTributes.map((tribute, index) => {\n        return (\n                <img src={tribute.photo} key={tribute.id} className=\"gallery-image\" alt=\"\"/>\n        );\n        });\n        return (\n            <div>\n                <Header/>\n                <div className=\"center-canvas\">\n                <div className=\"center-content\"><br/>\n                    <h4>Gallery <img src={Pen} className=\"pen\" alt=\"\"/></h4>\n                </div>\n                <div className=\"gallery-section\">\n                    {renderTributes}\n                    <Gallery images={IMAGES}/>\n                </div>\n                <div><br/><br/>\n                <div className=\"clear\"></div>\n                <div className=\"post-tribute-card\">\n                <h4 className=\"text-white\">Upload Image <img src={Pen} className=\"pen\" alt=\"\"/></h4><br/>\n                        <div onClick={this.uploadPhoto} className=\"center-content\">\n                            <img\n                                className=\"img-holder\"\n                                src={\n                                this.state.imageSource\n                                    ? this.state.imageSource\n                                    : Avatar\n                                }\n                                alt=\"user-avatar\"\n                            /><br/><br/>\n                        </div>\n                        <div className=\"post-tribute-section\">\n                        <div className=\"story-entry-form\">\n                            <form onSubmit={this.handleTributePost} method=\"post\">\n                            <div class=\"form-group\">\n                                <input ref={input => (this.photoUpload = input)} onChange= {this.onChange} name=\"photo\" type=\"file\" class=\"form-control image-input\" id=\"photo-input\"/>\n                            </div>\n                            <div class=\"form-group\">\n                                <input ref={input => (_name = input)} name=\"name\"  placeholder=\"Please enter your name\" type=\"text\" class=\"form-control\" id=\"name-input\"/>\n                            </div>\n                            <div class=\"form-group\">\n                                <input ref={input => (_tags = input)} name=\"tags\"  placeholder=\"Tag friends and family, separate with comma\" type=\"text\" class=\"form-control\" id=\"tag-input\"/>\n                            </div>\n                            <button type=\"submit\" class=\"btn btn-primary float-right\">Upload Photo</button>\n                            </form>\n                        </div>\n                        </div>\n                    </div>\n                </div>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}