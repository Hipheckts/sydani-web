{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/sapioclub/react/src/auth/Register.js\";\nimport React from \"react\";\nimport { Link, Redirect, Route } from \"react-router-dom\";\nimport Header from \"../common/Header\";\nimport Footer from \"../common/Footer\";\nimport ScriptTag from \"react-script-tag\";\nimport NumberFormat from \"react-number-format\";\nimport { PaystackConsumer } from \"react-paystack\";\nimport AOS from \"aos\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nconst Register = ({}) => {\n  // const Register = ({ history, registerUser = (f) => f }) => {\n  let _fname, _lname, _email, _phone, _password; // let ref_url_raw = window.location.href;\n  // let ref_url = localStorage[\"refState\"]\n  //   ? JSON.parse(localStorage[\"refState\"]).refURL\n  //   : \"\";\n  // // console.log(ref_url);\n  // // save ref_url state in local storage\n  // let refState = {\n  //   refURL: ref_url_raw,\n  // };\n  // localStorage[\"refState\"] = JSON.stringify(refState);\n  // const handleRegistration = (e) => {\n  //   e.preventDefault();\n  //   registerUser(\n  //     _fname.value,\n  //     _lname.value,\n  //     _email.value,\n  //     _phone.value,\n  //     _password.value,\n  //     ref_url\n  //   );\n  // };\n\n\n  const isLoggedIn = localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).isLoggedIn : \"\";\n  const configNGN = {\n    // reference: (new Date()).getTime(),\n    email: \"hipheckt@gmail.com\",\n    // plan: this.state.plan,\n    amount: \"100000\" + \"00\",\n    currency: \"NGN\",\n    // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n    publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\"\n  };\n  const componentPropsNGN = { ...configNGN,\n    text: \"Sapio Sibling Registration\",\n    onSuccess: response => {\n      // console.log(response);\n      this.setState({\n        payment_ref: response.trxref\n      });\n      axios({\n        method: \"get\",\n        url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n        // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n        headers: {\n          Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n          \"Content-Type\": \"application/json\"\n        }\n      }).then(response => {\n        //console.log(response);\n        return response;\n      }).then(json => {\n        swal(\"Success!\", \"Payment Plan Activation was Successful!\", \"success\", {\n          button: false,\n          timer: 1500\n        }); // var formData = new FormData();\n\n        var formData = new FormData();\n        formData.append(\"fname\", _fname.value);\n        formData.append(\"lname\", _lname.value);\n        formData.append(\"email\", _email.value);\n        formData.append(\"phone\", _phone).value;\n        formData.append(\"password\", _password.value);\n        formData.append(\"auth_code\", json.data.data.authorization.authorization_code);\n        axios.post(`${axios.defaults.baseURL}/register`, formData).then(response => {\n          //console.log(response);\n          return response;\n        }).then(json => {\n          if (json.data.success) {\n            // alert(`Registration Successful!`);\n            swal(\"Success!\", json.data.message, \"success\", {\n              button: false,\n              timer: 1500\n            });\n            const {\n              id,\n              fname,\n              lname,\n              email,\n              phone\n            } = json.data.user;\n            const {\n              token\n            } = json.data.token;\n            let userData = {\n              id,\n              fname,\n              lname,\n              email,\n              phone,\n              token,\n              timestamp: new Date().toString()\n            };\n            let appState = {\n              isLoggedIn: true,\n              user: userData\n            }; // save app state with user date in local storage\n\n            localStorage[\"appState\"] = JSON.stringify(appState);\n            this.setState({\n              isLoggedIn: appState.isLoggedIn,\n              user: appState.user,\n              token: appState.token\n            }); // redirect home\n\n            this.props.history.push(\"/dashboard\");\n          } else {\n            // alert(`Registration Failed!`);\n            swal(\"Failed\", \"Registration Failed\", \"error\");\n            $(\"#reg button\").removeAttr(\"disabled\").html(\"Register\");\n          }\n        }).catch(error => {\n          // alert(\"An Error Occured!\" + error);\n          let res = (error.response.data.message.fname || \"\") + (error.response.data.message.lname || \"\") + (error.response.data.message.email || \"\") + (error.response.data.message.phone || \"\") + (error.response.data.message.password || \"\");\n          swal(\"Error!\", \"\" + res, \"error\", {\n            button: false // timer: 1500\n\n          }); //console.log(error);\n\n          $(\"#reg button\").removeAttr(\"disabled\").html(\"Register\");\n        });\n      });\n    },\n    onClose: () => null\n  };\n  return isLoggedIn ? /*#__PURE__*/React.createElement(Redirect, {\n    to: {\n      pathname: \"/dashboard\",\n      state: {\n        from: \"/register\"\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }\n  }) : /*#__PURE__*/React.createElement(\"body\", {\n    className: \"page-overview  ac-gn-current-music\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    id: \"section-battery\",\n    className: \"section section-battery theme-dark\",\n    \"data-anim-scroll-group\": \"section-battery\",\n    \"data-analytics-fallback-section-engagement\": \"name:battery\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"copy-scroll-container\",\n    \"data-component-list\": \"CopyMagic\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sticky-copy-lockup flex-copy-lockup intro\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    \"data-copy\": \"0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"typography-section-eyebrow align-text default-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 15\n    }\n  }, \"Become a Sapio Sibling!\"), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"firstname\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, \"Firstname\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: input => _fname = input,\n    type: \"firstname\",\n    name: \"firstname\",\n    id: \"firstname\",\n    className: \"form-control input-field\",\n    placeholder: \"Firstname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"lastname\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 21\n    }\n  }, \"Lastname\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: input => _lname = input,\n    type: \"lastname\",\n    name: \"lastname\",\n    id: \"lastname\",\n    className: \"form-control input-field\",\n    placeholder: \"Lastname\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"email\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 21\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: input => _email = input,\n    type: \"email\",\n    name: \"email\",\n    id: \"email\",\n    className: \"form-control input-field\",\n    placeholder: \"Email Address\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"telephone\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 21\n    }\n  }, \"Telephone\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: input => _phone = input,\n    type: \"telephone\",\n    name: \"telephone\",\n    id: \"telephone\",\n    className: \"form-control input-field\",\n    placeholder: \"Telephone\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group col\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    for: \"password\",\n    className: \"sr-only\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 21\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    ref: input => _password = input,\n    type: \"password\",\n    name: \"password\",\n    id: \"password\",\n    className: \"form-control input-field\",\n    placeholder: \"Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(PaystackConsumer, Object.assign({}, componentPropsNGN, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 19\n    }\n  }), ({\n    initializePayment\n  }) => /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => swal(\"You will be required to pay your membership fee\", {\n      buttons: {\n        cancel: \"No, Cancel\",\n        catch: {\n          text: \"Yes, Continue\",\n          value: \"catch\"\n        }\n      }\n    }).then(value => {\n      switch (value) {\n        case \"catch\":\n          initializePayment();\n          break;\n\n        default:\n      }\n    }),\n    id: \"submit\",\n    name: \"register-button\",\n    className: \"submit-button\",\n    style: {\n      marginTop: \"32px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 23\n    }\n  }, \"Register Account\")))))))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ScriptTag, {\n    type: \"text/javascript\",\n    src: \"https://www.apple.com/ac/localnav/5/scripts/ac-localnav.built.js\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default Register;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/auth/Register.js"],"names":["React","Link","Redirect","Route","Header","Footer","ScriptTag","NumberFormat","PaystackConsumer","AOS","axios","swal","$","Register","_fname","_lname","_email","_phone","_password","isLoggedIn","localStorage","JSON","parse","configNGN","email","amount","currency","publicKey","componentPropsNGN","text","onSuccess","response","setState","payment_ref","trxref","method","url","state","headers","Authorization","then","json","button","timer","formData","FormData","append","value","data","authorization","authorization_code","post","defaults","baseURL","success","message","id","fname","lname","phone","user","token","userData","timestamp","Date","toString","appState","stringify","props","history","push","removeAttr","html","catch","error","res","password","onClose","pathname","from","input","initializePayment","buttons","cancel","marginTop"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Link, Redirect, Route } from \"react-router-dom\";\n\nimport Header from \"../common/Header\";\nimport Footer from \"../common/Footer\";\n\nimport ScriptTag from \"react-script-tag\";\nimport NumberFormat from \"react-number-format\";\nimport { PaystackConsumer } from \"react-paystack\";\n\nimport AOS from \"aos\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nconst Register = ({}) => {\n// const Register = ({ history, registerUser = (f) => f }) => {\n  let _fname, _lname, _email, _phone, _password;\n\n  // let ref_url_raw = window.location.href;\n\n  // let ref_url = localStorage[\"refState\"]\n  //   ? JSON.parse(localStorage[\"refState\"]).refURL\n  //   : \"\";\n\n  // // console.log(ref_url);\n\n  // // save ref_url state in local storage\n  // let refState = {\n  //   refURL: ref_url_raw,\n  // };\n  // localStorage[\"refState\"] = JSON.stringify(refState);\n\n  // const handleRegistration = (e) => {\n  //   e.preventDefault();\n\n  //   registerUser(\n  //     _fname.value,\n  //     _lname.value,\n  //     _email.value,\n  //     _phone.value,\n  //     _password.value,\n  //     ref_url\n  //   );\n  // };\n\n  const isLoggedIn = localStorage[\"appState\"]\n    ? JSON.parse(localStorage[\"appState\"]).isLoggedIn\n    : \"\";\n\n  const configNGN = {\n    // reference: (new Date()).getTime(),\n    email: \"hipheckt@gmail.com\",\n    // plan: this.state.plan,\n    amount: \"100000\" + \"00\",\n    currency: \"NGN\",\n    // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n    publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\",\n  };\n\n  const componentPropsNGN = {\n    ...configNGN,\n    text: \"Sapio Sibling Registration\",\n    onSuccess: (response) => {\n      // console.log(response);\n\n      this.setState({\n        payment_ref: response.trxref,\n      });\n\n      axios({\n        method: \"get\",\n        url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n        // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n        headers: {\n          Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n          \"Content-Type\": \"application/json\",\n        },\n      })\n        .then((response) => {\n          //console.log(response);\n          return response;\n        })\n        .then((json) => {\n\n          swal(\n            \"Success!\",\n            \"Payment Plan Activation was Successful!\",\n            \"success\",\n            {\n              button: false,\n              timer: 1500,\n            }\n          );\n\n          // var formData = new FormData();\n\n          var formData = new FormData();\n          formData.append(\"fname\", _fname.value);\n          formData.append(\"lname\", _lname.value);\n          formData.append(\"email\", _email.value);\n          formData.append(\"phone\", _phone).value;\n          formData.append(\"password\", _password.value);\n          formData.append(\"auth_code\", json.data.data.authorization.authorization_code);\n\n          axios\n            .post(`${axios.defaults.baseURL}/register`, formData)\n            .then((response) => {\n              //console.log(response);\n              return response;\n            })\n            .then((json) => {\n              if (json.data.success) {\n                // alert(`Registration Successful!`);\n                swal(\"Success!\", json.data.message, \"success\", {\n                  button: false,\n                  timer: 1500,\n                });\n                const { id, fname, lname, email, phone } = json.data.user;\n                const { token } = json.data.token;\n                let userData = {\n                  id,\n                  fname,\n                  lname,\n                  email,\n                  phone,\n                  token,\n                  timestamp: new Date().toString(),\n                };\n                let appState = {\n                  isLoggedIn: true,\n                  user: userData,\n                };\n                // save app state with user date in local storage\n                localStorage[\"appState\"] = JSON.stringify(appState);\n                this.setState({\n                  isLoggedIn: appState.isLoggedIn,\n                  user: appState.user,\n                  token: appState.token,\n                });\n                // redirect home\n                this.props.history.push(\"/dashboard\");\n              } else {\n                // alert(`Registration Failed!`);\n                swal(\"Failed\", \"Registration Failed\", \"error\");\n                $(\"#reg button\").removeAttr(\"disabled\").html(\"Register\");\n              }\n            })\n            .catch((error) => {\n              // alert(\"An Error Occured!\" + error);\n              let res =\n                (error.response.data.message.fname || \"\") +\n                (error.response.data.message.lname || \"\") +\n                (error.response.data.message.email || \"\") +\n                (error.response.data.message.phone || \"\") +\n                (error.response.data.message.password || \"\");\n              swal(\"Error!\", \"\" + res, \"error\", {\n                button: false,\n                // timer: 1500\n              });\n              //console.log(error);\n              $(\"#reg button\").removeAttr(\"disabled\").html(\"Register\");\n            });\n\n        });\n    },\n    onClose: () => null,\n  };\n\n  return isLoggedIn ? (\n    <Redirect to={{ pathname: \"/dashboard\", state: { from: \"/register\" } }} />\n  ) : (\n    <body className=\"page-overview  ac-gn-current-music\">\n      <Header />\n      <section\n        id=\"section-battery\"\n        className=\"section section-battery theme-dark\"\n        data-anim-scroll-group=\"section-battery\"\n        data-analytics-fallback-section-engagement=\"name:battery\"\n      >\n        <div className=\"copy-scroll-container\" data-component-list=\"CopyMagic\">\n          <div className=\"sticky-copy-lockup flex-copy-lockup intro\">\n            <div className=\"\" data-copy=\"0\">\n              <p className=\"typography-section-eyebrow align-text default-text\">\n                Become a Sapio Sibling!\n              </p>\n              {/* <form id=\"reg\" onSubmit={handleRegistration} method=\"post\"> */}\n              <form>\n                <div className=\"row\">\n                  <div className=\"form-group col\">\n                    <label for=\"firstname\" className=\"sr-only\">\n                      Firstname\n                    </label>\n                    <br />\n                    <input\n                      ref={(input) => (_fname = input)}\n                      type=\"firstname\"\n                      name=\"firstname\"\n                      id=\"firstname\"\n                      className=\"form-control input-field\"\n                      placeholder=\"Firstname\"\n                    />\n                  </div>\n                  <div className=\"form-group col\">\n                    <label for=\"lastname\" className=\"sr-only\">\n                      Lastname\n                    </label>\n                    <br />\n                    <input\n                      ref={(input) => (_lname = input)}\n                      type=\"lastname\"\n                      name=\"lastname\"\n                      id=\"lastname\"\n                      className=\"form-control input-field\"\n                      placeholder=\"Lastname\"\n                    />\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"form-group col\">\n                    <label for=\"email\" className=\"sr-only\">\n                      Email\n                    </label>\n                    <br />\n                    <input\n                      ref={(input) => (_email = input)}\n                      type=\"email\"\n                      name=\"email\"\n                      id=\"email\"\n                      className=\"form-control input-field\"\n                      placeholder=\"Email Address\"\n                    />\n                  </div>\n                  <div className=\"form-group col\">\n                    <label for=\"telephone\" className=\"sr-only\">\n                      Telephone\n                    </label>\n                    <br />\n                    <input\n                      ref={(input) => (_phone = input)}\n                      type=\"telephone\"\n                      name=\"telephone\"\n                      id=\"telephone\"\n                      className=\"form-control input-field\"\n                      placeholder=\"Telephone\"\n                    />\n                  </div>\n                </div>\n                <div className=\"row\">\n                  <div className=\"form-group col\">\n                    <label for=\"password\" className=\"sr-only\">\n                      Password\n                    </label>\n                    <br />\n                    <input\n                      ref={(input) => (_password = input)}\n                      type=\"password\"\n                      name=\"password\"\n                      id=\"password\"\n                      className=\"form-control input-field\"\n                      placeholder=\"Password\"\n                    />\n                  </div>\n                  {/* <div className=\"form-group col\">\n                    <button className=\"submit-button\" type=\"submit\" style={{marginTop:\"32px\"}}>\n                      Register\n                    </button>\n                  </div> */}\n                  <PaystackConsumer {...componentPropsNGN}>\n                    {({ initializePayment }) => (\n                      <button\n                        type=\"button\"\n                        onClick={() =>\n                          swal(\n                            \"You will be required to pay your membership fee\",\n                            {\n                              buttons: {\n                                cancel: \"No, Cancel\",\n                                catch: {\n                                  text: \"Yes, Continue\",\n                                  value: \"catch\",\n                                },\n                              },\n                            }\n                          ).then((value) => {\n                            switch (value) {\n                              case \"catch\":\n                                initializePayment();\n                                break;\n\n                              default:\n                            }\n                          })\n                        }\n                        id=\"submit\"\n                        name=\"register-button\"\n                        className=\"submit-button\"\n                        style={{ marginTop: \"32px\" }}\n                      >\n                        Register Account\n                      </button>\n                    )}\n                  </PaystackConsumer>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </section>\n      {/*/main*/}\n      <Footer />\n      {/* Template Main JS File */}\n      <ScriptTag\n        type=\"text/javascript\"\n        src=\"https://www.apple.com/ac/localnav/5/scripts/ac-localnav.built.js\"\n      />\n    </body>\n  );\n};\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}