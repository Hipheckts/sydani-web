{"ast":null,"code":"import _objectSpread from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"./common/Header\";import{Link}from\"react-router-dom\";import Footer from\"./common/Footer\";import{PaystackConsumer}from\"react-paystack\";import ScriptTag from\"react-script-tag\";import AOS from\"aos\";import QRCode from\"qrcode.react\";import axios from\"axios\";import swal from\"sweetalert\";import CardIcon from\"./assets/images/gold-card-image.png\";import Avatar from\"./assets/img/default-user-avatar.png\";export var Expired=/*#__PURE__*/function(_Component){_inherits(Expired,_Component);var _super=_createSuper(Expired);function Expired(props){var _this;_classCallCheck(this,Expired);_this=_super.call(this,props);_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[]};AOS.init();return _this;}_createClass(Expired,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),{headers:{Authorization:\"Bearer \".concat(this.state.token)}}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0]});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});// alert(id)\n}},{key:\"render\",value:function render(){var _this3=this;var configNGN={// reference: (new Date()).getTime(),\nemail:\"hipheckt@gmail.com\",// plan: this.state.plan,\namount:\"100000\"+\"00\",currency:\"NGN\",// publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\npublicKey:\"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\"};var componentPropsNGN=_objectSpread(_objectSpread({},configNGN),{},{text:\"Sapio Sibling Registration\",onSuccess:function onSuccess(response){// console.log(response);\n_this3.setState({payment_ref:response.trxref});axios({method:\"get\",url:\"https://api.paystack.co/transaction/verify/\".concat(_this3.state.payment_ref),// headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\nheaders:{Authorization:\"Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73\",\"Content-Type\":\"application/json\"}}).then(function(response){console.log(response);return response;}).then(function(json){axios.post(\"\".concat(axios.defaults.baseURL,\"/renew\")).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){// alert(`Registration Successful!`);\nswal(\"Success!\",json.data.message,\"success\",{button:false,timer:1500});// redirect home\n_this3.props.history.push(\"/dashboard\");}else{// alert(`Registration Failed!`);\nswal(\"Failed\",\"Renewal Failed\",\"error\");}}).catch(function(error){// alert(\"An Error Occured!\" + error);\nswal(\"Error!\",\"An Error Occured\",\"error\",{button:false// timer: 1500\n});});});},onClose:function onClose(){return null;}});return/*#__PURE__*/React.createElement(\"body\",{className:\"page-overview  ac-gn-current-music\"},/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"label\",{id:\"ac-ln-curtain\",for:\"ac-ln-menustate\"}),/*#__PURE__*/React.createElement(\"main\",{id:\"main\",className:\"main\",role:\"main\",\"data-page-type\":\"overview\"},/*#__PURE__*/React.createElement(\"div\",{className:\"scroll-sequence\",\"data-component-list\":\"ScrollSequence\"},/*#__PURE__*/React.createElement(\"div\",{className:\"sequence-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image-sequence\"},/*#__PURE__*/React.createElement(\"div\",{className:\"canvas-container\"})))),/*#__PURE__*/React.createElement(\"section\",{id:\"section-hero\",className:\"section section-hero theme-dark\",\"data-anim-scroll-group\":\"section-hero\",\"data-analytics-fallback-section-engagement\":\"name:hero\",\"data-analytics-activitymap-region-id\":\"hero\"},/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"flex-copy-lockup\"},/*#__PURE__*/React.createElement(\"div\",{className:\"copy-block align-text col\",style:{textAlign:\"center\"}},/*#__PURE__*/React.createElement(\"h4\",null,\"Hi \",this.state.user.fname,\" \",this.state.user.lname,\" \\uD83D\\uDE01, Your Membership has Expired!\"),/*#__PURE__*/React.createElement(\"p\",null,\"Click the button below to Renew Membership (N100,000)!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"ac-ln-action ac-ln-action-button\",style:{marginBottom:\"200px\"}},/*#__PURE__*/React.createElement(PaystackConsumer,componentPropsNGN,function(_ref){var initializePayment=_ref.initializePayment;return/*#__PURE__*/React.createElement(\"button\",{type:\"button\",onClick:function onClick(){return swal(\"You are about to pay a membership renewal fee of ₦100,000\",{buttons:{cancel:\"No, Cancel\",catch:{text:\"Yes, Continue\",value:\"catch\"}}}).then(function(value){switch(value){case\"catch\":initializePayment();break;default:}});},className:\"submit-button\",\"data-analytics-title\":\"Renew The Sapio Club\"},\"Renew Membership Now\");})))))),/*#__PURE__*/React.createElement(Footer,null),/*#__PURE__*/React.createElement(ScriptTag,{type:\"text/javascript\",src:\"../assets/js/built.js\"}));}}]);return Expired;}(Component);export default Expired;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/Expired.js"],"names":["React","Component","Header","Link","Footer","PaystackConsumer","ScriptTag","AOS","QRCode","axios","swal","CardIcon","Avatar","Expired","props","state","token","localStorage","JSON","parse","user","init","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","setState","catch","error","console","configNGN","email","amount","currency","publicKey","componentPropsNGN","text","onSuccess","payment_ref","trxref","method","url","log","post","message","button","timer","history","push","onClose","textAlign","fname","lname","marginBottom","initializePayment","buttons","cancel","value"],"mappings":"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","sourcesContent":["import React, { Component} from \"react\";\n\nimport Header from \"./common/Header\";\nimport { Link } from \"react-router-dom\";\nimport Footer from \"./common/Footer\";\nimport { PaystackConsumer } from \"react-paystack\";\n\nimport ScriptTag from \"react-script-tag\";\nimport AOS from \"aos\";\n\nimport QRCode from \"qrcode.react\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\nimport CardIcon from \"./assets/images/gold-card-image.png\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\n\nexport class Expired extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n    };\n    AOS.init();\n  }\n\n  componentDidMount() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            user: json.data.user[0],\n          });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  render() {\n\n    const configNGN = {\n        // reference: (new Date()).getTime(),\n        email: \"hipheckt@gmail.com\",\n        // plan: this.state.plan,\n        amount: \"100000\" + \"00\",\n        currency: \"NGN\",\n        // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n        publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\",\n      };\n  \n      const componentPropsNGN = {\n        ...configNGN,\n        text: \"Sapio Sibling Registration\",\n        onSuccess: (response) => {\n          // console.log(response);\n  \n          this.setState({\n            payment_ref: response.trxref,\n          });\n  \n          axios({\n            method: \"get\",\n            url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n            // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n            headers: {\n              Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n              \"Content-Type\": \"application/json\",\n            },\n          })\n            .then((response) => {\n              console.log(response);\n              return response;\n            })\n            .then((json) => {\n  \n             \n  \n              axios\n                .post(`${axios.defaults.baseURL}/renew`)\n                .then((response) => {\n                  //console.log(response);\n                  return response;\n                })\n                .then((json) => {\n                  if (json.data.success) {\n                    // alert(`Registration Successful!`);\n                    swal(\"Success!\", json.data.message, \"success\", {\n                      button: false,\n                      timer: 1500,\n                    });\n                    // redirect home\n                    this.props.history.push(\"/dashboard\");\n                  } else {\n                    // alert(`Registration Failed!`);\n                    swal(\"Failed\", \"Renewal Failed\", \"error\");\n                  }\n                })\n                .catch((error) => {\n                  // alert(\"An Error Occured!\" + error);\n                  swal(\"Error!\", \"An Error Occured\", \"error\", {\n                    button: false,\n                    // timer: 1500\n                  });\n                });\n            });\n        },\n        onClose: () => null,\n      };\n\n    return (\n      <body className=\"page-overview  ac-gn-current-music\">\n        <Header />\n        <label id=\"ac-ln-curtain\" for=\"ac-ln-menustate\"></label>\n        <main id=\"main\" className=\"main\" role=\"main\" data-page-type=\"overview\">\n          <div className=\"scroll-sequence\" data-component-list=\"ScrollSequence\">\n            <div className=\"sequence-container\">\n              <div className=\"image-sequence\">\n                <div className=\"canvas-container\"></div>\n              </div>\n            </div>\n          </div>\n          <section\n            id=\"section-hero\"\n            className=\"section section-hero theme-dark\"\n            data-anim-scroll-group=\"section-hero\"\n            data-analytics-fallback-section-engagement=\"name:hero\"\n            data-analytics-activitymap-region-id=\"hero\"\n          >\n            <br />\n            <div className=\"flex-copy-lockup\">\n              <div className=\"copy-block align-text col\" style={{textAlign:\"center\"}}>\n                <h4>\n                  Hi {this.state.user.fname} {this.state.user.lname} 😁, Your Membership has Expired!\n                </h4>\n                <p>Click the button below to Renew Membership (N100,000)!</p>\n\n                <div className=\"ac-ln-action ac-ln-action-button\" style={{marginBottom:\"200px\"}}>\n                <PaystackConsumer {...componentPropsNGN}>\n                      {({ initializePayment }) => (\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            swal(\n                              \"You are about to pay a membership renewal fee of ₦100,000\",\n                              {\n                                buttons: {\n                                  cancel: \"No, Cancel\",\n                                  catch: {\n                                    text: \"Yes, Continue\",\n                                    value: \"catch\",\n                                  },\n                                },\n                              }\n                            ).then((value) => {\n                              switch (value) {\n                                case \"catch\":\n                                  initializePayment();\n                                  break;\n\n                                default:\n                              }\n                            })\n                          }\n                          className=\"submit-button\"\n                          data-analytics-title=\"Renew The Sapio Club\"\n                        >\n                          Renew Membership Now\n                        </button>\n                      )}\n                    </PaystackConsumer>\n                      </div>\n              </div>\n              {/* CARD */}\n\n              {/* ENDCARD */}\n\n            </div>\n          </section>\n\n          {/* <QRCode value=\"http://facebook.github.io/react/\" /> */}\n        </main>\n        <Footer />\n        {/* Template Main JS File */}\n        <ScriptTag\n          type=\"text/javascript\"\n          src=\"../assets/js/built.js\"\n        />\n      </body>\n    );\n  }\n}\n\nexport default Expired;\n"]},"metadata":{},"sourceType":"module"}