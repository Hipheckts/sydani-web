{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/sapioclub/react/src/Expired.js\";\nimport React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport { Link } from \"react-router-dom\";\nimport Footer from \"./common/Footer\";\nimport { PaystackConsumer } from \"react-paystack\";\nimport ScriptTag from \"react-script-tag\";\nimport AOS from \"aos\";\nimport QRCode from \"qrcode.react\";\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport CardIcon from \"./assets/images/gold-card-image.png\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\nlet newDate = new Date();\nlet date = newDate.getDate();\nlet month = newDate.getMonth() + 1; // let year = newDate.getFullYear();\n\nlet finalDate = date + \"/\" + month; // console.log(finalDate);\n\nexport class Expired extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"] ? JSON.parse(localStorage[\"appState\"]).user.token : \"\",\n      user: []\n    };\n    AOS.init();\n  }\n\n  componentDidMount() {\n    axios.get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`, {\n      headers: {\n        Authorization: `Bearer ${this.state.token}`\n      }\n    }).then(response => {\n      //console.log(response);\n      return response;\n    }).then(json => {\n      if (json.data.success) {\n        this.setState({\n          user: json.data.user[0]\n        }); // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n    }).catch(error => {\n      console.error(`An Error Occured! ${error}`);\n    }); // alert(id)\n  }\n\n  render() {\n    const configNGN = {\n      // reference: (new Date()).getTime(),\n      email: \"hipheckt@gmail.com\",\n      // plan: this.state.plan,\n      amount: \"100000\" + \"00\",\n      currency: \"NGN\",\n      // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n      publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\"\n    };\n    const componentPropsNGN = { ...configNGN,\n      text: \"Sapio Sibling Registration\",\n      onSuccess: response => {\n        // console.log(response);\n        this.setState({\n          payment_ref: response.trxref\n        });\n        axios({\n          method: \"get\",\n          url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n          // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n          headers: {\n            Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n            \"Content-Type\": \"application/json\"\n          }\n        }).then(response => {\n          console.log(response);\n          return response;\n        }).then(json => {\n          axios.post(`${axios.defaults.baseURL}/renew/${this.state.user.id}`).then(response => {\n            //console.log(response);\n            return response;\n          }).then(json => {\n            if (json.data.success) {\n              // alert(`Registration Successful!`);\n              swal(\"Success!\", json.data.message, \"success\", {\n                button: false,\n                timer: 1500\n              }); // redirect home\n\n              this.props.history.push(\"/dashboard\");\n            } else {\n              // alert(`Registration Failed!`);\n              swal(\"Failed\", \"Renewal Failed\", \"error\");\n            }\n          }).catch(error => {\n            // alert(\"An Error Occured!\" + error);\n            swal(\"Error!\", \"An Error Occured\", \"error\", {\n              button: false // timer: 1500\n\n            });\n          });\n        });\n      },\n      onClose: () => null\n    };\n    return /*#__PURE__*/React.createElement(\"body\", {\n      className: \"page-overview  ac-gn-current-music\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      id: \"ac-ln-curtain\",\n      for: \"ac-ln-menustate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"main\", {\n      id: \"main\",\n      className: \"main\",\n      role: \"main\",\n      \"data-page-type\": \"overview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"scroll-sequence\",\n      \"data-component-list\": \"ScrollSequence\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sequence-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"image-sequence\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"canvas-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    })))), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"section-hero\",\n      className: \"section section-hero theme-dark\",\n      \"data-anim-scroll-group\": \"section-hero\",\n      \"data-analytics-fallback-section-engagement\": \"name:hero\",\n      \"data-analytics-activitymap-region-id\": \"hero\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-copy-lockup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 13\n      }\n    }, this.state.user.exp_date <= finalDate ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"copy-block align-text col\",\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 17\n      }\n    }, \"Hi \", this.state.user.fname, \" \", this.state.user.lname, \" \\uD83D\\uDE01, Your Membership has Expired!\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 17\n      }\n    }, \"Click the button below to Renew Membership (N100,000)!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ac-ln-action ac-ln-action-button\",\n      style: {\n        marginBottom: \"200px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(PaystackConsumer, Object.assign({}, componentPropsNGN, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 17\n      }\n    }), ({\n      initializePayment\n    }) => /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      onClick: () => swal(\"You are about to pay a membership renewal fee of ₦100,000\", {\n        buttons: {\n          cancel: \"No, Cancel\",\n          catch: {\n            text: \"Yes, Continue\",\n            value: \"catch\"\n          }\n        }\n      }).then(value => {\n        switch (value) {\n          case \"catch\":\n            initializePayment();\n            break;\n\n          default:\n        }\n      }),\n      className: \"submit-button\",\n      \"data-analytics-title\": \"Renew The Sapio Club\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 25\n      }\n    }, \"Renew Membership Now\"))))) : this.state.user.exp_date >= finalDate ? /*#__PURE__*/React.createElement(React.Fragment, null) : null))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(ScriptTag, {\n      type: \"text/javascript\",\n      src: \"../assets/js/built.js\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\nexport default Expired;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/Expired.js"],"names":["React","Component","Header","Link","Footer","PaystackConsumer","ScriptTag","AOS","QRCode","axios","swal","CardIcon","Avatar","newDate","Date","date","getDate","month","getMonth","finalDate","Expired","constructor","props","state","token","localStorage","JSON","parse","user","init","componentDidMount","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","setState","catch","error","console","render","configNGN","email","amount","currency","publicKey","componentPropsNGN","text","onSuccess","payment_ref","trxref","method","url","log","post","message","button","timer","history","push","onClose","exp_date","textAlign","fname","lname","marginBottom","initializePayment","buttons","cancel","value"],"mappings":"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","sourcesContent":["import React, { Component} from \"react\";\n\nimport Header from \"./common/Header\";\nimport { Link } from \"react-router-dom\";\nimport Footer from \"./common/Footer\";\nimport { PaystackConsumer } from \"react-paystack\";\n\nimport ScriptTag from \"react-script-tag\";\nimport AOS from \"aos\";\n\nimport QRCode from \"qrcode.react\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\n\nimport CardIcon from \"./assets/images/gold-card-image.png\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\n\nlet newDate = new Date()\nlet date = newDate.getDate();\nlet month = newDate.getMonth()+1;\n// let year = newDate.getFullYear();\n\nlet finalDate = date+\"/\"+month;\n\n// console.log(finalDate);\n\nexport class Expired extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n    };\n    AOS.init();\n  }\n\n  componentDidMount() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            user: json.data.user[0],\n          });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  render() {\n\n    const configNGN = {\n        // reference: (new Date()).getTime(),\n        email: \"hipheckt@gmail.com\",\n        // plan: this.state.plan,\n        amount: \"100000\" + \"00\",\n        currency: \"NGN\",\n        // publicKey: 'pk_live_68d2b6e9edacd11392f5548db9047ffb4911b39d',\n        publicKey: \"pk_test_a842c66ae323671a5e629e8970958560b65d3ad6\",\n      };\n  \n      const componentPropsNGN = {\n        ...configNGN,\n        text: \"Sapio Sibling Registration\",\n        onSuccess: (response) => {\n          // console.log(response);\n  \n          this.setState({\n            payment_ref: response.trxref,\n          });\n  \n          axios({\n            method: \"get\",\n            url: `https://api.paystack.co/transaction/verify/${this.state.payment_ref}`,\n            // headers: {'Authorization': `Bearer sk_live_5299c2d2e25663425657490251d1cec7d8c206aa`, 'Content-Type': 'application/json' }\n            headers: {\n              Authorization: `Bearer sk_test_b921c5ae7960bc5df7b895cad6b1f37ce0b29b73`,\n              \"Content-Type\": \"application/json\",\n            },\n          })\n            .then((response) => {\n              console.log(response);\n              return response;\n            })\n            .then((json) => {\n  \n             \n  \n              axios\n                .post(`${axios.defaults.baseURL}/renew/${this.state.user.id}`)\n                .then((response) => {\n                  //console.log(response);\n                  return response;\n                })\n                .then((json) => {\n                  if (json.data.success) {\n                    // alert(`Registration Successful!`);\n                    swal(\"Success!\", json.data.message, \"success\", {\n                      button: false,\n                      timer: 1500,\n                    });\n                    // redirect home\n                    this.props.history.push(\"/dashboard\");\n                  } else {\n                    // alert(`Registration Failed!`);\n                    swal(\"Failed\", \"Renewal Failed\", \"error\");\n                  }\n                })\n                .catch((error) => {\n                  // alert(\"An Error Occured!\" + error);\n                  swal(\"Error!\", \"An Error Occured\", \"error\", {\n                    button: false,\n                    // timer: 1500\n                  });\n                });\n            });\n        },\n        onClose: () => null,\n      };\n\n    return (\n      <body className=\"page-overview  ac-gn-current-music\">\n        <Header />\n        <label id=\"ac-ln-curtain\" for=\"ac-ln-menustate\"></label>\n        <main id=\"main\" className=\"main\" role=\"main\" data-page-type=\"overview\">\n          <div className=\"scroll-sequence\" data-component-list=\"ScrollSequence\">\n            <div className=\"sequence-container\">\n              <div className=\"image-sequence\">\n                <div className=\"canvas-container\"></div>\n              </div>\n            </div>\n          </div>\n          <section\n            id=\"section-hero\"\n            className=\"section section-hero theme-dark\"\n            data-anim-scroll-group=\"section-hero\"\n            data-analytics-fallback-section-engagement=\"name:hero\"\n            data-analytics-activitymap-region-id=\"hero\"\n          >\n            <br />\n            <div className=\"flex-copy-lockup\">\n            { this.state.user.exp_date <= finalDate ? (\n            <>\n              <div className=\"copy-block align-text col\" style={{textAlign:\"center\"}}>\n                <h4>\n                  Hi {this.state.user.fname} {this.state.user.lname} 😁, Your Membership has Expired!\n                </h4>\n                <p>Click the button below to Renew Membership (N100,000)!</p>\n\n                <div className=\"ac-ln-action ac-ln-action-button\" style={{marginBottom:\"200px\"}}>\n                <PaystackConsumer {...componentPropsNGN}>\n                      {({ initializePayment }) => (\n                        <button\n                          type=\"button\"\n                          onClick={() =>\n                            swal(\n                              \"You are about to pay a membership renewal fee of ₦100,000\",\n                              {\n                                buttons: {\n                                  cancel: \"No, Cancel\",\n                                  catch: {\n                                    text: \"Yes, Continue\",\n                                    value: \"catch\",\n                                  },\n                                },\n                              }\n                            ).then((value) => {\n                              switch (value) {\n                                case \"catch\":\n                                  initializePayment();\n                                  break;\n\n                                default:\n                              }\n                            })\n                          }\n                          className=\"submit-button\"\n                          data-analytics-title=\"Renew The Sapio Club\"\n                        >\n                          Renew Membership Now\n                        </button>\n                      )}\n                    </PaystackConsumer>\n                      </div>\n              </div>\n              </>\n            ): this.state.user.exp_date >= finalDate ? (\n                <>\n                \n                </>\n            )\n            \n            : null}\n              {/* CARD */}\n\n              {/* ENDCARD */}\n\n            </div>\n          </section>\n\n          {/* <QRCode value=\"http://facebook.github.io/react/\" /> */}\n        </main>\n        <Footer />\n        {/* Template Main JS File */}\n        <ScriptTag\n          type=\"text/javascript\"\n          src=\"../assets/js/built.js\"\n        />\n      </body>\n    );\n  }\n}\n\nexport default Expired;\n"]},"metadata":{},"sourceType":"module"}