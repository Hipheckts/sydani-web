{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"./common/Header\";import Sidebar from\"./common/Sidebar\";import{Link}from\"react-router-dom\";import NumberFormat from\"react-number-format\";import axios from\"axios\";import swal from\"sweetalert\";import $ from\"jquery\";export var Transactions=/*#__PURE__*/function(_Component){_inherits(Transactions,_Component);var _super=_createSuper(Transactions);function Transactions(props){var _this;_classCallCheck(this,Transactions);_this=_super.call(this,props);_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[],user_transactions:[]};return _this;}_createClass(Transactions,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUser();}},{key:\"getUser\",value:function getUser(){var _this2=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),{headers:{'Authorization':\"Bearer \".concat(this.state.token)}}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0],user_transactions:json.data.user_transactions});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");;}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});// alert(id)\n}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{id:\"app\",className:\"bg-gray-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"private-layout\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-wrapper\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{id:\"main-app\",className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-primary py-2 pt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-welcome\",style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper d-flex mt-2\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"d-inline-block\"},\"My Transactions\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right col-2\"}))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.user_transactions!=\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-stretch\"},/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"S/N\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Transaction Type\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Amount (\\u20A6)\"),/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Date\"))),/*#__PURE__*/React.createElement(\"tbody\",null,this.state.user_transactions.map(function(transaction,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,transaction.type),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:transaction.amount,displayType:'text',thousandSeparator:true,prefix:''})),/*#__PURE__*/React.createElement(\"td\",null,transaction.date));})))):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"You have no transactions yet.\"))))))));}}]);return Transactions;}(Component);export default Transactions;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/Transactions.js"],"names":["React","Component","Header","Sidebar","Link","NumberFormat","axios","swal","$","Transactions","props","state","token","localStorage","JSON","parse","user","user_transactions","getUser","get","defaults","baseURL","id","headers","then","response","json","data","success","setState","catch","error","console","overflow","isLoading","map","transaction","index","type","amount","date"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\n\nimport { Link } from \"react-router-dom\";\n\nimport NumberFormat from \"react-number-format\";\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nexport class Transactions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      user_transactions: []\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  getUser(){\n    axios\n            .get(`${axios.defaults.baseURL}/user/${JSON.parse(localStorage[\"appState\"]).user.id}`,\n            {\n              headers: {\n                'Authorization': `Bearer ${this.state.token}`\n              }\n            }\n            )\n            .then(response => {\n              //console.log(response);\n              return response;\n            })\n            .then(json => {\n              if (json.data.success) {\n                this.setState({ user: json.data.user[0], \n                    user_transactions: json.data.user_transactions });\n              // } else alert(\"Cannot Fetch Data!\");\n              } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");;\n            })\n            .catch(error => {\n              console.error(`An Error Occured! ${error}`);\n            });\n            // alert(id)\n  }\n\n  render() {\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <div className=\"wrapper d-flex mt-2\">\n                            <h4 className=\"d-inline-block\">\n                              My Transactions\n                            </h4>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white\"\n                    >\n                      <div className=\"dash-card-main bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.user_transactions != \"\" ? (\n                        <div className=\"align-items-stretch\">\n                          <table class=\"table\">\n\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">S/N</th>\n                        <th scope=\"col\">Transaction Type</th>\n                        <th scope=\"col\">Amount (â‚¦)</th>\n                        <th scope=\"col\">Date</th>\n                      </tr>\n                    </thead>\n                            <tbody>\n                              {this.state.user_transactions.map((transaction, index) => (\n                                <tr>\n                                  <td>{index+1}</td>\n                                  <td>{transaction.type}</td>\n                                  <td>\n                                  <NumberFormat value={transaction.amount} displayType={'text'} thousandSeparator={true} prefix={''} /></td>\n                                  <td>{transaction.date}</td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          You have no transactions yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Transactions;\n"]},"metadata":{},"sourceType":"module"}