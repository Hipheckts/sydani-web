{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{render}from\"react-dom\";import{BrowserRouter,Route,Switch,withRouter}from\"react-router-dom\";import axios from\"axios\";import{Link}from\"react-router-dom\";import swal from\"sweetalert\";import $ from\"jquery\";import PrivateRoute from\"./PrivateRoute\";import Home from\"./Home\";import Membership from\"./Membership\";import About from\"./About\";import Gallery from\"./Gallery\";import Event from\"./Event\";import Services from\"./Services\";import Contact from\"./Contact\";import Login from\"./auth/Login\";import Register from\"./auth/Register\";import Dashboard from\"./Dashboard\";import Referrals from\"./Referrals\";import Profile from\"./Profile\";// Admin Pages\nimport AdminLogin from\"./admin/AdminLogin\";import AdminDashboard from\"./admin/Dashboard\";import UsersList from\"./admin/Users\";import UserDetails from\"./admin/UserDetails\";import AdminProfile from\"./admin/Profile\";// Define App URL\naxios.defaults.baseURL='http://api.sapioclub.com/api/v1';// axios.defaults.baseURL = \"http://localhost:8000/api/v1\";\nvar App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this._loginAdmin=function(email,password){$(\"#login-form button\").attr(\"disabled\",\"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Logging In...</span>');var formData=new FormData();formData.append(\"email\",email);formData.append(\"password\",password);axios.post(\"\".concat(axios.defaults.baseURL,\"/admin-login\"),formData).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){// alert(json.data.message);\nswal(\"Success!\",json.data.message,\"success\",{button:false,timer:1500});var _json$data$user=json.data.user,id=_json$data$user.id,fname=_json$data$user.fname,lname=_json$data$user.lname,_email=_json$data$user.email,phone=_json$data$user.phone;var token=json.data.token.token;var userData={id:id,fname:fname,lname:lname,email:_email,phone:phone,token:token,timestamp:new Date().toString()};var appState={isLoggedIn:true,user:userData};// save app state with user date in local storage\nlocalStorage[\"appState\"]=JSON.stringify(appState);_this.setState({isLoggedIn:appState.isLoggedIn,user:appState.user,token:appState.token});// redirect home\n_this.props.history.push(\"/admin/dashboard\");}else swal(\"Error!\",json.data.message,\"error\");$(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");}).catch(function(error){// alert(`An Error Occured! ${error}`);\nswal(\"Login Failed!\",\"\"+error.response.data.message,\"error\",{button:false,timer:1500});$(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");});};_this._loginUser=function(email,password){$(\"#login-form button\").attr(\"disabled\",\"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Logging In...</span>');var formData=new FormData();formData.append(\"email\",email);formData.append(\"password\",password);axios.post(\"\".concat(axios.defaults.baseURL,\"/login\"),formData).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){// alert(json.data.message);\nswal(\"Success!\",json.data.message,\"success\",{button:false,timer:1500});var _json$data$user2=json.data.user,id=_json$data$user2.id,fname=_json$data$user2.fname,lname=_json$data$user2.lname,_email2=_json$data$user2.email,phone=_json$data$user2.phone;var token=json.data.token.token;var userData={id:id,fname:fname,lname:lname,email:_email2,phone:phone,token:token,timestamp:new Date().toString()};var appState={isLoggedIn:true,user:userData};// save app state with user date in local storage\nlocalStorage[\"appState\"]=JSON.stringify(appState);_this.setState({isLoggedIn:appState.isLoggedIn,user:appState.user,token:appState.token});// redirect home\n_this.props.history.push(\"/dashboard\");}else swal(\"Error!\",json.data.message,\"error\");$(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");}).catch(function(error){// alert(`An Error Occured! ${error}`);\nswal(\"Login Failed!\",\"\"+error.response.data.message,\"error\",{button:false,timer:1500});$(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");});};_this.state={isLoggedIn:false,user:{}};return _this;}_createClass(App,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(Switch,{data:\"data\"},/*#__PURE__*/React.createElement(\"div\",{id:\"main\"},/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/membership\",component:Membership}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/about\",component:About}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/gallery\",component:Gallery}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/events\",component:Event}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/benefits\",component:Services}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/contact\",component:Contact}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/login\",component:function component(props){return/*#__PURE__*/React.createElement(Login,Object.assign({},props,{loginUser:_this2._loginUser}));}}),/*#__PURE__*/React.createElement(Route,{path:\"/register\",component:function component(props){return/*#__PURE__*/React.createElement(Register,props);}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/dashboard\",component:function component(props){return/*#__PURE__*/React.createElement(Dashboard,props);}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/referrals\",component:function component(props){return/*#__PURE__*/React.createElement(Referrals,props);}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/profile\",component:Profile}),/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/admin\",component:function component(props){return/*#__PURE__*/React.createElement(AdminLogin,Object.assign({},props,{loginAdmin:_this2._loginAdmin}));}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/admin/dashboard\",component:function component(props){return/*#__PURE__*/React.createElement(AdminDashboard,props);}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/admin/profile\",component:function component(props){return/*#__PURE__*/React.createElement(AdminProfile,props);}}),/*#__PURE__*/React.createElement(PrivateRoute,{exact:true,path:\"/admin/users-list\",component:function component(props){return/*#__PURE__*/React.createElement(UsersList,props);}}),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/admin/user-details\",component:function component(props){return/*#__PURE__*/React.createElement(UserDetails,props);}})));}}]);return App;}(React.Component);var AppContainer=withRouter(function(props){return/*#__PURE__*/React.createElement(App,props);});// //console.log(store.getState())\nrender(/*#__PURE__*/React.createElement(BrowserRouter,null,/*#__PURE__*/React.createElement(AppContainer,null)),document.getElementById(\"root\"));","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/index.js"],"names":["React","render","BrowserRouter","Route","Switch","withRouter","axios","Link","swal","$","PrivateRoute","Home","Membership","About","Gallery","Event","Services","Contact","Login","Register","Dashboard","Referrals","Profile","AdminLogin","AdminDashboard","UsersList","UserDetails","AdminProfile","defaults","baseURL","App","props","_loginAdmin","email","password","attr","html","formData","FormData","append","post","then","response","json","data","success","message","button","timer","user","id","fname","lname","phone","token","userData","timestamp","Date","toString","appState","isLoggedIn","localStorage","JSON","stringify","setState","history","push","removeAttr","catch","error","_loginUser","state","Component","AppContainer","document","getElementById"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter, Route, Switch, withRouter } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\nimport PrivateRoute from \"./PrivateRoute\";\n\nimport Home from \"./Home\";\nimport Membership from \"./Membership\";\nimport About from \"./About\";\nimport Gallery from \"./Gallery\";\nimport Event from \"./Event\";\nimport Services from \"./Services\";\nimport Contact from \"./Contact\";\nimport Login from \"./auth/Login\";\nimport Register from \"./auth/Register\";\n\nimport Dashboard from \"./Dashboard\";\nimport Referrals from \"./Referrals\";\nimport Profile from \"./Profile\";\n\n// Admin Pages\n\nimport AdminLogin from \"./admin/AdminLogin\";\nimport AdminDashboard from \"./admin/Dashboard\";\nimport UsersList from \"./admin/Users\";\nimport UserDetails from \"./admin/UserDetails\";\nimport AdminProfile from \"./admin/Profile\";\n\n// Define App URL\naxios.defaults.baseURL = 'http://api.sapioclub.com/api/v1';\n// axios.defaults.baseURL = \"http://localhost:8000/api/v1\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoggedIn: false,\n      user: {},\n    };\n  }\n  _loginAdmin = (email, password) => {\n    $(\"#login-form button\")\n      .attr(\"disabled\", \"disabled\")\n      .html(\n        '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Logging In...</span>'\n      );\n    var formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n\n    axios\n      .post(`${axios.defaults.baseURL}/admin-login`, formData)\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          // alert(json.data.message);\n          swal(\"Success!\", json.data.message, \"success\", {\n            button: false,\n            timer: 1500,\n          });\n          const { id, fname, lname, email, phone } = json.data.user;\n          const { token } = json.data.token;\n\n          let userData = {\n            id,\n            fname,\n            lname,\n            email,\n            phone,\n            token,\n            timestamp: new Date().toString(),\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData,\n          };\n          // save app state with user date in local storage\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user,\n            token: appState.token,\n          });\n          // redirect home\n          this.props.history.push(\"/admin/dashboard\");\n        } else swal(\"Error!\", json.data.message, \"error\");\n        $(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");\n      })\n      .catch((error) => {\n        // alert(`An Error Occured! ${error}`);\n        swal(\"Login Failed!\", \"\" + error.response.data.message, \"error\", {\n          button: false,\n          timer: 1500,\n        });\n        $(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");\n      });\n  };\n\n  _loginUser = (email, password) => {\n    $(\"#login-form button\")\n      .attr(\"disabled\", \"disabled\")\n      .html(\n        '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Logging In...</span>'\n      );\n    var formData = new FormData();\n    formData.append(\"email\", email);\n    formData.append(\"password\", password);\n\n    axios\n      .post(`${axios.defaults.baseURL}/login`, formData)\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          // alert(json.data.message);\n          swal(\"Success!\", json.data.message, \"success\", {\n            button: false,\n            timer: 1500,\n          });\n          const { id, fname, lname, email, phone } = json.data.user;\n          const { token } = json.data.token;\n\n          let userData = {\n            id,\n            fname,\n            lname,\n            email,\n            phone,\n            token,\n            timestamp: new Date().toString(),\n          };\n          let appState = {\n            isLoggedIn: true,\n            user: userData,\n          };\n          // save app state with user date in local storage\n          localStorage[\"appState\"] = JSON.stringify(appState);\n          this.setState({\n            isLoggedIn: appState.isLoggedIn,\n            user: appState.user,\n            token: appState.token,\n          });\n          // redirect home\n          this.props.history.push(\"/dashboard\");\n        } else swal(\"Error!\", json.data.message, \"error\");\n        $(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");\n      })\n      .catch((error) => {\n        // alert(`An Error Occured! ${error}`);\n        swal(\"Login Failed!\", \"\" + error.response.data.message, \"error\", {\n          button: false,\n          timer: 1500,\n        });\n        $(\"#login-form button\").removeAttr(\"disabled\").html(\"Login\");\n      });\n  };\n\n  render() {\n    return (\n      <Switch data=\"data\">\n        <div id=\"main\">\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/membership\" component={Membership} />\n          <Route exact path=\"/about\" component={About} />\n          <Route exact path=\"/gallery\" component={Gallery} />\n          <Route exact path=\"/events\" component={Event} />\n          <Route exact path=\"/benefits\" component={Services} />\n          <Route exact path=\"/contact\" component={Contact} />\n\n          <Route\n            exact\n            path=\"/login\"\n            component={(props) => (\n              <Login {...props} loginUser={this._loginUser} />\n            )}\n          />\n          {/* <Route\n            path=\"/register\"\n            component={(props) => (\n              <Register {...props} registerUser={this._registerUser} />\n            )}\n          /> */}\n          <Route\n            path=\"/register\"\n            component={(props) => (\n              <Register {...props}/>\n            )}\n          />\n\n          <PrivateRoute\n            exact\n            path=\"/dashboard\"\n            component={(props) => <Dashboard {...props} />}\n          />\n          <PrivateRoute\n            exact\n            path=\"/referrals\"\n            component={(props) => <Referrals {...props} />}\n          />\n          <PrivateRoute exact path=\"/profile\" component={Profile} />\n\n          {/* Admin Routes */}\n          <Route\n            exact\n            path=\"/admin\"\n            component={(props) => (\n              <AdminLogin {...props} loginAdmin={this._loginAdmin} />\n            )}\n          />\n          <PrivateRoute\n            exact\n            path=\"/admin/dashboard\"\n            component={(props) => <AdminDashboard {...props} />}\n          />\n          <PrivateRoute\n            exact\n            path=\"/admin/profile\"\n            component={(props) => <AdminProfile {...props} />}\n          />\n\n          <PrivateRoute\n            exact\n            path=\"/admin/users-list\"\n            component={(props) => <UsersList {...props} />}\n          />\n          <PrivateRoute\n            path=\"/admin/user-details\"\n            component={(props) => <UserDetails {...props} />}\n          />\n        </div>\n      </Switch>\n    );\n  }\n}\n\nconst AppContainer = withRouter((props) => <App {...props} />);\n// //console.log(store.getState())\nrender(\n  <BrowserRouter>\n    <AppContainer />\n  </BrowserRouter>,\n\n  document.getElementById(\"root\")\n);\n"]},"metadata":{},"sourceType":"module"}