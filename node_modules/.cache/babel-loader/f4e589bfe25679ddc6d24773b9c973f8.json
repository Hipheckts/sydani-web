{"ast":null,"code":"var _jsxFileName = \"/Users/hipheckt/codes/evestng/react/src/admin/LandvestList.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\"; // import { Link } from \"react-router-dom\";\n\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport NumberFormat from 'react-number-format';\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\nimport { Link } from \"react-router-dom\";\nexport class LandvestList extends Component {\n  constructor(props) {\n    super(props);\n\n    this.queryField = e => {\n      e.preventDefault();\n      this.setState({\n        query: e.target.value\n      });\n      axios.get(`${axios.defaults.baseURL}/search-homes/${this.state.query}`).then(response => {\n        //console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.fetchHomes = e => {\n      axios.get(`${axios.defaults.baseURL}/lands`).then(response => {\n        //console.log(response);\n        return response;\n      }).then(json => {\n        if (json.data.success) {\n          this.setState({\n            homes: json.data.homes,\n            isLoading: false\n          });\n        } else alert(\"Fetching Homes Failed!\");\n      }).catch(error => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    };\n\n    this.state = {\n      homes: [],\n      currentPage: 1,\n      homesPerPage: 9,\n      query: \"\",\n      isLoading: true\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id)\n    });\n  }\n\n  componentDidMount() {\n    this.fetchHomes();\n  }\n\n  soldOut(id) {\n    axios({\n      method: 'get',\n      url: `${axios.defaults.baseURL}/land-soldout/${id}`\n    }).then(response => {\n      //console.log(response);\n      return response;\n    });\n  }\n\n  reActivate(id) {\n    axios({\n      method: 'get',\n      url: `${axios.defaults.baseURL}/land-activate/${id}`\n    }).then(response => {\n      //console.log(response);\n      return response;\n    });\n  }\n\n  render() {\n    const {\n      homes,\n      currentPage,\n      homesPerPage,\n      isLoading\n    } = this.state; // Logic for displaying homes\n\n    const homesList = this.state.homes;\n    const indexOfLastHome = currentPage * homesPerPage;\n    const indexOfFirstHome = indexOfLastHome - homesPerPage;\n    const currentHomes = homesList.slice(indexOfFirstHome, indexOfLastHome);\n    const renderHomes = currentHomes.map((home, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\",\n        key: home.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap dash-card-main bg-white position-relative\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap px-2 position-absolute w-100\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dash-card-main thumb bg-dark mt-2 shadow-xl bg-cover\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: home.image,\n        className: \"plan-img\",\n        alt: \"\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }))), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap p-4 pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row mt-1 mb-2 pt-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pt-2 col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h6\", {\n        className: \"text-primary mb-0 titlecase\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 7\n        }\n      }, home.name, \" @ \", /*#__PURE__*/React.createElement(NumberFormat, {\n        value: home.price,\n        displayType: 'text',\n        thousandSeparator: true,\n        prefix: '₦',\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 65\n        }\n      }), \" \", home.type), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"badge text-light badge-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 7\n        }\n      }, \"Duration: \", home.duration, \" \", home.type == \"monthly\" ? 'Months' : home.type == \"weekly\" ? 'Weeks' : home.type == \"daily\" ? 'Days' : null)))), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"mt-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"wrap px-4 pb-4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row no-gutters\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: {\n          pathname: `edit-land/${home.name}`\n        },\n        className: \"btn w-100 btn-primary\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 19\n        }\n      }, \"Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col mr-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 17\n        }\n      }, home.status == \"active\" ? /*#__PURE__*/React.createElement(Link, {\n        onClick: this.soldOut.bind(this, home.id),\n        className: \"btn w-100 btn-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 25\n        }\n      }, \"Sold Out\") : home.status == \"soldout\" ? /*#__PURE__*/React.createElement(Link, {\n        onClick: this.reActivate.bind(this, home.id),\n        className: \"btn w-100 btn-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 54\n        }\n      }, \"Re-Activate\") : null)))));\n    }); // Logic for displaying page numbers\n\n    const pageNumbers = [];\n\n    for (let i = 1; i <= Math.ceil(homes.length / homesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map(number => {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, number == currentPage ? /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pg-link active-link\",\n        key: number,\n        id: number,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 9\n        }\n      }, number) : /*#__PURE__*/React.createElement(\"li\", {\n        className: \"pg-link\",\n        key: number,\n        id: number,\n        onClick: this.handleClick,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 9\n        }\n      }, number));\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"app\",\n      className: \"bg-gray-200\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dashboard-page\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"private-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"app-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"main-app\",\n      className: \"position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row text-primary py-2 pt-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-10\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"user-welcome\",\n      style: {\n        overflow: \"hidden\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrapper d-flex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"d-inline-block\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 29\n      }\n    }, \"Landvest Lands\")), /*#__PURE__*/React.createElement(Link, {\n      to: \"/admin/new-land\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 27\n      }\n    }, \"Add New Land \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 42\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-right col-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 23\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row mt-4 align-items-stretch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 19\n      }\n    }, isLoading ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap dash-card-main bg-white position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap px-2 position-absolute w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-card-main mt-2 bg-cover blink_me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 31\n      }\n    }, \"Loading...\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap dash-card-main bg-white position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap px-2 position-absolute w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-card-main mt-2 bg-cover blink_me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 31\n      }\n    }, \"Loading...\")))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap dash-card-main bg-white position-relative\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 27\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wrap px-2 position-absolute w-100\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dash-card-main mt-2 bg-cover blink_me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 31\n      }\n    }, \"Loading...\"))))) : /*#__PURE__*/React.createElement(React.Fragment, null, renderHomes))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 19\n      }\n    }, renderPageNumbers), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 30\n      }\n    }))))));\n  }\n\n}\nexport default LandvestList;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/admin/LandvestList.js"],"names":["React","Component","axios","swal","$","NumberFormat","Header","Sidebar","Link","LandvestList","constructor","props","queryField","e","preventDefault","setState","query","target","value","get","defaults","baseURL","state","then","response","json","data","success","homes","alert","catch","error","console","fetchHomes","isLoading","currentPage","homesPerPage","handleClick","bind","event","Number","id","componentDidMount","soldOut","method","url","reActivate","render","homesList","indexOfLastHome","indexOfFirstHome","currentHomes","slice","renderHomes","map","home","index","image","name","price","type","duration","pathname","status","pageNumbers","i","Math","ceil","length","push","renderPageNumbers","number","overflow"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\n// import { Link } from \"react-router-dom\";\nimport swal from 'sweetalert';\nimport $ from \"jquery\";\nimport NumberFormat from 'react-number-format';\n\n\nimport Header from \"../common/Header\";\nimport Sidebar from \"./Sidebar\";\nimport { Link } from \"react-router-dom\";\n\n\nexport class LandvestList extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      homes: [],\n      currentPage: 1,\n      homesPerPage: 9,\n      query: \"\",\n      isLoading: true\n    };\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  queryField = (e) => {\n    e.preventDefault();\n    this.setState({\n      query: e.target.value,\n    });\n    axios\n      .get(`${axios.defaults.baseURL}/search-homes/${this.state.query}`)\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  handleClick(event) {\n    event.preventDefault();\n    this.setState({\n      currentPage: Number(event.target.id),\n    });\n  }\n\n  componentDidMount() {\n    this.fetchHomes();\n  }\n\n  fetchHomes = (e) => {\n    axios\n      .get(`${axios.defaults.baseURL}/lands`)\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({ homes: json.data.homes, isLoading: false });\n        } else alert(\"Fetching Homes Failed!\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n  };\n\n  soldOut(id) {\n\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/land-soldout/${id}`\n        })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n  };\n\n  reActivate(id) {\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/land-activate/${id}`\n        })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n  };\n\n  render() {\n    const { homes, currentPage, homesPerPage, isLoading } = this.state;\n\n    // Logic for displaying homes\n    const homesList = this.state.homes;\n    const indexOfLastHome = currentPage * homesPerPage;\n    const indexOfFirstHome = indexOfLastHome - homesPerPage;\n    const currentHomes = homesList.slice(indexOfFirstHome, indexOfLastHome);\n\n    const renderHomes = currentHomes.map((home, index) => {\n      return (\n        <div\n          className=\"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\"\n          key={home.id}\n        >\n          <div className=\"wrap dash-card-main bg-white position-relative\">\n            <div className=\"wrap px-2 position-absolute w-100\">\n              <div className=\"dash-card-main thumb bg-dark mt-2 shadow-xl bg-cover\">\n                <img\n                  src={home.image}\n                  className=\"plan-img\"\n                  alt=\"\"\n                />\n              </div>\n            </div>\n            <br />\n            <br />\n            <br />\n            <br />\n            <br />\n            <div className=\"wrap p-4 pt-5\">\n              <div className=\"row mt-1 mb-2 pt-5\">\n                <div className=\"pt-2 col\">\n      <h6 className=\"text-primary mb-0 titlecase\">{home.name} @ <NumberFormat value={home.price} displayType={'text'} thousandSeparator={true} prefix={'₦'} /> {home.type}</h6>\n      <span className=\"badge text-light badge-primary\">Duration: {home.duration} {\n        home.type == \"monthly\" ? ('Months') : home.type == \"weekly\" ? ('Weeks') : home.type == \"daily\" ? ('Days') : null\n      }</span>\n                </div>\n              </div>\n            </div>\n            <hr className=\"mt-0\"></hr>\n            <div className=\"wrap px-4 pb-4\">\n              <div className=\"row no-gutters\">\n                <div className=\"col mr-2\">\n                  <Link to={{pathname: `edit-land/${home.name}`}} className=\"btn w-100 btn-primary\">\n                    Edit\n                  </Link>\n                </div>\n                <div className=\"col mr-2\">\n                    { home.status == \"active\" ? (\n                        <Link onClick={this.soldOut.bind(this, home.id)} className=\"btn w-100 btn-danger\">\n                        Sold Out\n                      </Link>\n                    ) : home.status == \"soldout\"  ? (<Link onClick={this.reActivate.bind(this, home.id)} className=\"btn w-100 btn-warning\">\n                    Re-Activate\n                  </Link>) : null\n                    }\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    });\n\n    // Logic for displaying page numbers\n    const pageNumbers = [];\n    for (let i = 1; i <= Math.ceil(homes.length / homesPerPage); i++) {\n      pageNumbers.push(i);\n    }\n\n    const renderPageNumbers = pageNumbers.map((number) => {\n      return (\n        <>\n        { number == currentPage ? (\n        <li\n          className=\"pg-link active-link\"\n          key={number}\n          id={number}\n          onClick={this.handleClick}\n        >\n          {number}\n        </li> \n        ) :\n        <li\n          className=\"pg-link\"\n          key={number}\n          id={number}\n          onClick={this.handleClick}\n        >\n          {number}\n        </li> \n      }\n      </>\n      );\n    });\n\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <div className=\"wrapper d-flex\">\n                            <h4 className=\"d-inline-block\">Landvest Lands</h4>\n                          </div>\n                          <Link to=\"/admin/new-land\" className=\"btn btn-primary\">\n                            Add New Land <i className=\"fa fa-plus\"></i>\n                          </Link>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  <div className=\"row mt-4 align-items-stretch\">\n                    {/* Product Listing */}\n                    {isLoading ? (\n                      <>\n                        <div className=\"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\">\n                          <div className=\"wrap dash-card-main bg-white position-relative\">\n                            <div className=\"wrap px-2 position-absolute w-100\">\n                              <div className=\"dash-card-main mt-2 bg-cover blink_me\">\n                                Loading...\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\">\n                          <div className=\"wrap dash-card-main bg-white position-relative\">\n                            <div className=\"wrap px-2 position-absolute w-100\">\n                              <div className=\"dash-card-main mt-2 bg-cover blink_me\">\n                                Loading...\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                        <div className=\"mb-5 col-md-6 col-lg-6 col-xl-4 col-12 order-2\">\n                          <div className=\"wrap dash-card-main bg-white position-relative\">\n                            <div className=\"wrap px-2 position-absolute w-100\">\n                              <div className=\"dash-card-main mt-2 bg-cover blink_me\">\n                                Loading...\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </>\n                    ) : (\n                      <>{renderHomes}</>\n                    )}\n                    {/* End Product Listing */}\n                  </div>\n                </div>\n                  <div className=\"text-center\">\n                    {renderPageNumbers}\n                  </div><br/><br/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default LandvestList;\n"]},"metadata":{},"sourceType":"module"}