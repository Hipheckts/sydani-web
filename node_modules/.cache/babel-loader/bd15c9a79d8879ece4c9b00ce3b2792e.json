{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/evestng/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from\"axios\";import $ from\"jquery\";import{Link}from\"react-router-dom\";import swal from\"sweetalert\";import Header from\"./common/Header\";import Sidebar from\"./common/Sidebar\";import Avatar from\"./assets/img/default-user-avatar.png\";var _fname,_lname,_phone,_mstatus,_address,_dob,_password,_kfullname,_kemail,_kphone,_kaddress;export var Profile=/*#__PURE__*/function(_Component){_inherits(Profile,_Component);var _super=_createSuper(Profile);function Profile(props){var _this;_classCallCheck(this,Profile);_this=_super.call(this,props);// let { user } = this.props.appstate;\n_this.handleUpdate=function(e){e.preventDefault();$(\"#update-profile\").attr(\"disabled\",\"disabled\").html('<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>');var formData=new FormData();formData.append(\"fname\",_fname.value);formData.append(\"lname\",_lname.value);formData.append(\"phone\",_phone.value);formData.append(\"image\",_this.state.file);formData.append(\"password\",_password.value);formData.append(\"mstatus\",_mstatus.value);formData.append(\"address\",_address.value);formData.append(\"dob\",_dob.value);formData.append(\"kfullname\",_kfullname.value);formData.append(\"kemail\",_kemail.value);formData.append(\"kphone\",_kphone.value);formData.append(\"kaddress\",_kaddress.value);console.log(formData);axios({method:\"post\",url:\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),data:formData,headers:{Authorization:\"Bearer \".concat(_this.state.token),\"Content-Type\":\"multipart/form-data\"}}).then(function(response){console.log(response);return response;}).then(function(json){var _json$data$user=json.data.user,id=_json$data$user.id,fname=_json$data$user.fname,lname=_json$data$user.lname,email=_json$data$user.email,phone=_json$data$user.phone,mstatus=_json$data$user.mstatus,address=_json$data$user.address,dob=_json$data$user.dob,kfullname=_json$data$user.kfullname,kemail=_json$data$user.kemail,kphone=_json$data$user.kphone,kaddress=_json$data$user.kaddress;var token=json.data.token.token;var userData={id:id,fname:fname,lname:lname,email:email,phone:phone,mstatus:mstatus,address:address,dob:dob,kfullname:kfullname,kemail:kemail,kphone:kphone,kaddress:kaddress,token:token,timestamp:new Date().toString()};var appState={isLoggedIn:true,user:userData};// save app state with user date in local storage\nlocalStorage[\"appState\"]=JSON.stringify(appState);_this.setState({isLoggedIn:appState.isLoggedIn,user:appState.user,token:appState.token});if(json.data.success===true){swal(\"Updated!\",\"\"+json.data.message,\"success\",{button:false,timer:1500});$(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Profile\");// redirect home\n// this.props.history.push(\"/my-account\");\n}else{// alert(json.data.message);\nswal(\"Alert!\",\"\"+json.data.message,\"warning\");$(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Profile\");}}).catch(function(error){// alert(\"An Error Occured!\" + error);\nconsole.log(error.response.data);if(error.response.data.message.fname===\"\"){swal(\"Warning!\",\"\"+error.response.data.message.fname,\"warning\");}else{swal(\"Warning!\",\"Please fill all fields\",\"warning\");}$(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Profile\");});};_this.uploadPhoto=function(e){_this.photoUpload.click();};_this.onChange=function(event){_this.setState({imageSource:\"\",imageData:\"\",file:event.target.files[0]});var file=event.target.files[0];console.log(file);if(file){var reader=new FileReader();reader.readAsDataURL(event.target.files[0]);reader.onload=function(event){_this.setState({imageSource:event.target.result,imageData:file});};}};_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[],imageSource:\"\",file:null};_this.onChange=_this.onChange.bind(_assertThisInitialized(_this));return _this;}_createClass(Profile,[{key:\"componentDidMount\",value:function componentDidMount(){// console.log(id);\nthis.getUser();}},{key:\"getUser\",value:function getUser(){var _this2=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),{headers:{Authorization:\"Bearer \".concat(this.state.token)}}).then(function(response){console.log(response);return response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0]});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});}},{key:\"render\",value:function render(){var _this3=this;$(\"#fname-input\").attr(\"value\",this.state.user.fname);$(\"#lname-input\").attr(\"value\",this.state.user.lname);// $(\"#email-input\").attr(\"value\", this.state.user.email);\n$(\"#phone-input\").attr(\"value\",this.state.user.phone);$(\"#mstatus-input\").attr(\"value\",this.state.user.mstatus);$(\"#address-input\").attr(\"value\",this.state.user.address);$(\"#dob-input\").attr(\"value\",this.state.user.dob);$(\"#kfullname-input\").attr(\"value\",this.state.user.kfullname);$(\"#kemail-input\").attr(\"value\",this.state.user.kemail);$(\"#kphone-input\").attr(\"value\",this.state.user.kphone);$(\"#kaddress-input\").attr(\"value\",this.state.user.kaddress);return/*#__PURE__*/React.createElement(\"div\",{id:\"app\",className:\"bg-gray-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"private-layout\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-wrapper\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{id:\"main-app\",className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-4\"},/*#__PURE__*/React.createElement(\"div\",{\"data-v-4c22b934\":\"\"},/*#__PURE__*/React.createElement(\"div\",{\"data-v-4c22b934\":\"\",id:\"profile-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-primary py-2 pt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-welcome\",style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper d-flex\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"d-inline-block\"},\"My Profile\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right col-2\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"pb-5\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper dash-card bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"p-4 text-center\"},/*#__PURE__*/React.createElement(\"img\",{src:this.state.imageSource?this.state.imageSource:this.state.user.image?this.state.user.image:Avatar,id:\"user-logo\",className:\"shadow-xl user-avatar\"}),/*#__PURE__*/React.createElement(\"p\",{role:\"button\",onClick:this.uploadPhoto,style:{textDecoration:\"underline\",cursor:\"pointer\"}},\"Change Photo\")),/*#__PURE__*/React.createElement(\"hr\",{className:\"mt-0\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"px-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},\"Personal Data\")),/*#__PURE__*/React.createElement(\"form\",{id:\"reg\",action:\"\",onSubmit:this.handleUpdate,method:\"post\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _this3.photoUpload=input;},onChange:this.onChange,autoComplete:\"off\",id:\"image-input\",name:\"image\",type:\"file\",hidden:true}),/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"First Name\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _fname=input;},id:\"fname-input\",name:\"fname\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Last Name\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _lname=input;},id:\"lname-input\",name:\"lname\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Telphone\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _phone=input;},id:\"phone-input\",name:\"phone\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Marital Status\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"select\",{ref:function ref(input){return _mstatus=input;},id:\"mstatus-input\",name:\"mstatus\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",{value:\"Single\"},\"Single\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Married\"},\"Married\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Divorced\"},\"Divorced\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Widow\"},\"Widow\"),/*#__PURE__*/React.createElement(\"option\",{value:\"Widower\"},\"Widower\"))))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Residential Address\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _address=input;},id:\"address-input\",name:\"address\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Date of Birth\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _dob=input;},id:\"dob-input\",name:\"dob\",type:\"date\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Password\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _password=input;},id:\"password-input\",name:\"password\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\",placeholder:\"Enter New Password (leave blank to maintain old password)\"}))))),/*#__PURE__*/React.createElement(\"hr\",{className:\"mt-0\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"px-4\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-0\"},\"Next of Kin\")),/*#__PURE__*/React.createElement(\"div\",{className:\"p-4\"},/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Full Name\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _kfullname=input;},id:\"kfullname-input\",name:\"kfullname\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Email\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _kemail=input;},id:\"kemail-input\",name:\"kemail\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Telephone\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _kphone=input;},id:\"kphone-input\",name:\"kphone\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"fieldset\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-row\"},/*#__PURE__*/React.createElement(\"legend\",{tabindex:\"-1\",className:\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"},\"Address\"),/*#__PURE__*/React.createElement(\"div\",{tabindex:\"-1\",role:\"group\",className:\"bv-no-focus-ring col\"},/*#__PURE__*/React.createElement(\"input\",{ref:function ref(input){return _kaddress=input;},id:\"kaddress-input\",name:\"kaddress\",type:\"text\",\"aria-required\":\"true\",className:\"form-control\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-center\"},/*#__PURE__*/React.createElement(\"button\",{id:\"update-profile\",type:\"submit\",className:\"btn btn-primary my-4\"},\"Update Profile\"))))))))))))))));}}]);return Profile;}(Component);export default Profile;","map":{"version":3,"sources":["/Users/hipheckt/codes/evestng/react/src/Profile.js"],"names":["React","Component","axios","$","Link","swal","Header","Sidebar","Avatar","_fname","_lname","_phone","_mstatus","_address","_dob","_password","_kfullname","_kemail","_kphone","_kaddress","Profile","props","handleUpdate","e","preventDefault","attr","html","formData","FormData","append","value","state","file","console","log","method","url","defaults","baseURL","JSON","parse","localStorage","user","id","data","headers","Authorization","token","then","response","json","fname","lname","email","phone","mstatus","address","dob","kfullname","kemail","kphone","kaddress","userData","timestamp","Date","toString","appState","isLoggedIn","stringify","setState","success","message","button","timer","removeAttr","catch","error","uploadPhoto","photoUpload","click","onChange","event","imageSource","imageData","target","files","reader","FileReader","readAsDataURL","onload","result","bind","getUser","get","overflow","image","textDecoration","cursor","input"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\n\nimport axios from \"axios\";\nimport $ from \"jquery\";\nimport { Link } from \"react-router-dom\";\nimport swal from \"sweetalert\";\n\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\nimport Avatar from \"./assets/img/default-user-avatar.png\";\n\nvar _fname,\n  _lname,\n  _phone,\n  _mstatus,\n  _address,\n  _dob,\n  _password,\n  _kfullname,\n  _kemail,\n  _kphone,\n  _kaddress;\n\nexport class Profile extends Component {\n  constructor(props) {\n    super(props);\n    // let { user } = this.props.appstate;\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      imageSource: \"\",\n      file: null,\n    };\n    this.onChange = this.onChange.bind(this);\n  }\n\n  componentDidMount() {\n    // console.log(id);\n    this.getUser();\n  }\n\n  getUser(){\n    axios\n    .get(\n      `${axios.defaults.baseURL}/user/${\n        JSON.parse(localStorage[\"appState\"]).user.id\n      }`,\n      {\n        headers: {\n          Authorization: `Bearer ${this.state.token}`,\n        },\n      }\n    )\n    .then((response) => {\n      console.log(response);\n      return response;\n    })\n    .then((json) => {\n      if (json.data.success) {\n        this.setState({ user: json.data.user[0] });\n        // } else alert(\"Cannot Fetch Data!\");\n      } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n    })\n    .catch((error) => {\n      console.error(`An Error Occured! ${error}`);\n    });\n  }\n\n  handleUpdate = (e) => {\n    e.preventDefault();\n\n    $(\"#update-profile\")\n      .attr(\"disabled\", \"disabled\")\n      .html(\n        '<i class=\"fa fa-spinner fa-spin fa-1x fa-fw\"></i><span class=\"sr-only\">Loading...</span>'\n      );\n\n    var formData = new FormData();\n    formData.append(\"fname\", _fname.value);\n    formData.append(\"lname\", _lname.value);\n    formData.append(\"phone\", _phone.value);\n    formData.append(\"image\", this.state.file);\n    formData.append(\"password\", _password.value);\n    formData.append(\"mstatus\", _mstatus.value);\n    formData.append(\"address\", _address.value);\n    formData.append(\"dob\", _dob.value);\n    formData.append(\"kfullname\", _kfullname.value);\n    formData.append(\"kemail\", _kemail.value);\n    formData.append(\"kphone\", _kphone.value);\n    formData.append(\"kaddress\", _kaddress.value);\n\n    console.log(formData);\n\n    axios({\n      method: \"post\",\n      url: `${axios.defaults.baseURL}/user/${\n        JSON.parse(localStorage[\"appState\"]).user.id\n      }`,\n      data: formData,\n      headers: {\n        Authorization: `Bearer ${this.state.token}`,\n        \"Content-Type\": \"multipart/form-data\",\n      },\n    })\n      .then((response) => {\n        console.log(response);\n        return response;\n      })\n      .then((json) => {\n        const {\n          id,\n          fname,\n          lname,\n          email,\n          phone,\n          mstatus,\n          address,\n          dob,\n          kfullname,\n          kemail,\n          kphone,\n          kaddress,\n        } = json.data.user;\n        const { token } = json.data.token;\n        let userData = {\n          id,\n          fname,\n          lname,\n          email,\n          phone,\n          mstatus,\n          address,\n          dob,\n          kfullname,\n          kemail,\n          kphone,\n          kaddress,\n          token,\n          timestamp: new Date().toString(),\n        };\n        let appState = {\n          isLoggedIn: true,\n          user: userData,\n        };\n        // save app state with user date in local storage\n        localStorage[\"appState\"] = JSON.stringify(appState);\n        this.setState({\n          isLoggedIn: appState.isLoggedIn,\n          user: appState.user,\n          token: appState.token,\n        });\n\n        if (json.data.success === true) {\n          swal(\"Updated!\", \"\" + json.data.message, \"success\", {\n            button: false,\n            timer: 1500,\n          });\n          $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Profile\");\n          // redirect home\n          // this.props.history.push(\"/my-account\");\n        } else {\n          // alert(json.data.message);\n          swal(\"Alert!\", \"\" + json.data.message, \"warning\");\n          $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Profile\");\n        }\n      })\n      .catch((error) => {\n        // alert(\"An Error Occured!\" + error);\n        console.log(error.response.data);\n        if (error.response.data.message.fname === \"\") {\n          swal(\"Warning!\", \"\" + error.response.data.message.fname, \"warning\");\n        } else {\n          swal(\"Warning!\", \"Please fill all fields\", \"warning\");\n        }\n        $(\"#update-profile\").removeAttr(\"disabled\").html(\"Update Profile\");\n      });\n  };\n\n  // onChange(e) {\n  //   this.setState({file:e.target.files[0]});\n  // }\n\n  uploadPhoto = (e) => {\n    this.photoUpload.click();\n  };\n\n  onChange = (event) => {\n    this.setState({\n      imageSource: \"\",\n      imageData: \"\",\n      file: event.target.files[0],\n    });\n    const file = event.target.files[0];\n    console.log(file);\n\n    if (file) {\n      let reader = new FileReader();\n      reader.readAsDataURL(event.target.files[0]);\n      reader.onload = (event) => {\n        this.setState({\n          imageSource: event.target.result,\n          imageData: file,\n        });\n      };\n    }\n  };\n\n  render() {\n    $(\"#fname-input\").attr(\"value\", this.state.user.fname);\n    $(\"#lname-input\").attr(\"value\", this.state.user.lname);\n    // $(\"#email-input\").attr(\"value\", this.state.user.email);\n    $(\"#phone-input\").attr(\"value\", this.state.user.phone);\n    $(\"#mstatus-input\").attr(\"value\", this.state.user.mstatus);\n    $(\"#address-input\").attr(\"value\", this.state.user.address);\n    $(\"#dob-input\").attr(\"value\", this.state.user.dob);\n    $(\"#kfullname-input\").attr(\"value\", this.state.user.kfullname);\n    $(\"#kemail-input\").attr(\"value\", this.state.user.kemail);\n    $(\"#kphone-input\").attr(\"value\", this.state.user.kphone);\n    $(\"#kaddress-input\").attr(\"value\", this.state.user.kaddress);\n\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div data-v-4c22b934=\"\">\n                    <div data-v-4c22b934=\"\" id=\"profile-page\">\n                      <div className=\"page-title\">\n                        <div className=\"row text-primary py-2 pt-4\">\n                          <div className=\"col-10\">\n                            <div\n                              className=\"user-welcome\"\n                              style={{ overflow: \"hidden\" }}\n                            >\n                              <div className=\"wrapper d-flex\">\n                                <h4 className=\"d-inline-block\">My Profile</h4>\n                              </div>\n                            </div>\n                          </div>\n                          <div className=\"text-right col-2\"></div>\n                        </div>\n                      </div>\n                      <div className=\"pb-5\">\n                        <div className=\"row\">\n                          <div className=\"col-12\">\n                            <div className=\"wrapper dash-card bg-white\">\n                              <div className=\"p-4 text-center\">\n                                <img\n                                  src={\n                                    this.state.imageSource\n                                      ? this.state.imageSource :\n                                      this.state.user.image ?\n                                      this.state.user.image\n                                      : Avatar\n                                  }\n                                  id=\"user-logo\"\n                                  className=\"shadow-xl user-avatar\"\n                                />\n                                <p\n                                  role=\"button\"\n                                  onClick={this.uploadPhoto}\n                                  style={{\n                                    textDecoration: \"underline\",\n                                    cursor: \"pointer\",\n                                  }}\n                                >\n                                  Change Photo\n                                </p>\n                              </div>\n                              <hr className=\"mt-0\"></hr>\n                              <div className=\"px-4\">\n                                <h5 className=\"mb-0\">Personal Data</h5>\n                              </div>\n                              <form\n                                id=\"reg\"\n                                action=\"\"\n                                onSubmit={this.handleUpdate}\n                                method=\"post\"\n                              >\n                                <input\n                                  ref={(input) => (this.photoUpload = input)}\n                                  onChange={this.onChange}\n                                  autoComplete=\"off\"\n                                  id=\"image-input\"\n                                  name=\"image\"\n                                  type=\"file\"\n                                  hidden\n                                />\n                                <div className=\"p-4\">\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        First Name\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_fname = input)}\n                                          id=\"fname-input\"\n                                          name=\"fname\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Last Name\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_lname = input)}\n                                          id=\"lname-input\"\n                                          name=\"lname\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Telphone\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_phone = input)}\n                                          id=\"phone-input\"\n                                          name=\"phone\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Marital Status\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <select\n                                          ref={(input) => (_mstatus = input)}\n                                          id=\"mstatus-input\"\n                                          name=\"mstatus\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        >\n                                          <option value=\"Single\">Single</option>\n                                          <option value=\"Married\">Married</option>\n                                          <option value=\"Divorced\">Divorced</option>\n                                          <option value=\"Widow\">Widow</option>\n                                          <option value=\"Widower\">Widower</option>\n                                        </select>\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Residential Address\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_address = input)}\n                                          id=\"address-input\"\n                                          name=\"address\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Date of Birth\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_dob = input)}\n                                          id=\"dob-input\"\n                                          name=\"dob\"\n                                          type=\"date\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Password\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_password = input)}\n                                          id=\"password-input\"\n                                          name=\"password\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                          placeholder=\"Enter New Password (leave blank to maintain old password)\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                </div>\n                                <hr className=\"mt-0\"></hr>\n                                <div className=\"px-4\">\n                                  <h5 className=\"mb-0\">Next of Kin</h5>\n                                </div>\n                                <div className=\"p-4\">\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Full Name\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_kfullname = input)}\n                                          id=\"kfullname-input\"\n                                          name=\"kfullname\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Email\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_kemail = input)}\n                                          id=\"kemail-input\"\n                                          name=\"kemail\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Telephone\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_kphone = input)}\n                                          id=\"kphone-input\"\n                                          name=\"kphone\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <fieldset className=\"form-group\">\n                                    <div className=\"form-row\">\n                                      <legend\n                                        tabindex=\"-1\"\n                                        className=\"col-sm-4 col-lg-3 bv-no-focus-ring col-form-label\"\n                                      >\n                                        Address\n                                      </legend>\n                                      <div\n                                        tabindex=\"-1\"\n                                        role=\"group\"\n                                        className=\"bv-no-focus-ring col\"\n                                      >\n                                        <input\n                                          ref={(input) => (_kaddress = input)}\n                                          id=\"kaddress-input\"\n                                          name=\"kaddress\"\n                                          type=\"text\"\n                                          \n                                          aria-required=\"true\"\n                                          className=\"form-control\"\n                                        />\n                                      </div>\n                                    </div>\n                                  </fieldset>\n                                  <div className=\"text-center\">\n                                    <button\n                                      id=\"update-profile\"\n                                      type=\"submit\"\n                                      className=\"btn btn-primary my-4\"\n                                    >\n                                      Update Profile\n                                    </button>\n                                  </div>\n                                </div>\n                              </form>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}