{"ast":null,"code":"import _classCallCheck from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/hipheckt/codes/sapioclub/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import Header from\"./common/Header\";import Sidebar from\"./common/Sidebar\";import{Link}from\"react-router-dom\";import{CopyToClipboard}from'react-copy-to-clipboard';import NumberFormat from'react-number-format';import axios from\"axios\";import swal from\"sweetalert\";import $ from\"jquery\";export var Referrals=/*#__PURE__*/function(_Component){_inherits(Referrals,_Component);var _super=_createSuper(Referrals);function Referrals(props){var _this;_classCallCheck(this,Referrals);_this=_super.call(this,props);_this.state={token:localStorage[\"appState\"]?JSON.parse(localStorage[\"appState\"]).user.token:\"\",user:[],user_referrals:[],user_earnings:[],total_earnings:\"\",isLoading:true,copied:false};return _this;}_createClass(Referrals,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUser();}},{key:\"getUser\",value:function getUser(){var _this2=this;axios.get(\"\".concat(axios.defaults.baseURL,\"/user/\").concat(JSON.parse(localStorage[\"appState\"]).user.id),{headers:{Authorization:\"Bearer \".concat(this.state.token)}}).then(function(response){//console.log(response);\nreturn response;}).then(function(json){if(json.data.success){_this2.setState({user:json.data.user[0],user_referrals:json.data.user_referrals,user_earnings:json.data.user_earnings,total_earnings:json.data.total_earnings,isLoading:false});// } else alert(\"Cannot Fetch Data!\");\n}else swal(\"Oops!\",\"Cannot Fetch Data!\",\"error\");}).catch(function(error){console.error(\"An Error Occured! \".concat(error));});// alert(id)\n}},{key:\"requestPayment\",value:function requestPayment(id){axios({method:'get',url:\"\".concat(axios.defaults.baseURL,\"/request-ref-payment/\").concat(id)}).then(function(response){//console.log(response);\nreturn response;});this.getUser();}},{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"app\",className:\"bg-gray-200\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dashboard-page\"},/*#__PURE__*/React.createElement(\"div\",{className:\"private-layout\"},/*#__PURE__*/React.createElement(\"div\",{className:\"app-wrapper\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(Header,null),/*#__PURE__*/React.createElement(\"div\",{id:\"main-app\",className:\"position-relative\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"page-title\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row text-primary py-2 pt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-10\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-welcome\",style:{overflow:\"hidden\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"wrapper d-flex\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"d-inline-block\"},\"My Referrals\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"text-right col-2\"}))),/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\",class:\"wrapper p-4 bg-primary dash-card shadow-2xl\"},/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\",class:\"row\"},/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\",class:\"col-12\"},/*#__PURE__*/React.createElement(\"h3\",{\"data-v-c3744dc0\":\"\",class:\"text-white\"},\"Your Referral Link\"),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\",class:\"d-inline\"},/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\"})),/*#__PURE__*/React.createElement(\"p\",{\"data-v-c3744dc0\":\"\",class:\"text-white\"},\" \",\"Share with Friends and Family and Earn 5% when your referrals activate an Evest or Landvest Plan.\"),/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\",role:\"group\",class:\"input-group\"},/*#__PURE__*/React.createElement(\"input\",{\"data-v-c3744dc0\":\"\",id:\"ref-link\",value:this.state.user.ref_link,onChange:function onChange(_ref){var value=_ref.target.value;return _this3.setState({value:value,copied:false});},type:\"text\",class:\"form-control\",disabled:\"\",style:{textTransform:\"lowercase\"}}),/*#__PURE__*/React.createElement(\"div\",{\"data-v-c3744dc0\":\"\",class:\"input-group-append\"},/*#__PURE__*/React.createElement(CopyToClipboard,{text:this.state.user.ref_link,onCopy:function onCopy(){return _this3.setState({copied:true});}},/*#__PURE__*/React.createElement(\"button\",{\"data-v-c3744dc0\":\"\",type:\"button\",class:\"btn btn-secondary\",style:{backgroundColor:\"#000000\"}},\"Copy\")))),/*#__PURE__*/React.createElement(\"br\",null),this.state.copied?/*#__PURE__*/React.createElement(\"span\",{style:{color:'white'}},\"Referral Link has been Copied!\"):null))))),/*#__PURE__*/React.createElement(\"table\",{class:\"mt-4 table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Your Earnings\")))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.user_earnings!=\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-stretch\"},/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,this.state.user_earnings.map(function(earning,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,earning.date),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:earning.commission,displayType:'text',thousandSeparator:true,prefix:'₦'}),\" \"),earning.status==1?/*#__PURE__*/React.createElement(\"td\",null,\"Paid\"):earning.status==2?/*#__PURE__*/React.createElement(\"td\",null,\"Payment Requested\"):/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"text-primary\",style:{background:\"none\",border:\"none\"},onClick:_this3.requestPayment.bind(_this3,earning.id)},\"Click to Request Payment\")));}),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",null,\"Total Earnings\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(NumberFormat,{value:this.state.total_earnings,displayType:'text',thousandSeparator:true,prefix:'₦'}),\" \"))))):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"You have no earnings yet.\")),/*#__PURE__*/React.createElement(\"table\",{class:\"mt-4 table\"},/*#__PURE__*/React.createElement(\"thead\",{class:\"thead-dark\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{scope:\"col\"},\"Your Referrals\")))),this.state.isLoading?/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"dash-card-plan bg-white\"},/*#__PURE__*/React.createElement(\"div\",{className:\"dash-card-main bg-cover blink_me text-center\"},/*#__PURE__*/React.createElement(\"br\",null),\"Loading...\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null))):/*#__PURE__*/React.createElement(React.Fragment,null,this.state.user_referrals!=\"\"?/*#__PURE__*/React.createElement(\"div\",{className:\"align-items-stretch\"},/*#__PURE__*/React.createElement(\"table\",{class:\"table\"},/*#__PURE__*/React.createElement(\"tbody\",null,this.state.user_referrals.map(function(user,index){return/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,user.fname),/*#__PURE__*/React.createElement(\"td\",null,user.lname),/*#__PURE__*/React.createElement(\"td\",null,user.email));})))):/*#__PURE__*/React.createElement(\"div\",{\"data-v-22924209\":\"\",class:\"empty-placeholder dash-card bg-white\"},\"You have no referrals yet.\")))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"br\",null)))));}}]);return Referrals;}(Component);export default Referrals;","map":{"version":3,"sources":["/Users/hipheckt/codes/sapioclub/react/src/Referrals.js"],"names":["React","Component","Header","Sidebar","Link","CopyToClipboard","NumberFormat","axios","swal","$","Referrals","props","state","token","localStorage","JSON","parse","user","user_referrals","user_earnings","total_earnings","isLoading","copied","getUser","get","defaults","baseURL","id","headers","Authorization","then","response","json","data","success","setState","catch","error","console","method","url","overflow","ref_link","value","target","textTransform","backgroundColor","color","map","earning","index","date","commission","status","background","border","requestPayment","bind","fname","lname","email"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Header from \"./common/Header\";\nimport Sidebar from \"./common/Sidebar\";\n\nimport { Link } from \"react-router-dom\";\n\nimport {CopyToClipboard} from 'react-copy-to-clipboard';\n\nimport NumberFormat from 'react-number-format';\n\nimport axios from \"axios\";\nimport swal from \"sweetalert\";\nimport $ from \"jquery\";\n\nexport class Referrals extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      token: localStorage[\"appState\"]\n        ? JSON.parse(localStorage[\"appState\"]).user.token\n        : \"\",\n      user: [],\n      user_referrals: [],\n      user_earnings: [],\n      total_earnings: \"\",\n      isLoading: true,\n      copied: false,\n    };\n  }\n\n  componentDidMount() {\n    this.getUser();\n  }\n\n  getUser() {\n    axios\n      .get(\n        `${axios.defaults.baseURL}/user/${\n          JSON.parse(localStorage[\"appState\"]).user.id\n        }`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.state.token}`,\n          },\n        }\n      )\n      .then((response) => {\n        //console.log(response);\n        return response;\n      })\n      .then((json) => {\n        if (json.data.success) {\n          this.setState({\n            user: json.data.user[0],\n            user_referrals: json.data.user_referrals,\n            user_earnings: json.data.user_earnings,\n            total_earnings: json.data.total_earnings,\n            isLoading: false,\n          });\n          // } else alert(\"Cannot Fetch Data!\");\n        } else swal(\"Oops!\", \"Cannot Fetch Data!\", \"error\");\n      })\n      .catch((error) => {\n        console.error(`An Error Occured! ${error}`);\n      });\n    // alert(id)\n  }\n\n  requestPayment(id) {\n\n    axios({\n        method: 'get',\n        url: `${axios.defaults.baseURL}/request-ref-payment/${id}`\n        })\n      .then((response) => {\n        //console.log(response);\n        return response;\n      });\n      this.getUser();\n  };\n\n  render() {\n    return (\n      <div id=\"app\" className=\"bg-gray-200\">\n        <div className=\"dashboard-page\">\n          <div className=\"private-layout\">\n            <div className=\"app-wrapper\">\n              <Sidebar />\n              <Header />\n              <div id=\"main-app\" className=\"position-relative\">\n                <div className=\"container mt-4\">\n                  <div className=\"page-title\">\n                    <div className=\"row text-primary py-2 pt-4\">\n                      <div className=\"col-10\">\n                        <div\n                          className=\"user-welcome\"\n                          style={{ overflow: \"hidden\" }}\n                        >\n                          <div className=\"wrapper d-flex\">\n                            <h4 className=\"d-inline-block\">My Referrals</h4>\n                          </div>\n                        </div>\n                      </div>\n                      <div className=\"text-right col-2\"></div>\n                    </div>\n                  </div>\n                  <>\n                    <div>\n                      <div\n                        data-v-c3744dc0=\"\"\n                        class=\"wrapper p-4 bg-primary dash-card shadow-2xl\"\n                      >\n                        <div data-v-c3744dc0=\"\" class=\"row\">\n                          <div data-v-c3744dc0=\"\" class=\"col-12\">\n                            <h3 data-v-c3744dc0=\"\" class=\"text-white\">\n                              Your Referral Link\n                            </h3>\n                            <br />\n                            <div data-v-c3744dc0=\"\" class=\"d-inline\">\n                              <div data-v-c3744dc0=\"\">\n                                {/* <span\n                                    tabindex=\"0\"\n                                    data-link=\"#share-facebook\"\n                                    class=\"d-inline-block  mb-2\"\n                                  >\n                                    <button\n                                      type=\"button\"\n                                      class=\"btn btn-primary btn-sm\"\n                                    >\n                                      <i class=\"fab fa-facebook icon-fx\"></i>\n                                    </button>\n                                  </span>\n                                  <span\n                                    tabindex=\"0\"\n                                    data-link=\"#share-twitter\"\n                                    class=\"d-inline-block  mb-2\"\n                                  >\n                                    <button\n                                      type=\"button\"\n                                      class=\"btn btn-primary btn-sm\"\n                                    >\n                                      <i class=\"fab fa-twitter icon-fx\"></i>\n                                    </button>\n                                  </span>\n                                  <span\n                                    tabindex=\"0\"\n                                    data-link=\"#share-whatsapp\"\n                                    class=\"d-inline-block  mb-2\"\n                                  >\n                                    <button\n                                      type=\"button\"\n                                      class=\"btn btn-primary btn-sm\"\n                                    >\n                                      <i class=\"fab fa-whatsapp icon-fx\"></i>\n                                    </button>\n                                  </span> \n                                  <span\n                                    tabindex=\"0\"\n                                    data-link=\"#share-linkedin\"\n                                    class=\"d-inline-block  mb-2\"\n                                  >\n                                    <button\n                                      type=\"button\"\n                                      class=\"btn btn-primary btn-sm\"\n                                    >\n                                      <i class=\"fab fa-linkedin icon-fx\"></i>\n                                    </button>\n                                  </span>*/}\n                              </div>\n                            </div>\n                            <p data-v-c3744dc0=\"\" class=\"text-white\">\n                              {\" \"}\n                              Share with Friends and Family and Earn 5% when\n                              your referrals activate an Evest or Landvest Plan.\n                            </p>\n                            <div\n                              data-v-c3744dc0=\"\"\n                              role=\"group\"\n                              class=\"input-group\"\n                            >\n                              <input\n                                data-v-c3744dc0=\"\"\n                                id=\"ref-link\"\n                                value={this.state.user.ref_link}\n                                onChange={({target: {value}}) => this.setState({value, copied: false})}\n                                type=\"text\"\n                                class=\"form-control\"\n                                disabled=\"\"\n                                style={{textTransform:\"lowercase\"}}\n                              />\n                              <div\n                                data-v-c3744dc0=\"\"\n                                class=\"input-group-append\"\n                              >\n                                  <CopyToClipboard text={this.state.user.ref_link}\n                                onCopy={() => this.setState({copied: true})}>\n                                <button\n                                  data-v-c3744dc0=\"\"\n                                  type=\"button\"\n                                  class=\"btn btn-secondary\"\n                                  style={{ backgroundColor: \"#000000\" }}\n                                >\n                                  Copy\n                                </button>\n                                </CopyToClipboard>\n                              </div>\n                            </div>\n                                <br/>\n                              {this.state.copied ? <span style={{color: 'white'}}>Referral Link has been Copied!</span> : null}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </>\n                  <table class=\"mt-4 table\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">Your Earnings</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white\"\n                    >\n                      <div className=\"dash-card-main bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.user_earnings != \"\" ? (\n                        <div className=\"align-items-stretch\">\n                          <table class=\"table\">\n                            <tbody>\n                              {this.state.user_earnings.map((earning, index) => (\n                                <tr>\n                                  <td>{earning.date}</td>\n                                  <td><NumberFormat value={earning.commission} displayType={'text'} thousandSeparator={true} prefix={'₦'} /> </td>\n                                  \n                                  {earning.status == 1 ?\n                                  <td>Paid</td>\n                                  :earning.status == 2 ?\n                                  <td>Payment Requested</td>\n                                  : <td>\n                                      <button\n                                      className=\"text-primary\"\n                                      style={{background:\"none\", border:\"none\"}}\n                                      onClick={this.requestPayment.bind(this, earning.id)}\n                                      >\n                                          Click to Request Payment\n                                      </button>\n                                  </td>\n                                }\n                                </tr>\n                              ))}\n                              <tr>\n                                  <td><b>Total Earnings</b></td>\n                                  <td><NumberFormat value={this.state.total_earnings} displayType={'text'} thousandSeparator={true} prefix={'₦'} /> </td>\n                                </tr>\n                            </tbody>\n                          </table>\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          You have no earnings yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                  <table class=\"mt-4 table\">\n                    <thead class=\"thead-dark\">\n                      <tr>\n                        <th scope=\"col\">Your Referrals</th>\n                      </tr>\n                    </thead>\n                  </table>\n                  {this.state.isLoading ? (\n                    <div\n                      data-v-22924209=\"\"\n                      class=\"dash-card-plan bg-white\"\n                    >\n                      <div className=\"dash-card-main bg-cover blink_me text-center\">\n                        <br />\n                        Loading...\n                        <br />\n                        <br />\n                      </div>\n                    </div>\n                  ) : (\n                    <>\n                      {this.state.user_referrals != \"\" ? (\n                        <div className=\"align-items-stretch\">\n                          <table class=\"table\">\n                            <tbody>\n                              {this.state.user_referrals.map((user, index) => (\n                                <tr>\n                                  <td>{index+1}</td>\n                                  <td>{user.fname}</td>\n                                  <td>{user.lname}</td>\n                                  <td>{user.email}</td>\n                                </tr>\n                              ))}\n                            </tbody>\n                          </table>\n                        </div>\n                      ) : (\n                        <div\n                          data-v-22924209=\"\"\n                          class=\"empty-placeholder dash-card bg-white\"\n                        >\n                          You have no referrals yet.\n                        </div>\n                      )}\n                    </>\n                  )}\n                </div>\n              </div>\n              <br />\n              <br />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Referrals;\n"]},"metadata":{},"sourceType":"module"}